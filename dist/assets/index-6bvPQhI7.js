(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function Zv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Jd={exports:{}},wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function vA(){if(a0)return wl;a0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:f,ref:l!==void 0?l:null,props:u}}return wl.Fragment=e,wl.jsx=n,wl.jsxs=n,wl}var o0;function EA(){return o0||(o0=1,Jd.exports=vA()),Jd.exports}var A=EA(),Zd={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function TA(){if(l0)return Ee;l0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function B(R){return R===null||typeof R!="object"?null:(R=x&&R[x]||R["@@iterator"],typeof R=="function"?R:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,Z={};function ce(R,F,te){this.props=R,this.context=F,this.refs=Z,this.updater=te||J}ce.prototype.isReactComponent={},ce.prototype.setState=function(R,F){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,F,"setState")},ce.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function me(){}me.prototype=ce.prototype;function ue(R,F,te){this.props=R,this.context=F,this.refs=Z,this.updater=te||J}var Ve=ue.prototype=new me;Ve.constructor=ue,W(Ve,ce.prototype),Ve.isPureReactComponent=!0;var Ge=Array.isArray;function Le(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function N(R,F,te){var ie=te.ref;return{$$typeof:s,type:R,key:F,ref:ie!==void 0?ie:null,props:te}}function V(R,F){return N(R.type,F,R.props)}function O(R){return typeof R=="object"&&R!==null&&R.$$typeof===s}function L(R){var F={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(te){return F[te]})}var I=/\/+/g;function nt(R,F){return typeof R=="object"&&R!==null&&R.key!=null?L(""+R.key):F.toString(36)}function ct(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Le,Le):(R.status="pending",R.then(function(F){R.status==="pending"&&(R.status="fulfilled",R.value=F)},function(F){R.status==="pending"&&(R.status="rejected",R.reason=F)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function G(R,F,te,ie,_e){var Se=typeof R;(Se==="undefined"||Se==="boolean")&&(R=null);var Ue=!1;if(R===null)Ue=!0;else switch(Se){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(R.$$typeof){case s:case e:Ue=!0;break;case T:return Ue=R._init,G(Ue(R._payload),F,te,ie,_e)}}if(Ue)return _e=_e(R),Ue=ie===""?"."+nt(R,0):ie,Ge(_e)?(te="",Ue!=null&&(te=Ue.replace(I,"$&/")+"/"),G(_e,F,te,"",function(pr){return pr})):_e!=null&&(O(_e)&&(_e=V(_e,te+(_e.key==null||R&&R.key===_e.key?"":(""+_e.key).replace(I,"$&/")+"/")+Ue)),F.push(_e)),1;Ue=0;var Ot=ie===""?".":ie+":";if(Ge(R))for(var ot=0;ot<R.length;ot++)ie=R[ot],Se=Ot+nt(ie,ot),Ue+=G(ie,F,te,Se,_e);else if(ot=B(R),typeof ot=="function")for(R=ot.call(R),ot=0;!(ie=R.next()).done;)ie=ie.value,Se=Ot+nt(ie,ot++),Ue+=G(ie,F,te,Se,_e);else if(Se==="object"){if(typeof R.then=="function")return G(ct(R),F,te,ie,_e);throw F=String(R),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ne(R,F,te){if(R==null)return R;var ie=[],_e=0;return G(R,ie,"","",function(Se){return F.call(te,Se,_e++)}),ie}function he(R){if(R._status===-1){var F=R._result;F=F(),F.then(function(te){(R._status===0||R._status===-1)&&(R._status=1,R._result=te)},function(te){(R._status===0||R._status===-1)&&(R._status=2,R._result=te)}),R._status===-1&&(R._status=0,R._result=F)}if(R._status===1)return R._result.default;throw R._result}var Ie=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},ze={map:ne,forEach:function(R,F,te){ne(R,function(){F.apply(this,arguments)},te)},count:function(R){var F=0;return ne(R,function(){F++}),F},toArray:function(R){return ne(R,function(F){return F})||[]},only:function(R){if(!O(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Ee.Activity=S,Ee.Children=ze,Ee.Component=ce,Ee.Fragment=n,Ee.Profiler=l,Ee.PureComponent=ue,Ee.StrictMode=r,Ee.Suspense=g,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(R){return D.H.useMemoCache(R)}},Ee.cache=function(R){return function(){return R.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(R,F,te){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ie=W({},R.props),_e=R.key;if(F!=null)for(Se in F.key!==void 0&&(_e=""+F.key),F)!w.call(F,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&F.ref===void 0||(ie[Se]=F[Se]);var Se=arguments.length-2;if(Se===1)ie.children=te;else if(1<Se){for(var Ue=Array(Se),Ot=0;Ot<Se;Ot++)Ue[Ot]=arguments[Ot+2];ie.children=Ue}return N(R.type,_e,ie)},Ee.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},Ee.createElement=function(R,F,te){var ie,_e={},Se=null;if(F!=null)for(ie in F.key!==void 0&&(Se=""+F.key),F)w.call(F,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(_e[ie]=F[ie]);var Ue=arguments.length-2;if(Ue===1)_e.children=te;else if(1<Ue){for(var Ot=Array(Ue),ot=0;ot<Ue;ot++)Ot[ot]=arguments[ot+2];_e.children=Ot}if(R&&R.defaultProps)for(ie in Ue=R.defaultProps,Ue)_e[ie]===void 0&&(_e[ie]=Ue[ie]);return N(R,Se,_e)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(R){return{$$typeof:p,render:R}},Ee.isValidElement=O,Ee.lazy=function(R){return{$$typeof:T,_payload:{_status:-1,_result:R},_init:he}},Ee.memo=function(R,F){return{$$typeof:y,type:R,compare:F===void 0?null:F}},Ee.startTransition=function(R){var F=D.T,te={};D.T=te;try{var ie=R(),_e=D.S;_e!==null&&_e(te,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Le,Ie)}catch(Se){Ie(Se)}finally{F!==null&&te.types!==null&&(F.types=te.types),D.T=F}},Ee.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ee.use=function(R){return D.H.use(R)},Ee.useActionState=function(R,F,te){return D.H.useActionState(R,F,te)},Ee.useCallback=function(R,F){return D.H.useCallback(R,F)},Ee.useContext=function(R){return D.H.useContext(R)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(R,F){return D.H.useDeferredValue(R,F)},Ee.useEffect=function(R,F){return D.H.useEffect(R,F)},Ee.useEffectEvent=function(R){return D.H.useEffectEvent(R)},Ee.useId=function(){return D.H.useId()},Ee.useImperativeHandle=function(R,F,te){return D.H.useImperativeHandle(R,F,te)},Ee.useInsertionEffect=function(R,F){return D.H.useInsertionEffect(R,F)},Ee.useLayoutEffect=function(R,F){return D.H.useLayoutEffect(R,F)},Ee.useMemo=function(R,F){return D.H.useMemo(R,F)},Ee.useOptimistic=function(R,F){return D.H.useOptimistic(R,F)},Ee.useReducer=function(R,F,te){return D.H.useReducer(R,F,te)},Ee.useRef=function(R){return D.H.useRef(R)},Ee.useState=function(R){return D.H.useState(R)},Ee.useSyncExternalStore=function(R,F,te){return D.H.useSyncExternalStore(R,F,te)},Ee.useTransition=function(){return D.H.useTransition()},Ee.version="19.2.4",Ee}var u0;function Km(){return u0||(u0=1,Zd.exports=TA()),Zd.exports}var ae=Km();const bA=Zv(ae);var Wd={exports:{}},Rl={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function AA(){return c0||(c0=1,(function(s){function e(G,ne){var he=G.length;G.push(ne);e:for(;0<he;){var Ie=he-1>>>1,ze=G[Ie];if(0<l(ze,ne))G[Ie]=ne,G[he]=ze,he=Ie;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ne=G[0],he=G.pop();if(he!==ne){G[0]=he;e:for(var Ie=0,ze=G.length,R=ze>>>1;Ie<R;){var F=2*(Ie+1)-1,te=G[F],ie=F+1,_e=G[ie];if(0>l(te,he))ie<ze&&0>l(_e,te)?(G[Ie]=_e,G[ie]=he,Ie=ie):(G[Ie]=te,G[F]=he,Ie=F);else if(ie<ze&&0>l(_e,he))G[Ie]=_e,G[ie]=he,Ie=ie;else break e}}return ne}function l(G,ne){var he=G.sortIndex-ne.sortIndex;return he!==0?he:G.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();s.unstable_now=function(){return f.now()-p}}var g=[],y=[],T=1,S=null,x=3,B=!1,J=!1,W=!1,Z=!1,ce=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function Ve(G){for(var ne=n(y);ne!==null;){if(ne.callback===null)r(y);else if(ne.startTime<=G)r(y),ne.sortIndex=ne.expirationTime,e(g,ne);else break;ne=n(y)}}function Ge(G){if(W=!1,Ve(G),!J)if(n(g)!==null)J=!0,Le||(Le=!0,L());else{var ne=n(y);ne!==null&&ct(Ge,ne.startTime-G)}}var Le=!1,D=-1,w=5,N=-1;function V(){return Z?!0:!(s.unstable_now()-N<w)}function O(){if(Z=!1,Le){var G=s.unstable_now();N=G;var ne=!0;try{e:{J=!1,W&&(W=!1,me(D),D=-1),B=!0;var he=x;try{t:{for(Ve(G),S=n(g);S!==null&&!(S.expirationTime>G&&V());){var Ie=S.callback;if(typeof Ie=="function"){S.callback=null,x=S.priorityLevel;var ze=Ie(S.expirationTime<=G);if(G=s.unstable_now(),typeof ze=="function"){S.callback=ze,Ve(G),ne=!0;break t}S===n(g)&&r(g),Ve(G)}else r(g);S=n(g)}if(S!==null)ne=!0;else{var R=n(y);R!==null&&ct(Ge,R.startTime-G),ne=!1}}break e}finally{S=null,x=he,B=!1}ne=void 0}}finally{ne?L():Le=!1}}}var L;if(typeof ue=="function")L=function(){ue(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,nt=I.port2;I.port1.onmessage=O,L=function(){nt.postMessage(null)}}else L=function(){ce(O,0)};function ct(G,ne){D=ce(function(){G(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(G){switch(x){case 1:case 2:case 3:var ne=3;break;default:ne=x}var he=x;x=ne;try{return G()}finally{x=he}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var he=x;x=G;try{return ne()}finally{x=he}},s.unstable_scheduleCallback=function(G,ne,he){var Ie=s.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ie+he:Ie):he=Ie,G){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=he+ze,G={id:T++,callback:ne,priorityLevel:G,startTime:he,expirationTime:ze,sortIndex:-1},he>Ie?(G.sortIndex=he,e(y,G),n(g)===null&&G===n(y)&&(W?(me(D),D=-1):W=!0,ct(Ge,he-Ie))):(G.sortIndex=ze,e(g,G),J||B||(J=!0,Le||(Le=!0,L()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var ne=x;return function(){var he=x;x=ne;try{return G.apply(this,arguments)}finally{x=he}}}})(tm)),tm}var h0;function SA(){return h0||(h0=1,em.exports=AA()),em.exports}var nm={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function wA(){if(f0)return $t;f0=1;var s=Km();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:y,implementation:T}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,T)},$t.flushSync=function(g){var y=f.T,T=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=y,r.p=T,r.d.f()}},$t.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},$t.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},$t.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:B}):T==="script"&&r.d.X(g,{crossOrigin:S,integrity:x,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$t.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},$t.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=p(T,y.crossOrigin);r.d.L(g,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$t.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},$t.requestFormReset=function(g){r.d.r(g)},$t.unstable_batchedUpdates=function(g,y){return g(y)},$t.useFormState=function(g,y,T){return f.H.useFormState(g,y,T)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.4",$t}var d0;function RA(){if(d0)return nm.exports;d0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),nm.exports=wA(),nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function xA(){if(m0)return Rl;m0=1;var s=SA(),e=Km(),n=RA();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===o)return g(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=d;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,o=d;break}if(E===o){_=!0,o=h,a=d;break}E=E.sibling}if(!_){for(E=d.child;E;){if(E===a){_=!0,a=d,o=h;break}if(E===o){_=!0,o=d,a=h;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),me=Symbol.for("react.consumer"),ue=Symbol.for("react.context"),Ve=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case ce:return"Profiler";case Z:return"StrictMode";case Ge:return"Suspense";case Le:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case ue:return t.displayName||"Context";case me:return(t._context.displayName||"Context")+".Consumer";case Ve:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:nt(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return nt(t(i))}catch{}}return null}var ct=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ie=[],ze=-1;function R(t){return{current:t}}function F(t){0>ze||(t.current=Ie[ze],Ie[ze]=null,ze--)}function te(t,i){ze++,Ie[ze]=t.current,t.current=i}var ie=R(null),_e=R(null),Se=R(null),Ue=R(null);function Ot(t,i){switch(te(Se,i),te(_e,t),te(ie,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?C_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=C_(i),t=N_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(ie),te(ie,t)}function ot(){F(ie),F(_e),F(Se)}function pr(t){t.memoizedState!==null&&te(Ue,t);var i=ie.current,a=N_(i,t.type);i!==a&&(te(_e,t),te(ie,a))}function sa(t){_e.current===t&&(F(ie),F(_e)),Ue.current===t&&(F(Ue),Tl._currentValue=he)}var ra,aa;function ti(t){if(ra===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ra=i&&i[1]||"",aa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ra+t+aa}var To=!1;function gr(t,i){if(!t||To)return"";To=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var z=H}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(H){z=H}t.call(Y.prototype)}}else{try{throw Error()}catch(H){z=H}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],E=d[1];if(_&&E){var C=_.split(`
`),j=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var K=`
`+C[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=h);break}}}finally{To=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ti(a):""}function bo(t,i){switch(t.tag){case 26:case 27:case 5:return ti(t.type);case 16:return ti("Lazy");case 13:return t.child!==i&&i!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return gr(t.type,!1);case 11:return gr(t.type.render,!1);case 1:return gr(t.type,!0);case 31:return ti("Activity");default:return""}}function Ao(t){try{var i="",a=null;do i+=bo(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Et=Object.prototype.hasOwnProperty,Mt=s.unstable_scheduleCallback,fs=s.unstable_cancelCallback,Zh=s.unstable_shouldYield,du=s.unstable_requestPaint,tn=s.unstable_now,yr=s.unstable_getCurrentPriorityLevel,So=s.unstable_ImmediatePriority,wo=s.unstable_UserBlockingPriority,ds=s.unstable_NormalPriority,Wh=s.unstable_LowPriority,mu=s.unstable_IdlePriority,pu=s.log,gu=s.unstable_setDisableYieldValue,jn=null,Bt=null;function Sn(t){if(typeof pu=="function"&&gu(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(jn,t)}catch{}}var mt=Math.clz32?Math.clz32:_u,yu=Math.log,oa=Math.LN2;function _u(t){return t>>>=0,t===0?32:31-(yu(t)/oa|0)|0}var ni=256,_r=262144,Tt=4194304;function ii(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function si(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~d,o!==0?h=ii(o):(_&=E,_!==0?h=ii(_):a||(a=E&~t,a!==0&&(h=ii(a))))):(E=o&~d,E!==0?h=ii(E):_!==0?h=ii(_):a||(a=o&~t,a!==0&&(h=ii(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function zn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ef(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function ri(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function vr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tf(t,i,a,o,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,j=t.hiddenUpdates;for(a=_&~a;0<a;){var K=31-mt(a),Y=1<<K;E[K]=0,C[K]=-1;var z=j[K];if(z!==null)for(j[K]=null,K=0;K<z.length;K++){var H=z[K];H!==null&&(H.lane&=-536870913)}a&=~Y}o!==0&&Er(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Er(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-mt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ro(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-mt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function xo(t,i){var a=i&-i;return a=(a&42)!==0?1:Tr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Tr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Oi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Eu(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:W_(t.type))}function Bn(t,i){var a=ne.p;try{return ne.p=t,i()}finally{ne.p=a}}var qn=Math.random().toString(36).slice(2),bt="__reactFiber$"+qn,Lt="__reactProps$"+qn,ai="__reactContainer$"+qn,la="__reactEvents$"+qn,nf="__reactListeners$"+qn,Tu="__reactHandles$"+qn,bu="__reactResources$"+qn,oi="__reactMarker$"+qn;function ua(t){delete t[bt],delete t[Lt],delete t[la],delete t[nf],delete t[Tu]}function li(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ai]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=U_(t);t!==null;){if(a=t[bt])return a;t=U_(t)}return i}t=a,a=t.parentNode}return null}function wn(t){if(t=t[bt]||t[ai]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function mn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function ui(t){var i=t[bu];return i||(i=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[oi]=!0}var Io=new Set,Co={};function ci(t,i){hi(t,i),hi(t+"Capture",i)}function hi(t,i){for(Co[t]=i,t=0;t<i.length;t++)Io.add(i[t])}var No=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},Oo={};function Au(t){return Et.call(Oo,t)?!0:Et.call(Do,t)?!1:No.test(t)?Oo[t]=!0:(Do[t]=!0,!1)}function ca(t,i,a){if(Au(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function pn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ms(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Mo(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=ms(t)?"checked":"value";t._valueTracker=Mo(t,i,""+t[i])}}function br(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=ms(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function fi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ar=/[\n"\\]/g;function rn(t){return t.replace(Ar,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ha(t,i,a,o,h,d,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ut(i)):t.value!==""+Ut(i)&&(t.value=""+Ut(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Vo(t,_,Ut(i)):a!=null?Vo(t,_,Ut(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ut(E):t.removeAttribute("name")}function Su(t,i,a,o,h,d,_,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ye(t);return}a=a!=null?""+Ut(a):"",i=i!=null?""+Ut(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function Vo(t,i,a){i==="number"&&fi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ps(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function wu(t,i,a){if(i!=null&&(i=""+Ut(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ut(a):""}function gs(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(ct(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Ut(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ye(t)}function an(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Ru.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Lo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&ko(t,h,o)}else for(var d in i)i.hasOwnProperty(d)&&ko(t,d,i[d])}function fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(t){return ys.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Hn(){}var Uo=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _s=null,di=null;function Sr(t){var i=wn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ha(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Lt]||null;if(!h)throw Error(r(90));ha(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&br(o)}break e;case"textarea":wu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ps(t,!!a.multiple,i,!1)}}}var ma=!1;function vs(t,i,a){if(ma)return t(i,a);ma=!0;try{var o=t(i);return o}finally{if(ma=!1,(_s!==null||di!==null)&&(Ec(),_s&&(i=_s,t=di,di=_s=null,Sr(i),t)))for(i=0;i<t.length;i++)Sr(t[i])}}function Fn(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Lt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wr=!1;if(xn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){wr=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{wr=!1}var mi=null,Po=null,Rr=null;function jo(){if(Rr)return Rr;var t,i=Po,a=i.length,o,h="value"in mi?mi.value:mi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&i[a-o]===h[d-o];o++);return Rr=h.slice(t,1<o?1-o:void 0)}function xr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Mi(){return!0}function Gn(){return!1}function qt(t){function i(a,o,h,d,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Mi:Gn,this.isPropagationStopped=Gn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),i}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=qt(Vi),Es=S({},Vi,{view:0,detail:0}),zo=qt(Es),Ts,pa,gi,ga=S({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gi&&(gi&&t.type==="mousemove"?(Ts=t.screenX-gi.screenX,pa=t.screenY-gi.screenY):pa=Ts=0,gi=t),Ts)},movementY:function(t){return"movementY"in t?t.movementY:pa}}),Bo=qt(ga),Ir=S({},ga,{dataTransfer:0}),Iu=qt(Ir),Cu=S({},Es,{relatedTarget:0}),Cr=qt(Cu),qo=S({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=qt(qo),ya=S({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Du=qt(ya),Ou=S({},Vi,{data:0}),yi=qt(Ou),Mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ku[t])?!!i[t]:!1}function bs(){return Lu}var nn=S({},Es,{key:function(t){if(t.key){var i=Mu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=xr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(t){return t.type==="keypress"?xr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uu=qt(nn),Pu=S({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=qt(Pu),c=S({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),m=qt(c),v=S({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=qt(v),U=S({},ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=qt(U),ee=S({},Vi,{newState:0,oldState:0}),be=qt(ee),pt=[9,13,27,32],He=xn&&"CompositionEvent"in window,lt=null;xn&&"documentMode"in document&&(lt=document.documentMode);var In=xn&&"TextEvent"in window&&!lt,_i=xn&&(!He||lt&&8<lt&&11>=lt),Kn=" ",Qn=!1;function Nr(t,i){switch(t){case"keyup":return pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function HT(t,i){switch(t){case"compositionend":return _a(i);case"keypress":return i.which!==32?null:(Qn=!0,Kn);case"textInput":return t=i.data,t===Kn&&Qn?null:t;default:return null}}function FT(t,i){if(va)return t==="compositionend"||!He&&Nr(t,i)?(t=jo(),Rr=Po=mi=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _i&&i.locale!=="ko"?null:i.data;default:return null}}var GT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!GT[t.type]:i==="textarea"}function Bp(t,i,a,o){_s?di?di.push(o):di=[o]:_s=o,i=xc(i,"onChange"),0<i.length&&(a=new pi("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Ho=null,Fo=null;function KT(t){A_(t,0)}function ju(t){var i=mn(t);if(br(i))return t}function qp(t,i){if(t==="change")return i}var Hp=!1;if(xn){var sf;if(xn){var rf="oninput"in document;if(!rf){var Fp=document.createElement("div");Fp.setAttribute("oninput","return;"),rf=typeof Fp.oninput=="function"}sf=rf}else sf=!1;Hp=sf&&(!document.documentMode||9<document.documentMode)}function Gp(){Ho&&(Ho.detachEvent("onpropertychange",Kp),Fo=Ho=null)}function Kp(t){if(t.propertyName==="value"&&ju(Fo)){var i=[];Bp(i,Fo,t,Rn(t)),vs(KT,i)}}function QT(t,i,a){t==="focusin"?(Gp(),Ho=i,Fo=a,Ho.attachEvent("onpropertychange",Kp)):t==="focusout"&&Gp()}function YT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ju(Fo)}function XT(t,i){if(t==="click")return ju(i)}function $T(t,i){if(t==="input"||t==="change")return ju(i)}function JT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gn=typeof Object.is=="function"?Object.is:JT;function Go(t,i){if(gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Et.call(i,h)||!gn(t[h],i[h]))return!1}return!0}function Qp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yp(t,i){var a=Qp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qp(a)}}function Xp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Xp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function $p(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=fi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=fi(t.document)}return i}function af(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var ZT=xn&&"documentMode"in document&&11>=document.documentMode,Ea=null,of=null,Ko=null,lf=!1;function Jp(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lf||Ea==null||Ea!==fi(o)||(o=Ea,"selectionStart"in o&&af(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ko&&Go(Ko,o)||(Ko=o,o=xc(of,"onSelect"),0<o.length&&(i=new pi("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Ea)))}function Dr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ta={animationend:Dr("Animation","AnimationEnd"),animationiteration:Dr("Animation","AnimationIteration"),animationstart:Dr("Animation","AnimationStart"),transitionrun:Dr("Transition","TransitionRun"),transitionstart:Dr("Transition","TransitionStart"),transitioncancel:Dr("Transition","TransitionCancel"),transitionend:Dr("Transition","TransitionEnd")},uf={},Zp={};xn&&(Zp=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Or(t){if(uf[t])return uf[t];if(!Ta[t])return t;var i=Ta[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Zp)return uf[t]=i[a];return t}var Wp=Or("animationend"),eg=Or("animationiteration"),tg=Or("animationstart"),WT=Or("transitionrun"),eb=Or("transitionstart"),tb=Or("transitioncancel"),ng=Or("transitionend"),ig=new Map,cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cf.push("scrollEnd");function Yn(t,i){ig.set(t,i),ci(i,[t])}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],ba=0,hf=0;function Bu(){for(var t=ba,i=hf=ba=0;i<t;){var a=Cn[i];Cn[i++]=null;var o=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var d=Cn[i];if(Cn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}d!==0&&sg(a,h,d)}}function qu(t,i,a,o){Cn[ba++]=t,Cn[ba++]=i,Cn[ba++]=a,Cn[ba++]=o,hf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function ff(t,i,a,o){return qu(t,i,a,o),Hu(t)}function Mr(t,i){return qu(t,null,null,i),Hu(t)}function sg(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-mt(a),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function Hu(t){if(50<ml)throw ml=0,Td=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Aa={};function nb(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,i,a,o){return new nb(t,i,a,o)}function df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Li(t,i){var a=t.alternate;return a===null?(a=yn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function rg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Fu(t,i,a,o,h,d){var _=0;if(o=t,typeof t=="function")df(t)&&(_=1);else if(typeof t=="string")_=oA(t,a,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=yn(31,a,i,h),t.elementType=N,t.lanes=d,t;case W:return Vr(a.children,h,d,i);case Z:_=8,h|=24;break;case ce:return t=yn(12,a,i,h|2),t.elementType=ce,t.lanes=d,t;case Ge:return t=yn(13,a,i,h),t.elementType=Ge,t.lanes=d,t;case Le:return t=yn(19,a,i,h),t.elementType=Le,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ue:_=10;break e;case me:_=9;break e;case Ve:_=11;break e;case D:_=14;break e;case w:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=yn(_,a,i,h),i.elementType=t,i.type=o,i.lanes=d,i}function Vr(t,i,a,o){return t=yn(7,t,o,i),t.lanes=a,t}function mf(t,i,a){return t=yn(6,t,null,i),t.lanes=a,t}function ag(t){var i=yn(18,null,null,0);return i.stateNode=t,i}function pf(t,i,a){return i=yn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var og=new WeakMap;function Nn(t,i){if(typeof t=="object"&&t!==null){var a=og.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ao(i)},og.set(t,i),i)}return{value:t,source:i,stack:Ao(i)}}var Sa=[],wa=0,Gu=null,Qo=0,Dn=[],On=0,As=null,vi=1,Ei="";function Ui(t,i){Sa[wa++]=Qo,Sa[wa++]=Gu,Gu=t,Qo=i}function lg(t,i,a){Dn[On++]=vi,Dn[On++]=Ei,Dn[On++]=As,As=t;var o=vi;t=Ei;var h=32-mt(o)-1;o&=~(1<<h),a+=1;var d=32-mt(i)+h;if(30<d){var _=h-h%5;d=(o&(1<<_)-1).toString(32),o>>=_,h-=_,vi=1<<32-mt(i)+h|a<<h|o,Ei=d+t}else vi=1<<d|a<<h|o,Ei=t}function gf(t){t.return!==null&&(Ui(t,1),lg(t,1,0))}function yf(t){for(;t===Gu;)Gu=Sa[--wa],Sa[wa]=null,Qo=Sa[--wa],Sa[wa]=null;for(;t===As;)As=Dn[--On],Dn[On]=null,Ei=Dn[--On],Dn[On]=null,vi=Dn[--On],Dn[On]=null}function ug(t,i){Dn[On++]=vi,Dn[On++]=Ei,Dn[On++]=As,vi=i.id,Ei=i.overflow,As=t}var Ht=null,rt=null,ke=!1,Ss=null,Mn=!1,_f=Error(r(519));function ws(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yo(Nn(i,t)),_f}function cg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[bt]=t,i[Lt]=o,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<gl.length;a++)xe(gl[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),Su(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),gs(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||x_(i.textContent,a)?(o.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),o.onScroll!=null&&xe("scroll",i),o.onScrollEnd!=null&&xe("scrollend",i),o.onClick!=null&&(i.onclick=Hn),i=!0):i=!1,i||ws(t,!0)}function hg(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Ht=Ht.return}}function Ra(t){if(t!==Ht)return!1;if(!ke)return hg(t),ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ld(t.type,t.memoizedProps)),a=!a),a&&rt&&ws(t),hg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=L_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=L_(t)}else i===27?(i=rt,js(t.type)?(t=Bd,Bd=null,rt=t):rt=i):rt=Ht?kn(t.stateNode.nextSibling):null;return!0}function kr(){rt=Ht=null,ke=!1}function vf(){var t=Ss;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Ss=null),t}function Yo(t){Ss===null?Ss=[t]:Ss.push(t)}var Ef=R(null),Lr=null,Pi=null;function Rs(t,i,a){te(Ef,i._currentValue),i._currentValue=a}function ji(t){t._currentValue=Ef.current,F(Ef)}function Tf(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function bf(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var C=0;C<i.length;C++)if(E.context===i[C]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Tf(d.return,a,t),o||(_=null);break e}d=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Tf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function xa(t,i,a,o){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=h.type;gn(h.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ue.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Tl):t=[Tl])}h=h.return}t!==null&&bf(i,t,a,o),i.flags|=262144}function Ku(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ur(t){Lr=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return fg(Lr,t)}function Qu(t,i){return Lr===null&&Ur(t),fg(t,i)}function fg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Pi===null){if(t===null)throw Error(r(308));Pi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Pi=Pi.next=i;return a}var ib=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},sb=s.unstable_scheduleCallback,rb=s.unstable_NormalPriority,wt={$$typeof:ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Af(){return{controller:new ib,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&sb(rb,function(){t.controller.abort()})}var $o=null,Sf=0,Ia=0,Ca=null;function ab(t,i){if($o===null){var a=$o=[];Sf=0,Ia=xd(),Ca={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Sf++,i.then(dg,dg),i}function dg(){if(--Sf===0&&$o!==null){Ca!==null&&(Ca.status="fulfilled");var t=$o;$o=null,Ia=0,Ca=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function ob(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var mg=G.S;G.S=function(t,i){Jy=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ab(t,i),mg!==null&&mg(t,i)};var Pr=R(null);function wf(){var t=Pr.current;return t!==null?t:tt.pooledCache}function Yu(t,i){i===null?te(Pr,Pr.current):te(Pr,i.pool)}function pg(){var t=wf();return t===null?null:{parent:wt._currentValue,pool:t}}var Na=Error(r(460)),Rf=Error(r(474)),Xu=Error(r(542)),$u={then:function(){}};function gg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Hn,Hn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,vg(t),t;default:if(typeof i.status=="string")i.then(Hn,Hn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,vg(t),t}throw zr=i,Na}}function jr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(zr=a,Na):a}}var zr=null;function _g(){if(zr===null)throw Error(r(459));var t=zr;return zr=null,t}function vg(t){if(t===Na||t===Xu)throw Error(r(483))}var Da=null,Jo=0;function Ju(t){var i=Jo;return Jo+=1,Da===null&&(Da=[]),yg(Da,t,i)}function Zo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Zu(t,i){throw i.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Eg(t){function i(k,M){if(t){var P=k.deletions;P===null?(k.deletions=[M],k.flags|=16):P.push(M)}}function a(k,M){if(!t)return null;for(;M!==null;)i(k,M),M=M.sibling;return null}function o(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=Li(k,M),k.index=0,k.sibling=null,k}function d(k,M,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<M?(k.flags|=67108866,M):P):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,M,P,Q){return M===null||M.tag!==6?(M=mf(P,k.mode,Q),M.return=k,M):(M=h(M,P),M.return=k,M)}function C(k,M,P,Q){var fe=P.type;return fe===W?K(k,M,P.props.children,Q,P.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&jr(fe)===M.type)?(M=h(M,P.props),Zo(M,P),M.return=k,M):(M=Fu(P.type,P.key,P.props,null,k.mode,Q),Zo(M,P),M.return=k,M)}function j(k,M,P,Q){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=pf(P,k.mode,Q),M.return=k,M):(M=h(M,P.children||[]),M.return=k,M)}function K(k,M,P,Q,fe){return M===null||M.tag!==7?(M=Vr(P,k.mode,Q,fe),M.return=k,M):(M=h(M,P),M.return=k,M)}function Y(k,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=mf(""+M,k.mode,P),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case B:return P=Fu(M.type,M.key,M.props,null,k.mode,P),Zo(P,M),P.return=k,P;case J:return M=pf(M,k.mode,P),M.return=k,M;case w:return M=jr(M),Y(k,M,P)}if(ct(M)||L(M))return M=Vr(M,k.mode,P,null),M.return=k,M;if(typeof M.then=="function")return Y(k,Ju(M),P);if(M.$$typeof===ue)return Y(k,Qu(k,M),P);Zu(k,M)}return null}function z(k,M,P,Q){var fe=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return fe!==null?null:E(k,M,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case B:return P.key===fe?C(k,M,P,Q):null;case J:return P.key===fe?j(k,M,P,Q):null;case w:return P=jr(P),z(k,M,P,Q)}if(ct(P)||L(P))return fe!==null?null:K(k,M,P,Q,null);if(typeof P.then=="function")return z(k,M,Ju(P),Q);if(P.$$typeof===ue)return z(k,M,Qu(k,P),Q);Zu(k,P)}return null}function H(k,M,P,Q,fe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,E(M,k,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case B:return k=k.get(Q.key===null?P:Q.key)||null,C(M,k,Q,fe);case J:return k=k.get(Q.key===null?P:Q.key)||null,j(M,k,Q,fe);case w:return Q=jr(Q),H(k,M,P,Q,fe)}if(ct(Q)||L(Q))return k=k.get(P)||null,K(M,k,Q,fe,null);if(typeof Q.then=="function")return H(k,M,P,Ju(Q),fe);if(Q.$$typeof===ue)return H(k,M,P,Qu(M,Q),fe);Zu(M,Q)}return null}function oe(k,M,P,Q){for(var fe=null,Be=null,le=M,we=M=0,Ne=null;le!==null&&we<P.length;we++){le.index>we?(Ne=le,le=null):Ne=le.sibling;var qe=z(k,le,P[we],Q);if(qe===null){le===null&&(le=Ne);break}t&&le&&qe.alternate===null&&i(k,le),M=d(qe,M,we),Be===null?fe=qe:Be.sibling=qe,Be=qe,le=Ne}if(we===P.length)return a(k,le),ke&&Ui(k,we),fe;if(le===null){for(;we<P.length;we++)le=Y(k,P[we],Q),le!==null&&(M=d(le,M,we),Be===null?fe=le:Be.sibling=le,Be=le);return ke&&Ui(k,we),fe}for(le=o(le);we<P.length;we++)Ne=H(le,k,we,P[we],Q),Ne!==null&&(t&&Ne.alternate!==null&&le.delete(Ne.key===null?we:Ne.key),M=d(Ne,M,we),Be===null?fe=Ne:Be.sibling=Ne,Be=Ne);return t&&le.forEach(function(Fs){return i(k,Fs)}),ke&&Ui(k,we),fe}function pe(k,M,P,Q){if(P==null)throw Error(r(151));for(var fe=null,Be=null,le=M,we=M=0,Ne=null,qe=P.next();le!==null&&!qe.done;we++,qe=P.next()){le.index>we?(Ne=le,le=null):Ne=le.sibling;var Fs=z(k,le,qe.value,Q);if(Fs===null){le===null&&(le=Ne);break}t&&le&&Fs.alternate===null&&i(k,le),M=d(Fs,M,we),Be===null?fe=Fs:Be.sibling=Fs,Be=Fs,le=Ne}if(qe.done)return a(k,le),ke&&Ui(k,we),fe;if(le===null){for(;!qe.done;we++,qe=P.next())qe=Y(k,qe.value,Q),qe!==null&&(M=d(qe,M,we),Be===null?fe=qe:Be.sibling=qe,Be=qe);return ke&&Ui(k,we),fe}for(le=o(le);!qe.done;we++,qe=P.next())qe=H(le,k,we,qe.value,Q),qe!==null&&(t&&qe.alternate!==null&&le.delete(qe.key===null?we:qe.key),M=d(qe,M,we),Be===null?fe=qe:Be.sibling=qe,Be=qe);return t&&le.forEach(function(_A){return i(k,_A)}),ke&&Ui(k,we),fe}function et(k,M,P,Q){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case B:e:{for(var fe=P.key;M!==null;){if(M.key===fe){if(fe=P.type,fe===W){if(M.tag===7){a(k,M.sibling),Q=h(M,P.props.children),Q.return=k,k=Q;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&jr(fe)===M.type){a(k,M.sibling),Q=h(M,P.props),Zo(Q,P),Q.return=k,k=Q;break e}a(k,M);break}else i(k,M);M=M.sibling}P.type===W?(Q=Vr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Fu(P.type,P.key,P.props,null,k.mode,Q),Zo(Q,P),Q.return=k,k=Q)}return _(k);case J:e:{for(fe=P.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){a(k,M.sibling),Q=h(M,P.children||[]),Q.return=k,k=Q;break e}else{a(k,M);break}else i(k,M);M=M.sibling}Q=pf(P,k.mode,Q),Q.return=k,k=Q}return _(k);case w:return P=jr(P),et(k,M,P,Q)}if(ct(P))return oe(k,M,P,Q);if(L(P)){if(fe=L(P),typeof fe!="function")throw Error(r(150));return P=fe.call(P),pe(k,M,P,Q)}if(typeof P.then=="function")return et(k,M,Ju(P),Q);if(P.$$typeof===ue)return et(k,M,Qu(k,P),Q);Zu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(a(k,M.sibling),Q=h(M,P),Q.return=k,k=Q):(a(k,M),Q=mf(P,k.mode,Q),Q.return=k,k=Q),_(k)):a(k,M)}return function(k,M,P,Q){try{Jo=0;var fe=et(k,M,P,Q);return Da=null,fe}catch(le){if(le===Na||le===Xu)throw le;var Be=yn(29,le,null,k.mode);return Be.lanes=Q,Be.return=k,Be}finally{}}}var Br=Eg(!0),Tg=Eg(!1),xs=!1;function xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Is(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Cs(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Fe&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Hu(t),sg(t,null,a),i}return qu(t,o,i,a),Hu(t)}function Wo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Ro(t,a)}}function Cf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Nf=!1;function el(){if(Nf){var t=Ca;if(t!==null)throw t}}function tl(t,i,a,o){Nf=!1;var h=t.updateQueue;xs=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,j=C.next;C.next=null,_===null?d=j:_.next=j,_=C;var K=t.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==_&&(E===null?K.firstBaseUpdate=j:E.next=j,K.lastBaseUpdate=C))}if(d!==null){var Y=h.baseState;_=0,K=j=C=null,E=d;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(Ce&z)===z:(o&z)===z){z!==0&&z===Ia&&(Nf=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=t,pe=E;z=i;var et=a;switch(pe.tag){case 1:if(oe=pe.payload,typeof oe=="function"){Y=oe.call(et,Y,z);break e}Y=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=pe.payload,z=typeof oe=="function"?oe.call(et,Y,z):oe,z==null)break e;Y=S({},Y,z);break e;case 2:xs=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(j=K=H,C=Y):K=K.next=H,_|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),Vs|=_,t.lanes=_,t.memoizedState=Y}}function bg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Ag(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)bg(a[t],i)}var Oa=R(null),Wu=R(0);function Sg(t,i){t=Yi,te(Wu,t),te(Oa,i),Yi=t|i.baseLanes}function Df(){te(Wu,Yi),te(Oa,Oa.current)}function Of(){Yi=Wu.current,F(Oa),F(Wu)}var _n=R(null),Vn=null;function Ns(t){var i=t.alternate;te(gt,gt.current&1),te(_n,t),Vn===null&&(i===null||Oa.current!==null||i.memoizedState!==null)&&(Vn=t)}function Mf(t){te(gt,gt.current),te(_n,t),Vn===null&&(Vn=t)}function wg(t){t.tag===22?(te(gt,gt.current),te(_n,t),Vn===null&&(Vn=t)):Ds()}function Ds(){te(gt,gt.current),te(_n,_n.current)}function vn(t){F(_n),Vn===t&&(Vn=null),F(gt)}var gt=R(0);function ec(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||jd(a)||zd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var zi=0,Ae=null,Ze=null,Rt=null,tc=!1,Ma=!1,qr=!1,nc=0,nl=0,Va=null,lb=0;function ft(){throw Error(r(321))}function Vf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!gn(t[a],i[a]))return!1;return!0}function kf(t,i,a,o,h,d){return zi=d,Ae=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?ly:$f,qr=!1,d=a(o,h),qr=!1,Ma&&(d=xg(i,a,o,h)),Rg(t),d}function Rg(t){G.H=rl;var i=Ze!==null&&Ze.next!==null;if(zi=0,Rt=Ze=Ae=null,tc=!1,nl=0,Va=null,i)throw Error(r(300));t===null||xt||(t=t.dependencies,t!==null&&Ku(t)&&(xt=!0))}function xg(t,i,a,o){Ae=t;var h=0;do{if(Ma&&(Va=null),nl=0,Ma=!1,25<=h)throw Error(r(301));if(h+=1,Rt=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=uy,d=i(a,o)}while(Ma);return d}function ub(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?il(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ae.flags|=1024),i}function Lf(){var t=nc!==0;return nc=0,t}function Uf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Pf(t){if(tc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}tc=!1}zi=0,Rt=Ze=Ae=null,Ma=!1,nl=nc=0,Va=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ae.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function yt(){if(Ze===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=Rt===null?Ae.memoizedState:Rt.next;if(i!==null)Rt=i,Ze=t;else{if(t===null)throw Ae.alternate===null?Error(r(467)):Error(r(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Rt===null?Ae.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var i=nl;return nl+=1,Va===null&&(Va=[]),t=yg(Va,t,i),i=Ae,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?ly:$f),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===ue)return Ft(t)}throw Error(r(438,String(t)))}function jf(t){var i=null,a=Ae.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ae.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ic(),Ae.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=V;return i.index++,a}function Bi(t,i){return typeof i=="function"?i(t):i}function rc(t){var i=yt();return zf(i,Ze,t)}function zf(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var E=_=null,C=null,j=i,K=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(Ce&Y)===Y:(zi&Y)===Y){var z=j.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===Ia&&(K=!0);else if((zi&z)===z){j=j.next,z===Ia&&(K=!0);continue}else Y={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=Y,_=d):C=C.next=Y,Ae.lanes|=z,Vs|=z;Y=j.action,qr&&a(d,Y),d=j.hasEagerState?j.eagerState:a(d,Y)}else z={lane:Y,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=z,_=d):C=C.next=z,Ae.lanes|=Y,Vs|=Y;j=j.next}while(j!==null&&j!==i);if(C===null?_=d:C.next=E,!gn(d,t.memoizedState)&&(xt=!0,K&&(a=Ca,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=C,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Bf(t){var i=yt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);gn(d,i.memoizedState)||(xt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Ig(t,i,a){var o=Ae,h=yt(),d=ke;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!gn((Ze||h).memoizedState,a);if(_&&(h.memoizedState=a,xt=!0),h=h.queue,Ff(Dg.bind(null,o,h,t),[t]),h.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(o.flags|=2048,ka(9,{destroy:void 0},Ng.bind(null,o,h,a,i),null),tt===null)throw Error(r(349));d||(zi&127)!==0||Cg(o,i,a)}return a}function Cg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ae.updateQueue,i===null?(i=ic(),Ae.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ng(t,i,a,o){i.value=a,i.getSnapshot=o,Og(i)&&Mg(t)}function Dg(t,i,a){return a(function(){Og(i)&&Mg(t)})}function Og(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!gn(t,a)}catch{return!0}}function Mg(t){var i=Mr(t,2);i!==null&&hn(i,t,2)}function qf(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),qr){Sn(!0);try{a()}finally{Sn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},i}function Vg(t,i,a,o){return t.baseState=a,zf(t,Ze,typeof o=="function"?o:Bi)}function cb(t,i,a,o,h){if(lc(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,kg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function kg(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var d=G.T,_={};G.T=_;try{var E=a(h,o),C=G.S;C!==null&&C(_,E),Lg(t,i,E)}catch(j){Hf(t,i,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),G.T=d}}else try{d=a(h,o),Lg(t,i,d)}catch(j){Hf(t,i,j)}}function Lg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ug(t,i,o)},function(o){return Hf(t,i,o)}):Ug(t,i,a)}function Ug(t,i,a){i.status="fulfilled",i.value=a,Pg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,kg(t,a)))}function Hf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Pg(i),i=i.next;while(i!==o)}t.action=null}function Pg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function jg(t,i){return i}function zg(t,i){if(ke){var a=tt.formState;if(a!==null){e:{var o=Ae;if(ke){if(rt){t:{for(var h=rt,d=Mn;h.nodeType!==8;){if(!d){h=null;break t}if(h=kn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){rt=kn(h.nextSibling),o=h.data==="F!";break e}}ws(o)}o=!1}o&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jg,lastRenderedState:i},a.queue=o,a=ry.bind(null,Ae,o),o.dispatch=a,o=qf(!1),d=Xf.bind(null,Ae,!1,o.queue),o=sn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=cb.bind(null,Ae,h,d,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function Bg(t){var i=yt();return qg(i,Ze,t)}function qg(t,i,a){if(i=zf(t,i,jg)[0],t=rc(Bi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=il(i)}catch(_){throw _===Na?Xu:_}else o=i;i=yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ae.flags|=2048,ka(9,{destroy:void 0},hb.bind(null,h,a),null)),[o,d,t]}function hb(t,i){t.action=i}function Hg(t){var i=yt(),a=Ze;if(a!==null)return qg(i,a,t);yt(),i=i.memoizedState,a=yt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function ka(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Ae.updateQueue,i===null&&(i=ic(),Ae.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Fg(){return yt().memoizedState}function ac(t,i,a,o){var h=sn();Ae.flags|=t,h.memoizedState=ka(1|i,{destroy:void 0},a,o===void 0?null:o)}function oc(t,i,a,o){var h=yt();o=o===void 0?null:o;var d=h.memoizedState.inst;Ze!==null&&o!==null&&Vf(o,Ze.memoizedState.deps)?h.memoizedState=ka(i,d,a,o):(Ae.flags|=t,h.memoizedState=ka(1|i,d,a,o))}function Gg(t,i){ac(8390656,8,t,i)}function Ff(t,i){oc(2048,8,t,i)}function fb(t){Ae.flags|=4;var i=Ae.updateQueue;if(i===null)i=ic(),Ae.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Kg(t){var i=yt().memoizedState;return fb({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Qg(t,i){return oc(4,2,t,i)}function Yg(t,i){return oc(4,4,t,i)}function Xg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function $g(t,i,a){a=a!=null?a.concat([t]):null,oc(4,4,Xg.bind(null,i,t),a)}function Gf(){}function Jg(t,i){var a=yt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Vf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Zg(t,i){var a=yt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Vf(i,o[1]))return o[0];if(o=t(),qr){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[o,i],o}function Kf(t,i,a){return a===void 0||(zi&1073741824)!==0&&(Ce&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Wy(),Ae.lanes|=t,Vs|=t,a)}function Wg(t,i,a,o){return gn(a,i)?a:Oa.current!==null?(t=Kf(t,a,o),gn(t,i)||(xt=!0),t):(zi&42)===0||(zi&1073741824)!==0&&(Ce&261930)===0?(xt=!0,t.memoizedState=a):(t=Wy(),Ae.lanes|=t,Vs|=t,i)}function ey(t,i,a,o,h){var d=ne.p;ne.p=d!==0&&8>d?d:8;var _=G.T,E={};G.T=E,Xf(t,!1,i,a);try{var C=h(),j=G.S;if(j!==null&&j(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=ob(C,o);sl(t,i,K,bn(t))}else sl(t,i,o,bn(t))}catch(Y){sl(t,i,{then:function(){},status:"rejected",reason:Y},bn())}finally{ne.p=d,_!==null&&E.types!==null&&(_.types=E.types),G.T=_}}function db(){}function Qf(t,i,a,o){if(t.tag!==5)throw Error(r(476));var h=ty(t).queue;ey(t,h,i,he,a===null?db:function(){return ny(t),a(o)})}function ty(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:he},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ny(t){var i=ty(t);i.next===null&&(i=t.alternate.memoizedState),sl(t,i.next.queue,{},bn())}function Yf(){return Ft(Tl)}function iy(){return yt().memoizedState}function sy(){return yt().memoizedState}function mb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();t=Is(a);var o=Cs(i,t,a);o!==null&&(hn(o,i,a),Wo(o,i,a)),i={cache:Af()},t.payload=i;return}i=i.return}}function pb(t,i,a){var o=bn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},lc(t)?ay(i,a):(a=ff(t,i,a,o),a!==null&&(hn(a,t,o),oy(a,i,o)))}function ry(t,i,a){var o=bn();sl(t,i,a,o)}function sl(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(t))ay(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,E=d(_,a);if(h.hasEagerState=!0,h.eagerState=E,gn(E,_))return qu(t,i,h,0),tt===null&&Bu(),!1}catch{}finally{}if(a=ff(t,i,h,o),a!==null)return hn(a,t,o),oy(a,i,o),!0}return!1}function Xf(t,i,a,o){if(o={lane:2,revertLane:xd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},lc(t)){if(i)throw Error(r(479))}else i=ff(t,a,o,2),i!==null&&hn(i,t,2)}function lc(t){var i=t.alternate;return t===Ae||i!==null&&i===Ae}function ay(t,i){Ma=tc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function oy(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Ro(t,a)}}var rl={readContext:Ft,use:sc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};rl.useEffectEvent=ft;var ly={readContext:Ft,use:sc,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:Gg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ac(4194308,4,Xg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ac(4194308,4,t,i)},useInsertionEffect:function(t,i){ac(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var o=t();if(qr){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=sn();if(a!==void 0){var h=a(i);if(qr){Sn(!0);try{a(i)}finally{Sn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=pb.bind(null,Ae,t),[o.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=qf(t);var i=t.queue,a=ry.bind(null,Ae,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Gf,useDeferredValue:function(t,i){var a=sn();return Kf(a,t,i)},useTransition:function(){var t=qf(!1);return t=ey.bind(null,Ae,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Ae,h=sn();if(ke){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),tt===null)throw Error(r(349));(Ce&127)!==0||Cg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Gg(Dg.bind(null,o,d,t),[t]),o.flags|=2048,ka(9,{destroy:void 0},Ng.bind(null,o,d,a,i),null),a},useId:function(){var t=sn(),i=tt.identifierPrefix;if(ke){var a=Ei,o=vi;a=(o&~(1<<32-mt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=nc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=lb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Yf,useFormState:zg,useActionState:zg,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Xf.bind(null,Ae,!0,a),a.dispatch=i,[t,i]},useMemoCache:jf,useCacheRefresh:function(){return sn().memoizedState=mb.bind(null,Ae)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},$f={readContext:Ft,use:sc,useCallback:Jg,useContext:Ft,useEffect:Ff,useImperativeHandle:$g,useInsertionEffect:Qg,useLayoutEffect:Yg,useMemo:Zg,useReducer:rc,useRef:Fg,useState:function(){return rc(Bi)},useDebugValue:Gf,useDeferredValue:function(t,i){var a=yt();return Wg(a,Ze.memoizedState,t,i)},useTransition:function(){var t=rc(Bi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:il(t),i]},useSyncExternalStore:Ig,useId:iy,useHostTransitionStatus:Yf,useFormState:Bg,useActionState:Bg,useOptimistic:function(t,i){var a=yt();return Vg(a,Ze,t,i)},useMemoCache:jf,useCacheRefresh:sy};$f.useEffectEvent=Kg;var uy={readContext:Ft,use:sc,useCallback:Jg,useContext:Ft,useEffect:Ff,useImperativeHandle:$g,useInsertionEffect:Qg,useLayoutEffect:Yg,useMemo:Zg,useReducer:Bf,useRef:Fg,useState:function(){return Bf(Bi)},useDebugValue:Gf,useDeferredValue:function(t,i){var a=yt();return Ze===null?Kf(a,t,i):Wg(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Bf(Bi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:il(t),i]},useSyncExternalStore:Ig,useId:iy,useHostTransitionStatus:Yf,useFormState:Hg,useActionState:Hg,useOptimistic:function(t,i){var a=yt();return Ze!==null?Vg(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:jf,useCacheRefresh:sy};uy.useEffectEvent=Kg;function Jf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Zf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=bn(),h=Is(o);h.payload=i,a!=null&&(h.callback=a),i=Cs(t,h,o),i!==null&&(hn(i,t,o),Wo(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=bn(),h=Is(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Cs(t,h,o),i!==null&&(hn(i,t,o),Wo(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=bn(),o=Is(a);o.tag=2,i!=null&&(o.callback=i),i=Cs(t,o,a),i!==null&&(hn(i,t,a),Wo(i,t,a))}};function cy(t,i,a,o,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,_):i.prototype&&i.prototype.isPureReactComponent?!Go(a,o)||!Go(h,d):!0}function hy(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Zf.enqueueReplaceState(i,i.state,null)}function Hr(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function fy(t){zu(t)}function dy(t){console.error(t)}function my(t){zu(t)}function uc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function py(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Wf(t,i,a){return a=Is(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(t,i)},a}function gy(t){return t=Is(t),t.tag=3,t}function yy(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){py(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){py(i,a,o),typeof h!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function gb(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&xa(i,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?Tc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===$u?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Sd(t,o,h)),!1;case 22:return a.flags|=65536,o===$u?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Sd(t,o,h)),!1}throw Error(r(435,a.tag))}return Sd(t,o,h),Tc(),!1}if(ke)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==_f&&(t=Error(r(422),{cause:o}),Yo(Nn(t,a)))):(o!==_f&&(i=Error(r(423),{cause:o}),Yo(Nn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Nn(o,a),h=Wf(t.stateNode,o,h),Cf(t,h),dt!==4&&(dt=2)),!1;var d=Error(r(520),{cause:o});if(d=Nn(d,a),dl===null?dl=[d]:dl.push(d),dt!==4&&(dt=2),i===null)return!0;o=Nn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Wf(a.stateNode,o,t),Cf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ks===null||!ks.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=gy(h),yy(h,t,a,o),Cf(a,h),!1}a=a.return}while(a!==null);return!1}var ed=Error(r(461)),xt=!1;function Gt(t,i,a,o){i.child=t===null?Tg(i,null,a,o):Br(i,t.child,a,o)}function _y(t,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return Ur(i),o=kf(t,i,a,_,d,h),E=Lf(),t!==null&&!xt?(Uf(t,i,h),qi(t,i,h)):(ke&&E&&gf(i),i.flags|=1,Gt(t,i,o,h),i.child)}function vy(t,i,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!df(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ey(t,i,d,o,h)):(t=Fu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!ld(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(_,o)&&t.ref===i.ref)return qi(t,i,h)}return i.flags|=1,t=Li(d,o),t.ref=i.ref,t.return=i,i.child=t}function Ey(t,i,a,o,h){if(t!==null){var d=t.memoizedProps;if(Go(d,o)&&t.ref===i.ref)if(xt=!1,i.pendingProps=o=d,ld(t,h))(t.flags&131072)!==0&&(xt=!0);else return i.lanes=t.lanes,qi(t,i,h)}return td(t,i,a,o,h)}function Ty(t,i,a,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return by(t,i,d,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(i,d!==null?d.cachePool:null),d!==null?Sg(i,d):Df(),wg(i);else return o=i.lanes=536870912,by(t,i,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(Yu(i,d.cachePool),Sg(i,d),Ds(),i.memoizedState=null):(t!==null&&Yu(i,null),Df(),Ds());return Gt(t,i,h,a),i.child}function al(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function by(t,i,a,o,h){var d=wf();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Yu(i,null),Df(),wg(i),t!==null&&xa(t,i,o,!0),i.childLanes=h,null}function cc(t,i){return i=fc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ay(t,i,a){return Br(i,t.child,null,a),t=cc(i,i.pendingProps),t.flags|=2,vn(i),i.memoizedState=null,t}function yb(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ke){if(o.mode==="hidden")return t=cc(i,o),i.lanes=536870912,al(null,t);if(Mf(i),(t=rt)?(t=k_(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:As!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},a=ag(t),a.return=i,i.child=a,Ht=i,rt=null)):t=null,t===null)throw ws(i);return i.lanes=536870912,null}return cc(i,o)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Mf(i),h)if(i.flags&256)i.flags&=-257,i=Ay(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(xt||xa(t,i,a,!1),h=(a&t.childLanes)!==0,xt||h){if(o=tt,o!==null&&(_=xo(o,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Mr(t,_),hn(o,t,_),ed;Tc(),i=Ay(t,i,a)}else t=d.treeContext,rt=kn(_.nextSibling),Ht=i,ke=!0,Ss=null,Mn=!1,t!==null&&ug(i,t),i=cc(i,o),i.flags|=4096;return i}return t=Li(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function hc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function td(t,i,a,o,h){return Ur(i),a=kf(t,i,a,o,void 0,h),o=Lf(),t!==null&&!xt?(Uf(t,i,h),qi(t,i,h)):(ke&&o&&gf(i),i.flags|=1,Gt(t,i,a,h),i.child)}function Sy(t,i,a,o,h,d){return Ur(i),i.updateQueue=null,a=xg(i,o,a,h),Rg(t),o=Lf(),t!==null&&!xt?(Uf(t,i,d),qi(t,i,d)):(ke&&o&&gf(i),i.flags|=1,Gt(t,i,a,d),i.child)}function wy(t,i,a,o,h){if(Ur(i),i.stateNode===null){var d=Aa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Zf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},xf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):Aa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Jf(i,a,_,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Zf.enqueueReplaceState(d,d.state,null),tl(i,o,d,h),el(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var E=i.memoizedProps,C=Hr(a,E);d.props=C;var j=d.context,K=a.contextType;_=Aa,typeof K=="object"&&K!==null&&(_=Ft(K));var Y=a.getDerivedStateFromProps;K=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||j!==_)&&hy(i,d,o,_),xs=!1;var z=i.memoizedState;d.state=z,tl(i,o,d,h),el(),j=i.memoizedState,E||z!==j||xs?(typeof Y=="function"&&(Jf(i,a,Y,o),j=i.memoizedState),(C=xs||cy(i,a,C,o,z,j,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=j),d.props=o,d.state=j,d.context=_,o=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,If(t,i),_=i.memoizedProps,K=Hr(a,_),d.props=K,Y=i.pendingProps,z=d.context,j=a.contextType,C=Aa,typeof j=="object"&&j!==null&&(C=Ft(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Y||z!==C)&&hy(i,d,o,C),xs=!1,z=i.memoizedState,d.state=z,tl(i,o,d,h),el();var H=i.memoizedState;_!==Y||z!==H||xs||t!==null&&t.dependencies!==null&&Ku(t.dependencies)?(typeof E=="function"&&(Jf(i,a,E,o),H=i.memoizedState),(K=xs||cy(i,a,K,o,z,H,C)||t!==null&&t.dependencies!==null&&Ku(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,H,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),d.props=o,d.state=H,d.context=C,o=K):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,hc(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=Br(i,t.child,null,h),i.child=Br(i,null,a,h)):Gt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=qi(t,i,h),t}function Ry(t,i,a,o){return kr(),i.flags|=256,Gt(t,i,a,o),i.child}var nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function id(t){return{baseLanes:t,cachePool:pg()}}function sd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Tn),t}function xy(t,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ke){if(h?Ns(i):Ds(),(t=rt)?(t=k_(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:As!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},a=ag(t),a.return=i,i.child=a,Ht=i,rt=null)):t=null,t===null)throw ws(i);return zd(t)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ds(),h=i.mode,E=fc({mode:"hidden",children:E},h),o=Vr(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=id(a),o.childLanes=sd(t,_,a),i.memoizedState=nd,al(null,o)):(Ns(i),rd(i,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(d)i.flags&256?(Ns(i),i.flags&=-257,i=ad(t,i,a)):i.memoizedState!==null?(Ds(),i.child=t.child,i.flags|=128,i=null):(Ds(),E=o.fallback,h=i.mode,o=fc({mode:"visible",children:o.children},h),E=Vr(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,Br(i,t.child,null,a),o=i.child,o.memoizedState=id(a),o.childLanes=sd(t,_,a),i.memoizedState=nd,i=al(null,o));else if(Ns(i),zd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var j=_.dgst;_=j,o=Error(r(419)),o.stack="",o.digest=_,Yo({value:o,source:null,stack:null}),i=ad(t,i,a)}else if(xt||xa(t,i,a,!1),_=(a&t.childLanes)!==0,xt||_){if(_=tt,_!==null&&(o=xo(_,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Mr(t,o),hn(_,t,o),ed;jd(E)||Tc(),i=ad(t,i,a)}else jd(E)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,rt=kn(E.nextSibling),Ht=i,ke=!0,Ss=null,Mn=!1,t!==null&&ug(i,t),i=rd(i,o.children),i.flags|=4096);return i}return h?(Ds(),E=o.fallback,h=i.mode,C=t.child,j=C.sibling,o=Li(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?E=Li(j,E):(E=Vr(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,al(null,o),o=i.child,E=t.child.memoizedState,E===null?E=id(a):(h=E.cachePool,h!==null?(C=wt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=pg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=sd(t,_,a),i.memoizedState=nd,al(t.child,o)):(Ns(i),a=t.child,t=a.sibling,a=Li(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function rd(t,i){return i=fc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function fc(t,i){return t=yn(22,t,null,i),t.lanes=0,t}function ad(t,i,a){return Br(i,t.child,null,a),t=rd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Iy(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Tf(t.return,i,a)}function od(t,i,a,o,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Cy(t,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var _=gt.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,te(gt,_),Gt(t,i,o,a),o=ke?Qo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iy(t,a,i);else if(t.tag===19)Iy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ec(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),od(i,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ec(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}od(i,!0,a,null,d,o);break;case"together":od(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function qi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Vs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(xa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Li(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Li(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function ld(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ku(t)))}function _b(t,i,a){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),Rs(i,wt,t.memoizedState.cache),kr();break;case 27:case 5:pr(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:Rs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Mf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Ns(i),i.flags|=128,null):(a&i.child.childLanes)!==0?xy(t,i,a):(Ns(i),t=qi(t,i,a),t!==null?t.sibling:null);Ns(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(xa(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Cy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(gt,gt.current),o)break;return null;case 22:return i.lanes=0,Ty(t,i,a,i.pendingProps);case 24:Rs(i,wt,t.memoizedState.cache)}return qi(t,i,a)}function Ny(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)xt=!0;else{if(!ld(t,a)&&(i.flags&128)===0)return xt=!1,_b(t,i,a);xt=(t.flags&131072)!==0}else xt=!1,ke&&(i.flags&1048576)!==0&&lg(i,Qo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=jr(i.elementType),i.type=t,typeof t=="function")df(t)?(o=Hr(t,o),i.tag=1,i=wy(null,i,t,o,a)):(i.tag=0,i=td(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ve){i.tag=11,i=_y(null,i,t,o,a);break e}else if(h===D){i.tag=14,i=vy(null,i,t,o,a);break e}}throw i=nt(t)||t,Error(r(306,i,""))}}return i;case 0:return td(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Hr(o,i.pendingProps),wy(t,i,o,h,a);case 3:e:{if(Ot(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,If(t,i),tl(i,o,null,a);var _=i.memoizedState;if(o=_.cache,Rs(i,wt,o),o!==d.cache&&bf(i,[wt],a,!0),el(),o=_.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ry(t,i,o,a);break e}else if(o!==h){h=Nn(Error(r(424)),i),Yo(h),i=Ry(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=kn(t.firstChild),Ht=i,ke=!0,Ss=null,Mn=!0,a=Tg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(kr(),o===h){i=qi(t,i,a);break e}Gt(t,i,o,a)}i=i.child}return i;case 26:return hc(t,i),t===null?(a=B_(i.type,null,i.pendingProps,null))?i.memoizedState=a:ke||(a=i.type,t=i.pendingProps,o=Ic(Se.current).createElement(a),o[bt]=i,o[Lt]=t,Kt(o,a,t),At(o),i.stateNode=o):i.memoizedState=B_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return pr(i),t===null&&ke&&(o=i.stateNode=P_(i.type,i.pendingProps,Se.current),Ht=i,Mn=!0,h=rt,js(i.type)?(Bd=h,rt=kn(o.firstChild)):rt=h),Gt(t,i,i.pendingProps.children,a),hc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ke&&((h=o=rt)&&(o=Yb(o,i.type,i.pendingProps,Mn),o!==null?(i.stateNode=o,Ht=i,rt=kn(o.firstChild),Mn=!1,h=!0):h=!1),h||ws(i)),pr(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,o=d.children,Ld(h,d)?o=null:_!==null&&Ld(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=kf(t,i,ub,null,null,a),Tl._currentValue=h),hc(t,i),Gt(t,i,o,a),i.child;case 6:return t===null&&ke&&((t=a=rt)&&(a=Xb(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,Ht=i,rt=null,t=!0):t=!1),t||ws(i)),null;case 13:return xy(t,i,a);case 4:return Ot(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Br(i,null,o,a):Gt(t,i,o,a),i.child;case 11:return _y(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Rs(i,i.type,o.value),Gt(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Ur(i),h=Ft(h),o=o(h),i.flags|=1,Gt(t,i,o,a),i.child;case 14:return vy(t,i,i.type,i.pendingProps,a);case 15:return Ey(t,i,i.type,i.pendingProps,a);case 19:return Cy(t,i,a);case 31:return yb(t,i,a);case 22:return Ty(t,i,a,i.pendingProps);case 24:return Ur(i),o=Ft(wt),t===null?(h=wf(),h===null&&(h=tt,d=Af(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},xf(i),Rs(i,wt,h)):((t.lanes&a)!==0&&(If(t,i),tl(i,null,null,a),el()),h=t.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Rs(i,wt,o)):(o=d.cache,Rs(i,wt,o),o!==h.cache&&bf(i,[wt],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Hi(t){t.flags|=4}function ud(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(i_())t.flags|=8192;else throw zr=$u,Rf}else t.flags&=-16777217}function Dy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!K_(i))if(i_())t.flags|=8192;else throw zr=$u,Rf}function dc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?vu():536870912,t.lanes|=i,ja|=i)}function ol(t,i){if(!ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function vb(t,i,a){var o=i.pendingProps;switch(yf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ji(wt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ra(i)?Hi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,vf())),at(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Hi(i),d!==null?(at(i),Dy(i,d)):(at(i),ud(i,h,null,o,a))):d?d!==t.memoizedState?(Hi(i),at(i),Dy(i,d)):(at(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&Hi(i),at(i),ud(i,h,t,o,a)),null;case 27:if(sa(i),a=Se.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Hi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return at(i),null}t=ie.current,Ra(i)?cg(i):(t=P_(h,o,a),i.stateNode=t,Hi(i))}return at(i),null;case 5:if(sa(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Hi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return at(i),null}if(d=ie.current,Ra(i))cg(i);else{var _=Ic(Se.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}d[bt]=i,d[Lt]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Kt(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Hi(i)}}return at(i),ud(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Hi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=Se.current,Ra(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||x_(t.nodeValue,a)),t||ws(i,!0)}else t=Ic(t).createTextNode(o),t[bt]=i,i.stateNode=t}return at(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Ra(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[bt]=i}else kr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),t=!1}else a=vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(vn(i),i):(vn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return at(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ra(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[bt]=i}else kr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(vn(i),i):(vn(i),null)}return vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),dc(i,i.updateQueue),at(i),null);case 4:return ot(),t===null&&Dd(i.stateNode.containerInfo),at(i),null;case 10:return ji(i.type),at(i),null;case 19:if(F(gt),o=i.memoizedState,o===null)return at(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)ol(o,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=ec(t),d!==null){for(i.flags|=128,ol(o,!1),t=d.updateQueue,i.updateQueue=t,dc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)rg(a,t),a=a.sibling;return te(gt,gt.current&1|2),ke&&Ui(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&tn()>_c&&(i.flags|=128,h=!0,ol(o,!1),i.lanes=4194304)}else{if(!h)if(t=ec(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,dc(i,t),ol(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!ke)return at(i),null}else 2*tn()-o.renderingStartTime>_c&&a!==536870912&&(i.flags|=128,h=!0,ol(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(t=o.last,t!==null?t.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=tn(),t.sibling=null,a=gt.current,te(gt,h?a&1|2:a&1),ke&&Ui(i,o.treeForkCount),t):(at(i),null);case 22:case 23:return vn(i),Of(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&dc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&F(Pr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ji(wt),at(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function Eb(t,i){switch(yf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ji(wt),ot(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return sa(i),null;case 31:if(i.memoizedState!==null){if(vn(i),i.alternate===null)throw Error(r(340));kr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(vn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));kr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return F(gt),null;case 4:return ot(),null;case 10:return ji(i.type),null;case 22:case 23:return vn(i),Of(),t!==null&&F(Pr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ji(wt),null;case 25:return null;default:return null}}function Oy(t,i){switch(yf(i),i.tag){case 3:ji(wt),ot();break;case 26:case 27:case 5:sa(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&vn(i);break;case 13:vn(i);break;case 19:F(gt);break;case 10:ji(i.type);break;case 22:case 23:vn(i),Of(),t!==null&&F(Pr);break;case 24:ji(wt)}}function ll(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,_=a.inst;o=d(),_.destroy=o}a=a.next}while(a!==h)}}catch(E){$e(i,i.return,E)}}function Os(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=i;var C=a,j=E;try{j()}catch(K){$e(h,C,K)}}}o=o.next}while(o!==d)}}catch(K){$e(i,i.return,K)}}function My(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ag(i,a)}catch(o){$e(t,t.return,o)}}}function Vy(t,i,a){a.props=Hr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){$e(t,i,o)}}function ul(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){$e(t,i,h)}}function Ti(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function ky(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function cd(t,i,a){try{var o=t.stateNode;qb(o,t.type,a,i),o[Lt]=i}catch(h){$e(t,t.return,h)}}function Ly(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&js(t.type)||t.tag===4}function hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ly(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fd(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Hn));else if(o!==4&&(o===27&&js(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(fd(t,i,a),t=t.sibling;t!==null;)fd(t,i,a),t=t.sibling}function mc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&js(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mc(t,i,a),t=t.sibling;t!==null;)mc(t,i,a),t=t.sibling}function Uy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Kt(i,o,a),i[bt]=t,i[Lt]=a}catch(d){$e(t,t.return,d)}}var Fi=!1,It=!1,dd=!1,Py=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Tb(t,i){if(t=t.containerInfo,Vd=kc,t=$p(t),af(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,E=-1,C=-1,j=0,K=0,Y=t,z=null;t:for(;;){for(var H;Y!==a||h!==0&&Y.nodeType!==3||(E=_+h),Y!==d||o!==0&&Y.nodeType!==3||(C=_+o),Y.nodeType===3&&(_+=Y.nodeValue.length),(H=Y.firstChild)!==null;)z=Y,Y=H;for(;;){if(Y===t)break t;if(z===a&&++j===h&&(E=_),z===d&&++K===o&&(C=_),(H=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(kd={focusedElem:t,selectionRange:a},kc=!1,Pt=i;Pt!==null;)if(i=Pt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Pt=t;else for(;Pt!==null;){switch(i=Pt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var oe=Hr(a.type,h);t=o.getSnapshotBeforeUpdate(oe,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(pe){$e(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Pd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Pt=t;break}Pt=i.return}}function jy(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ki(t,a),o&4&&ll(5,a);break;case 1:if(Ki(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){$e(a,a.return,_)}else{var h=Hr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}o&64&&My(a),o&512&&ul(a,a.return);break;case 3:if(Ki(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ag(t,i)}catch(_){$e(a,a.return,_)}}break;case 27:i===null&&o&4&&Uy(a);case 26:case 5:Ki(t,a),i===null&&o&4&&ky(a),o&512&&ul(a,a.return);break;case 12:Ki(t,a);break;case 31:Ki(t,a),o&4&&qy(t,a);break;case 13:Ki(t,a),o&4&&Hy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Nb.bind(null,a),$b(t,a))));break;case 22:if(o=a.memoizedState!==null||Fi,!o){i=i!==null&&i.memoizedState!==null||It,h=Fi;var d=It;Fi=o,(It=i)&&!d?Qi(t,a,(a.subtreeFlags&8772)!==0):Ki(t,a),Fi=h,It=d}break;case 30:break;default:Ki(t,a)}}function zy(t){var i=t.alternate;i!==null&&(t.alternate=null,zy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ua(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,on=!1;function Gi(t,i,a){for(a=a.child;a!==null;)By(t,i,a),a=a.sibling}function By(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:It||Ti(a,i),Gi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Ti(a,i);var o=ut,h=on;js(a.type)&&(ut=a.stateNode,on=!1),Gi(t,i,a),_l(a.stateNode),ut=o,on=h;break;case 5:It||Ti(a,i);case 6:if(o=ut,h=on,ut=null,Gi(t,i,a),ut=o,on=h,ut!==null)if(on)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){$e(a,i,d)}else try{ut.removeChild(a.stateNode)}catch(d){$e(a,i,d)}break;case 18:ut!==null&&(on?(t=ut,M_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Qa(t)):M_(ut,a.stateNode));break;case 4:o=ut,h=on,ut=a.stateNode.containerInfo,on=!0,Gi(t,i,a),ut=o,on=h;break;case 0:case 11:case 14:case 15:Os(2,a,i),It||Os(4,a,i),Gi(t,i,a);break;case 1:It||(Ti(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Vy(a,i,o)),Gi(t,i,a);break;case 21:Gi(t,i,a);break;case 22:It=(o=It)||a.memoizedState!==null,Gi(t,i,a),It=o;break;default:Gi(t,i,a)}}function qy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qa(t)}catch(a){$e(i,i.return,a)}}}function Hy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qa(t)}catch(a){$e(i,i.return,a)}}function bb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Py),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Py),i;default:throw Error(r(435,t.tag))}}function pc(t,i){var a=bb(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=Db.bind(null,t,o);o.then(h,h)}})}function ln(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,_=i,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(js(E.type)){ut=E.stateNode,on=!1;break e}break;case 5:ut=E.stateNode,on=!1;break e;case 3:case 4:ut=E.stateNode.containerInfo,on=!0;break e}E=E.return}if(ut===null)throw Error(r(160));By(d,_,h),ut=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Fy(i,t),i=i.sibling}var Xn=null;function Fy(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),un(t),o&4&&(Os(3,t,t.return),ll(3,t),Os(5,t,t.return));break;case 1:ln(i,t),un(t),o&512&&(It||a===null||Ti(a,a.return)),o&64&&Fi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Xn;if(ln(i,t),un(t),o&512&&(It||a===null||Ti(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[oi]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Kt(d,o,a),d[bt]=t,At(d),o=d;break e;case"link":var _=F_("link","href",h).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(d=_[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break t}}d=h.createElement(o),Kt(d,o,a),h.head.appendChild(d);break;case"meta":if(_=F_("meta","content",h).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(d=_[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break t}}d=h.createElement(o),Kt(d,o,a),h.head.appendChild(d);break;default:throw Error(r(468,o))}d[bt]=t,At(d),o=d}t.stateNode=o}else G_(h,t.type,t.stateNode);else t.stateNode=H_(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?G_(h,t.type,t.stateNode):H_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&cd(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(i,t),un(t),o&512&&(It||a===null||Ti(a,a.return)),a!==null&&o&4&&cd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,t),un(t),o&512&&(It||a===null||Ti(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(oe){$e(t,t.return,oe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,cd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(dd=!0);break;case 6:if(ln(i,t),un(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(oe){$e(t,t.return,oe)}}break;case 3:if(Dc=null,h=Xn,Xn=Cc(i.containerInfo),ln(i,t),Xn=h,un(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Qa(i.containerInfo)}catch(oe){$e(t,t.return,oe)}dd&&(dd=!1,Gy(t));break;case 4:o=Xn,Xn=Cc(t.stateNode.containerInfo),ln(i,t),un(t),Xn=o;break;case 12:ln(i,t),un(t);break;case 31:ln(i,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 13:ln(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=tn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=Fi,K=It;if(Fi=j||h,It=K||C,ln(i,t),It=K,Fi=j,un(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Fi||It||Fr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=C.stateNode;var Y=C.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(oe){$e(C,C.return,oe)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(oe){$e(C,C.return,oe)}}}else if(i.tag===18){if(a===null){C=i;try{var H=C.stateNode;h?V_(H,!0):V_(C.stateNode,!1)}catch(oe){$e(C,C.return,oe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,pc(t,a))));break;case 19:ln(i,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,pc(t,o)));break;case 30:break;case 21:break;default:ln(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(Ly(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=hd(t);mc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var E=hd(t);mc(t,E,_);break;case 3:case 4:var C=a.stateNode.containerInfo,j=hd(t);fd(t,j,C);break;default:throw Error(r(161))}}catch(K){$e(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Gy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Gy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ki(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)jy(t,i.alternate,i),i=i.sibling}function Fr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Os(4,i,i.return),Fr(i);break;case 1:Ti(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Vy(i,i.return,a),Fr(i);break;case 27:_l(i.stateNode);case 26:case 5:Ti(i,i.return),Fr(i);break;case 22:i.memoizedState===null&&Fr(i);break;case 30:Fr(i);break;default:Fr(i)}t=t.sibling}}function Qi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Qi(h,d,a),ll(4,d);break;case 1:if(Qi(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){$e(o,o.return,j)}if(o=d,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)bg(C[h],E)}catch(j){$e(o,o.return,j)}}a&&_&64&&My(d),ul(d,d.return);break;case 27:Uy(d);case 26:case 5:Qi(h,d,a),a&&o===null&&_&4&&ky(d),ul(d,d.return);break;case 12:Qi(h,d,a);break;case 31:Qi(h,d,a),a&&_&4&&qy(h,d);break;case 13:Qi(h,d,a),a&&_&4&&Hy(h,d);break;case 22:d.memoizedState===null&&Qi(h,d,a),ul(d,d.return);break;case 30:break;default:Qi(h,d,a)}i=i.sibling}}function md(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Xo(a))}function pd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Xo(t))}function $n(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ky(t,i,a,o),i=i.sibling}function Ky(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:$n(t,i,a,o),h&2048&&ll(9,i);break;case 1:$n(t,i,a,o);break;case 3:$n(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Xo(t)));break;case 12:if(h&2048){$n(t,i,a,o),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,E=d.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){$e(i,i.return,C)}}else $n(t,i,a,o);break;case 31:$n(t,i,a,o);break;case 13:$n(t,i,a,o);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?$n(t,i,a,o):cl(t,i):d._visibility&2?$n(t,i,a,o):(d._visibility|=2,La(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&md(_,i);break;case 24:$n(t,i,a,o),h&2048&&pd(i.alternate,i);break;default:$n(t,i,a,o)}}function La(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,E=a,C=o,j=_.flags;switch(_.tag){case 0:case 11:case 15:La(d,_,E,C,h),ll(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?La(d,_,E,C,h):cl(d,_):(K._visibility|=2,La(d,_,E,C,h)),h&&j&2048&&md(_.alternate,_);break;case 24:La(d,_,E,C,h),h&&j&2048&&pd(_.alternate,_);break;default:La(d,_,E,C,h)}i=i.sibling}}function cl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:cl(a,o),h&2048&&md(o.alternate,o);break;case 24:cl(a,o),h&2048&&pd(o.alternate,o);break;default:cl(a,o)}i=i.sibling}}var hl=8192;function Ua(t,i,a){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)Qy(t,i,a),t=t.sibling}function Qy(t,i,a){switch(t.tag){case 26:Ua(t,i,a),t.flags&hl&&t.memoizedState!==null&&lA(a,Xn,t.memoizedState,t.memoizedProps);break;case 5:Ua(t,i,a);break;case 3:case 4:var o=Xn;Xn=Cc(t.stateNode.containerInfo),Ua(t,i,a),Xn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=hl,hl=16777216,Ua(t,i,a),hl=o):Ua(t,i,a));break;default:Ua(t,i,a)}}function Yy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function fl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Pt=o,$y(o,t)}Yy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xy(t),t=t.sibling}function Xy(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Os(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,gc(t)):fl(t);break;default:fl(t)}}function gc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Pt=o,$y(o,t)}Yy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Os(8,i,i.return),gc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,gc(i));break;default:gc(i)}t=t.sibling}}function $y(t,i){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Os(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Xo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Pt=o;else e:for(a=t;Pt!==null;){o=Pt;var h=o.sibling,d=o.return;if(zy(o),o===a){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var Ab={getCacheForType:function(t){var i=Ft(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(wt).controller.signal}},Sb=typeof WeakMap=="function"?WeakMap:Map,Fe=0,tt=null,Re=null,Ce=0,Xe=0,En=null,Ms=!1,Pa=!1,gd=!1,Yi=0,dt=0,Vs=0,Gr=0,yd=0,Tn=0,ja=0,dl=null,cn=null,_d=!1,yc=0,Jy=0,_c=1/0,vc=null,ks=null,Vt=0,Ls=null,za=null,Xi=0,vd=0,Ed=null,Zy=null,ml=0,Td=null;function bn(){return(Fe&2)!==0&&Ce!==0?Ce&-Ce:G.T!==null?xd():Eu()}function Wy(){if(Tn===0)if((Ce&536870912)===0||ke){var t=_r;_r<<=1,(_r&3932160)===0&&(_r=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function hn(t,i,a){(t===tt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),Us(t,Ce,Tn,!1)),vr(t,a),((Fe&2)===0||t!==tt)&&(t===tt&&((Fe&2)===0&&(Gr|=a),dt===4&&Us(t,Ce,Tn,!1)),bi(t))}function e_(t,i,a){if((Fe&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||zn(t,i),h=o?xb(t,i):Ad(t,i,!0),d=o;do{if(h===0){Pa&&!o&&Us(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!wb(a)){h=Ad(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var E=t;h=dl;var C=E.current.memoizedState.isDehydrated;if(C&&(Ba(E,_).flags|=256),_=Ad(E,_,!1),_!==2){if(gd&&!C){E.errorRecoveryDisabledLanes|=d,Gr|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ba(t,0),Us(t,i,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Us(o,i,Tn,!Ms);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=yc+300-tn(),10<h)){if(Us(o,i,Tn,!Ms),si(o,0,!0)!==0)break e;Xi=i,o.timeoutHandle=D_(t_.bind(null,o,a,cn,vc,_d,i,Tn,Gr,ja,Ms,d,"Throttled",-0,0),h);break e}t_(o,a,cn,vc,_d,i,Tn,Gr,ja,Ms,d,null,-0,0)}}break}while(!0);bi(t)}function t_(t,i,a,o,h,d,_,E,C,j,K,Y,z,H){if(t.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Qy(i,d,Y);var oe=(d&62914560)===d?yc-tn():(d&4194048)===d?Jy-tn():0;if(oe=uA(Y,oe),oe!==null){Xi=d,t.cancelPendingCommit=oe(u_.bind(null,t,i,d,a,o,h,_,E,C,K,Y,null,z,H)),Us(t,d,_,!j);return}}u_(t,i,d,a,o,h,_,E,C)}function wb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!gn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Us(t,i,a,o){i&=~yd,i&=~Gr,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var d=31-mt(h),_=1<<d;o[d]=-1,h&=~_}a!==0&&Er(t,a,i)}function Ec(){return(Fe&6)===0?(pl(0),!1):!0}function bd(){if(Re!==null){if(Xe===0)var t=Re.return;else t=Re,Pi=Lr=null,Pf(t),Da=null,Jo=0,t=Re;for(;t!==null;)Oy(t.alternate,t),t=t.return;Re=null}}function Ba(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Gb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Xi=0,bd(),tt=t,Re=a=Li(t.current,null),Ce=i,Xe=0,En=null,Ms=!1,Pa=zn(t,i),gd=!1,ja=Tn=yd=Gr=Vs=dt=0,cn=dl=null,_d=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-mt(o),d=1<<h;i|=t[h],o&=~d}return Yi=i,Bu(),a}function n_(t,i){Ae=null,G.H=rl,i===Na||i===Xu?(i=_g(),Xe=3):i===Rf?(i=_g(),Xe=4):Xe=i===ed?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,Re===null&&(dt=1,uc(t,Nn(i,t.current)))}function i_(){var t=_n.current;return t===null?!0:(Ce&4194048)===Ce?Vn===null:(Ce&62914560)===Ce||(Ce&536870912)!==0?t===Vn:!1}function s_(){var t=G.H;return G.H=rl,t===null?rl:t}function r_(){var t=G.A;return G.A=Ab,t}function Tc(){dt=4,Ms||(Ce&4194048)!==Ce&&_n.current!==null||(Pa=!0),(Vs&134217727)===0&&(Gr&134217727)===0||tt===null||Us(tt,Ce,Tn,!1)}function Ad(t,i,a){var o=Fe;Fe|=2;var h=s_(),d=r_();(tt!==t||Ce!==i)&&(vc=null,Ba(t,i)),i=!1;var _=dt;e:do try{if(Xe!==0&&Re!==null){var E=Re,C=En;switch(Xe){case 8:bd(),_=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var j=Xe;if(Xe=0,En=null,qa(t,E,C,j),a&&Pa){_=0;break e}break;default:j=Xe,Xe=0,En=null,qa(t,E,C,j)}}Rb(),_=dt;break}catch(K){n_(t,K)}while(!0);return i&&t.shellSuspendCounter++,Pi=Lr=null,Fe=o,G.H=h,G.A=d,Re===null&&(tt=null,Ce=0,Bu()),_}function Rb(){for(;Re!==null;)a_(Re)}function xb(t,i){var a=Fe;Fe|=2;var o=s_(),h=r_();tt!==t||Ce!==i?(vc=null,_c=tn()+500,Ba(t,i)):Pa=zn(t,i);e:do try{if(Xe!==0&&Re!==null){i=Re;var d=En;t:switch(Xe){case 1:Xe=0,En=null,qa(t,i,d,1);break;case 2:case 9:if(gg(d)){Xe=0,En=null,o_(i);break}i=function(){Xe!==2&&Xe!==9||tt!==t||(Xe=7),bi(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:gg(d)?(Xe=0,En=null,o_(i)):(Xe=0,En=null,qa(t,i,d,7));break;case 5:var _=null;switch(Re.tag){case 26:_=Re.memoizedState;case 5:case 27:var E=Re;if(_?K_(_):E.stateNode.complete){Xe=0,En=null;var C=E.sibling;if(C!==null)Re=C;else{var j=E.return;j!==null?(Re=j,bc(j)):Re=null}break t}}Xe=0,En=null,qa(t,i,d,5);break;case 6:Xe=0,En=null,qa(t,i,d,6);break;case 8:bd(),dt=6;break e;default:throw Error(r(462))}}Ib();break}catch(K){n_(t,K)}while(!0);return Pi=Lr=null,G.H=o,G.A=h,Fe=a,Re!==null?0:(tt=null,Ce=0,Bu(),dt)}function Ib(){for(;Re!==null&&!Zh();)a_(Re)}function a_(t){var i=Ny(t.alternate,t,Yi);t.memoizedProps=t.pendingProps,i===null?bc(t):Re=i}function o_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Sy(a,i,i.pendingProps,i.type,void 0,Ce);break;case 11:i=Sy(a,i,i.pendingProps,i.type.render,i.ref,Ce);break;case 5:Pf(i);default:Oy(a,i),i=Re=rg(i,Yi),i=Ny(a,i,Yi)}t.memoizedProps=t.pendingProps,i===null?bc(t):Re=i}function qa(t,i,a,o){Pi=Lr=null,Pf(i),Da=null,Jo=0;var h=i.return;try{if(gb(t,h,i,a,Ce)){dt=1,uc(t,Nn(a,t.current)),Re=null;return}}catch(d){if(h!==null)throw Re=h,d;dt=1,uc(t,Nn(a,t.current)),Re=null;return}i.flags&32768?(ke||o===1?t=!0:Pa||(Ce&536870912)!==0?t=!1:(Ms=t=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),l_(i,t)):bc(i)}function bc(t){var i=t;do{if((i.flags&32768)!==0){l_(i,Ms);return}t=i.return;var a=vb(i.alternate,i,Yi);if(a!==null){Re=a;return}if(i=i.sibling,i!==null){Re=i;return}Re=i=t}while(i!==null);dt===0&&(dt=5)}function l_(t,i){do{var a=Eb(t.alternate,t);if(a!==null){a.flags&=32767,Re=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Re=t;return}Re=t=a}while(t!==null);dt=6,Re=null}function u_(t,i,a,o,h,d,_,E,C){t.cancelPendingCommit=null;do Ac();while(Vt!==0);if((Fe&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=hf,tf(t,a,d,_,E,C),t===tt&&(Re=tt=null,Ce=0),za=i,Ls=t,Xi=a,vd=d,Ed=h,Zy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ob(ds,function(){return m_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=ne.p,ne.p=2,_=Fe,Fe|=4;try{Tb(t,i,a)}finally{Fe=_,ne.p=h,G.T=o}}Vt=1,c_(),h_(),f_()}}function c_(){if(Vt===1){Vt=0;var t=Ls,i=za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=ne.p;ne.p=2;var h=Fe;Fe|=4;try{Fy(i,t);var d=kd,_=$p(t.containerInfo),E=d.focusedElem,C=d.selectionRange;if(_!==E&&E&&E.ownerDocument&&Xp(E.ownerDocument.documentElement,E)){if(C!==null&&af(E)){var j=C.start,K=C.end;if(K===void 0&&(K=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(K,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var H=z.getSelection(),oe=E.textContent.length,pe=Math.min(C.start,oe),et=C.end===void 0?pe:Math.min(C.end,oe);!H.extend&&pe>et&&(_=et,et=pe,pe=_);var k=Yp(E,pe),M=Yp(E,et);if(k&&M&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),pe>et?(H.addRange(P),H.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),H.addRange(P))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}kc=!!Vd,kd=Vd=null}finally{Fe=h,ne.p=o,G.T=a}}t.current=i,Vt=2}}function h_(){if(Vt===2){Vt=0;var t=Ls,i=za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=ne.p;ne.p=2;var h=Fe;Fe|=4;try{jy(t,i.alternate,i)}finally{Fe=h,ne.p=o,G.T=a}}Vt=3}}function f_(){if(Vt===4||Vt===3){Vt=0,du();var t=Ls,i=za,a=Xi,o=Zy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,za=Ls=null,d_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ks=null),Oi(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(jn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=G.T,h=ne.p,ne.p=2,G.T=null;try{for(var d=t.onRecoverableError,_=0;_<o.length;_++){var E=o[_];d(E.value,{componentStack:E.stack})}}finally{G.T=i,ne.p=h}}(Xi&3)!==0&&Ac(),bi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Td?ml++:(ml=0,Td=t):ml=0,pl(0)}}function d_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Xo(i)))}function Ac(){return c_(),h_(),f_(),m_()}function m_(){if(Vt!==5)return!1;var t=Ls,i=vd;vd=0;var a=Oi(Xi),o=G.T,h=ne.p;try{ne.p=32>a?32:a,G.T=null,a=Ed,Ed=null;var d=Ls,_=Xi;if(Vt=0,za=Ls=null,Xi=0,(Fe&6)!==0)throw Error(r(331));var E=Fe;if(Fe|=4,Xy(d.current),Ky(d,d.current,_,a),Fe=E,pl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(jn,d)}catch{}return!0}finally{ne.p=h,G.T=o,d_(t,i)}}function p_(t,i,a){i=Nn(a,i),i=Wf(t.stateNode,i,2),t=Cs(t,i,2),t!==null&&(vr(t,2),bi(t))}function $e(t,i,a){if(t.tag===3)p_(t,t,a);else for(;i!==null;){if(i.tag===3){p_(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ks===null||!ks.has(o))){t=Nn(a,t),a=gy(2),o=Cs(i,a,2),o!==null&&(yy(a,o,i,t),vr(o,2),bi(o));break}}i=i.return}}function Sd(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new Sb;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(gd=!0,h.add(a),t=Cb.bind(null,t,i,a),i.then(t,t))}function Cb(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Ce&a)===a&&(dt===4||dt===3&&(Ce&62914560)===Ce&&300>tn()-yc?(Fe&2)===0&&Ba(t,0):yd|=a,ja===Ce&&(ja=0)),bi(t)}function g_(t,i){i===0&&(i=vu()),t=Mr(t,i),t!==null&&(vr(t,i),bi(t))}function Nb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),g_(t,a)}function Db(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),g_(t,a)}function Ob(t,i){return Mt(t,i)}var Sc=null,Ha=null,wd=!1,wc=!1,Rd=!1,Ps=0;function bi(t){t!==Ha&&t.next===null&&(Ha===null?Sc=Ha=t:Ha=Ha.next=t),wc=!0,wd||(wd=!0,Vb())}function pl(t,i){if(!Rd&&wc){Rd=!0;do for(var a=!1,o=Sc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var _=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=h&~(_&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,E_(o,d))}else d=Ce,d=si(o,o===tt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||zn(o,d)||(a=!0,E_(o,d));o=o.next}while(a);Rd=!1}}function Mb(){y_()}function y_(){wc=wd=!1;var t=0;Ps!==0&&Fb()&&(t=Ps);for(var i=tn(),a=null,o=Sc;o!==null;){var h=o.next,d=__(o,i);d===0?(o.next=null,a===null?Sc=h:a.next=h,h===null&&(Ha=a)):(a=o,(t!==0||(d&3)!==0)&&(wc=!0)),o=h}Vt!==0&&Vt!==5||pl(t),Ps!==0&&(Ps=0)}function __(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-mt(d),E=1<<_,C=h[_];C===-1?((E&a)===0||(E&o)!==0)&&(h[_]=ef(E,i)):C<=i&&(t.expiredLanes|=E),d&=~E}if(i=tt,a=Ce,a=si(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&fs(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||zn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&fs(o),Oi(a)){case 2:case 8:a=wo;break;case 32:a=ds;break;case 268435456:a=mu;break;default:a=ds}return o=v_.bind(null,t),a=Mt(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&fs(o),t.callbackPriority=2,t.callbackNode=null,2}function v_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ac()&&t.callbackNode!==a)return null;var o=Ce;return o=si(t,t===tt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(e_(t,o,i),__(t,tn()),t.callbackNode!=null&&t.callbackNode===a?v_.bind(null,t):null)}function E_(t,i){if(Ac())return null;e_(t,i,!0)}function Vb(){Kb(function(){(Fe&6)!==0?Mt(So,Mb):y_()})}function xd(){if(Ps===0){var t=Ia;t===0&&(t=ni,ni<<=1,(ni&261888)===0&&(ni=256)),Ps=t}return Ps}function T_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:da(""+t)}function b_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function kb(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=T_((h[Lt]||null).action),_=o.submitter;_&&(i=(i=_[Lt]||null)?T_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var E=new pi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ps!==0){var C=_?b_(h,_):new FormData(h);Qf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(E.preventDefault(),C=_?b_(h,_):new FormData(h),Qf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Id=0;Id<cf.length;Id++){var Cd=cf[Id],Lb=Cd.toLowerCase(),Ub=Cd[0].toUpperCase()+Cd.slice(1);Yn(Lb,"on"+Ub)}Yn(Wp,"onAnimationEnd"),Yn(eg,"onAnimationIteration"),Yn(tg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(WT,"onTransitionRun"),Yn(eb,"onTransitionStart"),Yn(tb,"onTransitionCancel"),Yn(ng,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function A_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var _=o.length-1;0<=_;_--){var E=o[_],C=E.instance,j=E.currentTarget;if(E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=j;try{d(h)}catch(K){zu(K)}h.currentTarget=null,d=C}else for(_=0;_<o.length;_++){if(E=o[_],C=E.instance,j=E.currentTarget,E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=j;try{d(h)}catch(K){zu(K)}h.currentTarget=null,d=C}}}}function xe(t,i){var a=i[la];a===void 0&&(a=i[la]=new Set);var o=t+"__bubble";a.has(o)||(S_(i,t,2,!1),a.add(o))}function Nd(t,i,a){var o=0;i&&(o|=4),S_(a,t,o,i)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Dd(t){if(!t[Rc]){t[Rc]=!0,Io.forEach(function(a){a!=="selectionchange"&&(Pb.has(a)||Nd(a,!1,t),Nd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Rc]||(i[Rc]=!0,Nd("selectionchange",!1,i))}}function S_(t,i,a,o){switch(W_(i)){case 2:var h=fA;break;case 8:h=dA;break;default:h=Kd}a=h.bind(null,i,a,t),h=void 0,!wr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Od(t,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=li(E),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){o=d=_;continue e}E=E.parentNode}}o=o.return}vs(function(){var j=d,K=Rn(a),Y=[];e:{var z=ig.get(t);if(z!==void 0){var H=pi,oe=t;switch(t){case"keypress":if(xr(a)===0)break e;case"keydown":case"keyup":H=Uu;break;case"focusin":oe="focus",H=Cr;break;case"focusout":oe="blur",H=Cr;break;case"beforeblur":case"afterblur":H=Cr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Wp:case eg:case tg:H=Nu;break;case ng:H=b;break;case"scroll":case"scrollend":H=zo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ki;break;case"toggle":case"beforetoggle":H=be}var pe=(i&4)!==0,et=!pe&&(t==="scroll"||t==="scrollend"),k=pe?z!==null?z+"Capture":null:z;pe=[];for(var M=j,P;M!==null;){var Q=M;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=Fn(M,k),Q!=null&&pe.push(yl(M,Q,P))),et)break;M=M.return}0<pe.length&&(z=new H(z,oe,null,a,K),Y.push({event:z,listeners:pe}))}}if((i&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&a!==Uo&&(oe=a.relatedTarget||a.fromElement)&&(li(oe)||oe[ai]))break e;if((H||z)&&(z=K.window===K?K:(z=K.ownerDocument)?z.defaultView||z.parentWindow:window,H?(oe=a.relatedTarget||a.toElement,H=j,oe=oe?li(oe):null,oe!==null&&(et=u(oe),pe=oe.tag,oe!==et||pe!==5&&pe!==27&&pe!==6)&&(oe=null)):(H=null,oe=j),H!==oe)){if(pe=Bo,Q="onMouseLeave",k="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(pe=ki,Q="onPointerLeave",k="onPointerEnter",M="pointer"),et=H==null?z:mn(H),P=oe==null?z:mn(oe),z=new pe(Q,M+"leave",H,a,K),z.target=et,z.relatedTarget=P,Q=null,li(K)===j&&(pe=new pe(k,M+"enter",oe,a,K),pe.target=P,pe.relatedTarget=et,Q=pe),et=Q,H&&oe)t:{for(pe=jb,k=H,M=oe,P=0,Q=k;Q;Q=pe(Q))P++;Q=0;for(var fe=M;fe;fe=pe(fe))Q++;for(;0<P-Q;)k=pe(k),P--;for(;0<Q-P;)M=pe(M),Q--;for(;P--;){if(k===M||M!==null&&k===M.alternate){pe=k;break t}k=pe(k),M=pe(M)}pe=null}else pe=null;H!==null&&w_(Y,z,H,pe,!1),oe!==null&&et!==null&&w_(Y,et,oe,pe,!0)}}e:{if(z=j?mn(j):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Be=qp;else if(zp(z))if(Hp)Be=$T;else{Be=YT;var le=QT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&fa(j.elementType)&&(Be=qp):Be=XT;if(Be&&(Be=Be(t,j))){Bp(Y,Be,a,K);break e}le&&le(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Vo(z,"number",z.value)}switch(le=j?mn(j):window,t){case"focusin":(zp(le)||le.contentEditable==="true")&&(Ea=le,of=j,Ko=null);break;case"focusout":Ko=of=Ea=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,Jp(Y,a,K);break;case"selectionchange":if(ZT)break;case"keydown":case"keyup":Jp(Y,a,K)}var we;if(He)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else va?Nr(t,a)&&(Ne="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ne="onCompositionStart");Ne&&(_i&&a.locale!=="ko"&&(va||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&va&&(we=jo()):(mi=K,Po="value"in mi?mi.value:mi.textContent,va=!0)),le=xc(j,Ne),0<le.length&&(Ne=new yi(Ne,t,null,a,K),Y.push({event:Ne,listeners:le}),we?Ne.data=we:(we=_a(a),we!==null&&(Ne.data=we)))),(we=In?HT(t,a):FT(t,a))&&(Ne=xc(j,"onBeforeInput"),0<Ne.length&&(le=new yi("onBeforeInput","beforeinput",null,a,K),Y.push({event:le,listeners:Ne}),le.data=we)),kb(Y,t,j,a,K)}A_(Y,i)})}function yl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function xc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Fn(t,a),h!=null&&o.unshift(yl(t,h,d)),h=Fn(t,i),h!=null&&o.push(yl(t,h,d))),t.tag===3)return o;t=t.return}return[]}function jb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function w_(t,i,a,o,h){for(var d=i._reactName,_=[];a!==null&&a!==o;){var E=a,C=E.alternate,j=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||j===null||(C=j,h?(j=Fn(a,d),j!=null&&_.unshift(yl(a,j,C))):h||(j=Fn(a,d),j!=null&&_.push(yl(a,j,C)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var zb=/\r\n?/g,Bb=/\u0000|\uFFFD/g;function R_(t){return(typeof t=="string"?t:""+t).replace(zb,`
`).replace(Bb,"")}function x_(t,i){return i=R_(i),R_(t)===i}function We(t,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||an(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&an(t,""+o);break;case"className":pn(t,"class",o);break;case"tabIndex":pn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,o);break;case"style":Lo(t,o,d);break;case"data":if(i!=="object"){pn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=da(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=da(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Hn);break;case"onScroll":o!=null&&xe("scroll",t);break;case"onScrollEnd":o!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=da(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":xe("beforetoggle",t),xe("toggle",t),ca(t,"popover",o);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ca(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xu.get(a)||a,ca(t,a,o))}}function Md(t,i,a,o,h,d){switch(a){case"style":Lo(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?an(t,o):(typeof o=="number"||typeof o=="bigint")&&an(t,""+o);break;case"onScroll":o!=null&&xe("scroll",t);break;case"onScrollEnd":o!=null&&xe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ca(t,a,o)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(t,i,d,_,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),o&&We(t,i,"src",a.src,a,null);return;case"input":xe("invalid",t);var E=d=_=h=null,C=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var K=a[o];if(K!=null)switch(o){case"name":h=K;break;case"type":_=K;break;case"checked":C=K;break;case"defaultChecked":j=K;break;case"value":d=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:We(t,i,o,K,a,null)}}Su(t,d,E,C,j,_,h,!1);return;case"select":xe("invalid",t),o=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:We(t,i,h,E,a,null)}i=d,a=_,t.multiple=!!o,i!=null?ps(t,!!o,i,!1):a!=null&&ps(t,!!o,a,!0);return;case"textarea":xe("invalid",t),d=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:We(t,i,_,E,a,null)}gs(t,o,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:We(t,i,C,o,a,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(o=0;o<gl.length;o++)xe(gl[o],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(t,i,j,o,a,null)}return;default:if(fa(i)){for(K in a)a.hasOwnProperty(K)&&(o=a[K],o!==void 0&&Md(t,i,K,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&We(t,i,E,o,a,null))}function qb(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,E=null,C=null,j=null,K=null;for(H in a){var Y=a[H];if(a.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Y;default:o.hasOwnProperty(H)||We(t,i,H,null,o,Y)}}for(var z in o){var H=o[z];if(Y=a[z],o.hasOwnProperty(z)&&(H!=null||Y!=null))switch(z){case"type":d=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":K=H;break;case"value":_=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==Y&&We(t,i,z,H,o,Y)}}ha(t,_,E,C,j,K,d,h);return;case"select":H=_=E=z=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(d)||We(t,i,d,null,o,C)}for(h in o)if(d=o[h],C=a[h],o.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":_=d;default:d!==C&&We(t,i,h,d,o,C)}i=E,a=_,o=H,z!=null?ps(t,!!a,z,!1):!!o!=!!a&&(i!=null?ps(t,!!a,i,!0):ps(t,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:We(t,i,E,null,o,h)}for(_ in o)if(h=o[_],d=a[_],o.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&We(t,i,_,h,o,d)}wu(t,z,H);return;case"option":for(var oe in a)if(z=a[oe],a.hasOwnProperty(oe)&&z!=null&&!o.hasOwnProperty(oe))switch(oe){case"selected":t.selected=!1;break;default:We(t,i,oe,null,o,z)}for(C in o)if(z=o[C],H=a[C],o.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null))switch(C){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:We(t,i,C,z,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)z=a[pe],a.hasOwnProperty(pe)&&z!=null&&!o.hasOwnProperty(pe)&&We(t,i,pe,null,o,z);for(j in o)if(z=o[j],H=a[j],o.hasOwnProperty(j)&&z!==H&&(z!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,i));break;default:We(t,i,j,z,o,H)}return;default:if(fa(i)){for(var et in a)z=a[et],a.hasOwnProperty(et)&&z!==void 0&&!o.hasOwnProperty(et)&&Md(t,i,et,void 0,o,z);for(K in o)z=o[K],H=a[K],!o.hasOwnProperty(K)||z===H||z===void 0&&H===void 0||Md(t,i,K,z,o,H);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&We(t,i,k,null,o,z);for(Y in o)z=o[Y],H=a[Y],!o.hasOwnProperty(Y)||z===H||z==null&&H==null||We(t,i,Y,z,o,H)}function I_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,_=h.initiatorType,E=h.duration;if(d&&E&&I_(_)){for(_=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],j=C.startTime;if(j>E)break;var K=C.transferSize,Y=C.initiatorType;K&&I_(Y)&&(C=C.responseEnd,_+=K*(C<E?1:(E-j)/(C-j)))}if(--o,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Vd=null,kd=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function C_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ld(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ud=null;function Fb(){var t=window.event;return t&&t.type==="popstate"?t===Ud?!1:(Ud=t,!0):(Ud=null,!1)}var D_=typeof setTimeout=="function"?setTimeout:void 0,Gb=typeof clearTimeout=="function"?clearTimeout:void 0,O_=typeof Promise=="function"?Promise:void 0,Kb=typeof queueMicrotask=="function"?queueMicrotask:typeof O_<"u"?function(t){return O_.resolve(null).then(t).catch(Qb)}:D_;function Qb(t){setTimeout(function(){throw t})}function js(t){return t==="head"}function M_(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Qa(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")_l(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,_l(a);for(var d=a.firstChild;d;){var _=d.nextSibling,E=d.nodeName;d[oi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&_l(t.ownerDocument.body);a=h}while(a);Qa(i)}function V_(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Pd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pd(a),ua(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Yb(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[oi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function Xb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function k_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=kn(t.nextSibling),t===null))return null;return t}function jd(t){return t.data==="$?"||t.data==="$~"}function zd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $b(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Bd=null;function L_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function U_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function P_(t,i,a){switch(i=Ic(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function _l(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ua(t)}var Ln=new Map,j_=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $i=ne.d;ne.d={f:Jb,r:Zb,D:Wb,C:eA,L:tA,m:nA,X:sA,S:iA,M:rA};function Jb(){var t=$i.f(),i=Ec();return t||i}function Zb(t){var i=wn(t);i!==null&&i.tag===5&&i.type==="form"?ny(i):$i.r(t)}var Fa=typeof document>"u"?null:document;function z_(t,i,a){var o=Fa;if(o&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),j_.has(h)||(j_.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Kt(i,"link",t),At(i),o.head.appendChild(i)))}}function Wb(t){$i.D(t),z_("dns-prefetch",t,null)}function eA(t,i){$i.C(t,i),z_("preconnect",t,i)}function tA(t,i,a){$i.L(t,i,a);var o=Fa;if(o&&t&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var d=h;switch(i){case"style":d=Ga(t);break;case"script":d=Ka(t)}Ln.has(d)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(vl(d))||i==="script"&&o.querySelector(El(d))||(i=o.createElement("link"),Kt(i,"link",t),At(i),o.head.appendChild(i)))}}function nA(t,i){$i.m(t,i);var a=Fa;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ka(t)}if(!Ln.has(d)&&(t=S({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(d)))return}o=a.createElement("link"),Kt(o,"link",t),At(o),a.head.appendChild(o)}}}function iA(t,i,a){$i.S(t,i,a);var o=Fa;if(o&&t){var h=ui(o).hoistableStyles,d=Ga(t);i=i||"default";var _=h.get(d);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(vl(d)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&qd(t,a);var C=_=o.createElement("link");At(C),Kt(C,"link",t),C._p=new Promise(function(j,K){C.onload=j,C.onerror=K}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(d,_)}}}function sA(t,i){$i.X(t,i);var a=Fa;if(a&&t){var o=ui(a).hoistableScripts,h=Ka(t),d=o.get(h);d||(d=a.querySelector(El(h)),d||(t=S({src:t,async:!0},i),(i=Ln.get(h))&&Hd(t,i),d=a.createElement("script"),At(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function rA(t,i){$i.M(t,i);var a=Fa;if(a&&t){var o=ui(a).hoistableScripts,h=Ka(t),d=o.get(h);d||(d=a.querySelector(El(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&Hd(t,i),d=a.createElement("script"),At(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function B_(t,i,a,o){var h=(h=Se.current)?Cc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ga(a.href),a=ui(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ga(a.href);var d=ui(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(vl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||aA(h,t,a,_.state))),i&&o===null)throw Error(r(528,""));return _}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ka(a),a=ui(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ga(t){return'href="'+rn(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function q_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function aA(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Kt(i,"link",a),At(i),t.head.appendChild(i))}function Ka(t){return'[src="'+rn(t)+'"]'}function El(t){return"script[async]"+t}function H_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return i.instance=o,At(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),At(o),Kt(o,"style",h),Nc(o,a.precedence,t),i.instance=o;case"stylesheet":h=Ga(a.href);var d=t.querySelector(vl(h));if(d)return i.state.loading|=4,i.instance=d,At(d),d;o=q_(a),(h=Ln.get(h))&&qd(o,h),d=(t.ownerDocument||t).createElement("link"),At(d);var _=d;return _._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Kt(d,"link",o),i.state.loading|=4,Nc(d,a.precedence,t),i.instance=d;case"script":return d=Ka(a.src),(h=t.querySelector(El(d)))?(i.instance=h,At(h),h):(o=a,(h=Ln.get(d))&&(o=S({},a),Hd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Kt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Nc(o,a.precedence,t));return i.instance}function Nc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Hd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Dc=null;function F_(t,i,a){if(Dc===null){var o=new Map,h=Dc=new Map;h.set(a,o)}else h=Dc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[oi]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var E=o.get(_);E?E.push(d):o.set(_,[d])}}return o}function G_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function oA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function K_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function lA(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ga(o.href),d=i.querySelector(vl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Oc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=i.ownerDocument||i,o=q_(o),(h=Ln.get(h))&&qd(o,h),d=d.createElement("link"),At(d);var _=d;_._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Kt(d,"link",o),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Oc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Fd=0;function uA(t,i){return t.stylesheets&&t.count===0&&Vc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Fd===0&&(Fd=62500*Hb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Vc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Fd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mc=null;function Vc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mc=new Map,i.forEach(cA,t),Mc=null,Oc.call(t))}function cA(t,i){if(!(i.state.loading&4)){var a=Mc.get(t);if(a)var o=a.get(null);else{a=new Map,Mc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||o,d===o&&a.set(null,h),a.set(_,h),this.count++,o=Oc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Tl={$$typeof:ue,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function hA(t,i,a,o,h,d,_,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Q_(t,i,a,o,h,d,_,E,C,j,K,Y){return t=new hA(t,i,a,_,C,j,K,Y,E),i=1,d===!0&&(i|=24),d=yn(3,null,null,i),t.current=d,d.stateNode=t,i=Af(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},xf(d),t}function Y_(t){return t?(t=Aa,t):Aa}function X_(t,i,a,o,h,d){h=Y_(h),o.context===null?o.context=h:o.pendingContext=h,o=Is(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Cs(t,o,i),a!==null&&(hn(a,t,i),Wo(a,t,i))}function $_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Gd(t,i){$_(t,i),(t=t.alternate)&&$_(t,i)}function J_(t){if(t.tag===13||t.tag===31){var i=Mr(t,67108864);i!==null&&hn(i,t,67108864),Gd(t,67108864)}}function Z_(t){if(t.tag===13||t.tag===31){var i=bn();i=Tr(i);var a=Mr(t,i);a!==null&&hn(a,t,i),Gd(t,i)}}var kc=!0;function fA(t,i,a,o){var h=G.T;G.T=null;var d=ne.p;try{ne.p=2,Kd(t,i,a,o)}finally{ne.p=d,G.T=h}}function dA(t,i,a,o){var h=G.T;G.T=null;var d=ne.p;try{ne.p=8,Kd(t,i,a,o)}finally{ne.p=d,G.T=h}}function Kd(t,i,a,o){if(kc){var h=Qd(o);if(h===null)Od(t,i,o,Lc,a),e0(t,o);else if(pA(h,t,i,a,o))o.stopPropagation();else if(e0(t,o),i&4&&-1<mA.indexOf(t)){for(;h!==null;){var d=wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ii(d.pendingLanes);if(_!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var C=1<<31-mt(_);E.entanglements[1]|=C,_&=~C}bi(d),(Fe&6)===0&&(_c=tn()+500,pl(0))}}break;case 31:case 13:E=Mr(d,2),E!==null&&hn(E,d,2),Ec(),Gd(d,2)}if(d=Qd(o),d===null&&Od(t,i,o,Lc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Od(t,i,o,null,a)}}function Qd(t){return t=Rn(t),Yd(t)}var Lc=null;function Yd(t){if(Lc=null,t=li(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Lc=t,null}function W_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yr()){case So:return 2;case wo:return 8;case ds:case Wh:return 32;case mu:return 268435456;default:return 32}default:return 32}}var Xd=!1,zs=null,Bs=null,qs=null,bl=new Map,Al=new Map,Hs=[],mA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e0(t,i){switch(t){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(i.pointerId)}}function Sl(t,i,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=wn(i),i!==null&&J_(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function pA(t,i,a,o,h){switch(i){case"focusin":return zs=Sl(zs,t,i,a,o,h),!0;case"dragenter":return Bs=Sl(Bs,t,i,a,o,h),!0;case"mouseover":return qs=Sl(qs,t,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return bl.set(d,Sl(bl.get(d)||null,t,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,Al.set(d,Sl(Al.get(d)||null,t,i,a,o,h)),!0}return!1}function t0(t){var i=li(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Bn(t.priority,function(){Z_(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,Bn(t.priority,function(){Z_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Qd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Uo=o,a.target.dispatchEvent(o),Uo=null}else return i=wn(a),i!==null&&J_(i),t.blockedOn=a,!1;i.shift()}return!0}function n0(t,i,a){Uc(t)&&a.delete(i)}function gA(){Xd=!1,zs!==null&&Uc(zs)&&(zs=null),Bs!==null&&Uc(Bs)&&(Bs=null),qs!==null&&Uc(qs)&&(qs=null),bl.forEach(n0),Al.forEach(n0)}function Pc(t,i){t.blockedOn===i&&(t.blockedOn=null,Xd||(Xd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,gA)))}var jc=null;function i0(t){jc!==t&&(jc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){jc===t&&(jc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(Yd(o||a)===null)continue;break}var d=wn(a);d!==null&&(t.splice(i,3),i-=3,Qf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Qa(t){function i(C){return Pc(C,t)}zs!==null&&Pc(zs,t),Bs!==null&&Pc(Bs,t),qs!==null&&Pc(qs,t),bl.forEach(i),Al.forEach(i);for(var a=0;a<Hs.length;a++){var o=Hs[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Hs.length&&(a=Hs[0],a.blockedOn===null);)t0(a),a.blockedOn===null&&Hs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],_=h[Lt]||null;if(typeof d=="function")_||i0(a);else if(_){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Lt]||null)E=_.formAction;else if(Yd(h)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),i0(a)}}}function s0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function $d(t){this._internalRoot=t}zc.prototype.render=$d.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=bn();X_(a,o,t,i,null,null)},zc.prototype.unmount=$d.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;X_(t.current,2,null,t,null,null),Ec(),i[ai]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Eu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Hs.length&&i!==0&&i<Hs[a].priority;a++);Hs.splice(a,0,t),a===0&&t0(t)}};var r0=e.version;if(r0!=="19.2.4")throw Error(r(527,r0,"19.2.4"));ne.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var yA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{jn=Bc.inject(yA),Bt=Bc}catch{}}return Rl.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",h=fy,d=dy,_=my;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Q_(t,1,!1,null,null,a,o,null,h,d,_,s0),t[ai]=i.current,Dd(t),new $d(i)},Rl.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,h="",d=fy,_=dy,E=my,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=Q_(t,1,!0,i,a??null,o,h,C,d,_,E,s0),i.context=Y_(null),a=i.current,o=bn(),o=Tr(o),h=Is(o),h.callback=null,Cs(a,h,o),a=o,i.current.lanes=a,vr(i,a),bi(i),t[ai]=i.current,Dd(t),new zc(i)},Rl.version="19.2.4",Rl}var p0;function IA(){if(p0)return Wd.exports;p0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Wd.exports=xA(),Wd.exports}var CA=IA();const NA=Zv(CA),DA=()=>{};var g0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},OA=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],f=s[n++],p=s[n++],g=((l&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],f=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},eE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],f=l+1<s.length,p=f?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,T=u>>2,S=(u&3)<<4|p>>4;let x=(p&15)<<2|y>>6,B=y&63;g||(B=64,f||(x=64)),r.push(n[T],n[S],n[x],n[B])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Wv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):OA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const S=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||p==null||y==null||S==null)throw new MA;const x=u<<2|p>>4;if(r.push(x),y!==64){const B=p<<4&240|y>>2;if(r.push(B),S!==64){const J=y<<6&192|S;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class MA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VA=function(s){const e=Wv(s);return eE.encodeByteArray(e,!0)},lh=function(s){return VA(s).replace(/\./g,"")},tE=function(s){try{return eE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=()=>kA().__FIREBASE_DEFAULTS__,UA=()=>{if(typeof process>"u"||typeof g0>"u")return;const s=g0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},PA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&tE(s[1]);return e&&JSON.parse(e)},Dh=()=>{try{return DA()||LA()||UA()||PA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},nE=s=>{var e,n;return(n=(e=Dh())==null?void 0:e.emulatorHosts)==null?void 0:n[s]},jA=s=>{const e=nE(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iE=()=>{var s;return(s=Dh())==null?void 0:s.config},sE=s=>{var e;return(e=Dh())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[lh(JSON.stringify(n)),lh(JSON.stringify(f)),""].join(".")}const Vl={};function qA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Vl))Vl[e]?s.emulator.push(e):s.prod.push(e);return s}function HA(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let y0=!1;function aE(s,e){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Vl[s]===e||Vl[s]||y0)return;Vl[s]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",u=qA().prod.length>0;function f(){const x=document.getElementById(r);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function g(x,B){x.setAttribute("width","24"),x.setAttribute("id",B),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{y0=!0,f()},x}function T(x,B){x.setAttribute("id",B),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=HA(r),B=n("text"),J=document.getElementById(B)||document.createElement("span"),W=n("learnmore"),Z=document.getElementById(W)||document.createElement("a"),ce=n("preprendIcon"),me=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ue=x.element;p(ue),T(Z,W);const Ve=y();g(me,ce),ue.append(me,J,Z,Ve),document.body.appendChild(ue)}u?(J.innerText="Preview backend disconnected.",me.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(me.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function GA(){var e;const s=(e=Dh())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function YA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XA(){const s=en();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function $A(){return!GA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JA(){try{return typeof indexedDB=="object"}catch{return!1}}function ZA(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="FirebaseError";class us extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WA,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zl.prototype.create)}}class Zl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?eS(u,r):"Error",p=`${this.serviceName}: ${f} (${l}).`;return new us(l,p,r)}}function eS(s,e){return s.replace(tS,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const tS=/\{\$([^}]+)}/g;function nS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Xr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const u=s[l],f=e[l];if(_0(u)&&_0(f)){if(!Xr(u,f))return!1}else if(u!==f)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function _0(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Il(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Cl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function iS(s,e){const n=new sS(s,e);return n.subscribe.bind(n)}class sS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rS(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=im),l.error===void 0&&(l.error=im),l.complete===void 0&&(l.complete=im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rS(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(s){return s&&s._delegate?s._delegate:s}class $r{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lS(e))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=Kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Kr){return this.instances.has(e)}getOptions(e=Kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&f.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Kr){return this.component?this.component.multipleInstances?e:Kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oS(s){return s===Kr?void 0:s}function lS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(De||(De={}));const cS={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},hS=De.INFO,fS={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},dS=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=fS[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qm{constructor(e){this.name=e,this._logLevel=hS,this._logHandler=dS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const mS=(s,e)=>e.some(n=>s instanceof n);let v0,E0;function pS(){return v0||(v0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gS(){return E0||(E0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oE=new WeakMap,vm=new WeakMap,lE=new WeakMap,sm=new WeakMap,Ym=new WeakMap;function yS(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(er(s.result)),l()},f=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&oE.set(n,s)}).catch(()=>{}),Ym.set(e,s),e}function _S(s){if(vm.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});vm.set(s,e)}let Em={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return vm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||lE.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return er(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function vS(s){Em=s(Em)}function ES(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(rm(this),e,...n);return lE.set(r,e.sort?e.sort():[e]),er(r)}:gS().includes(s)?function(...e){return s.apply(rm(this),e),er(oE.get(this))}:function(...e){return er(s.apply(rm(this),e))}}function TS(s){return typeof s=="function"?ES(s):(s instanceof IDBTransaction&&_S(s),mS(s,pS())?new Proxy(s,Em):s)}function er(s){if(s instanceof IDBRequest)return yS(s);if(sm.has(s))return sm.get(s);const e=TS(s);return e!==s&&(sm.set(s,e),Ym.set(e,s)),e}const rm=s=>Ym.get(s);function bS(s,e,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const f=indexedDB.open(s,e),p=er(f);return r&&f.addEventListener("upgradeneeded",g=>{r(er(f.result),g.oldVersion,g.newVersion,er(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const AS=["get","getKey","getAll","getAllKeys","count"],SS=["put","add","delete","clear"],am=new Map;function T0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=SS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||AS.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return am.set(e,u),u}vS(s=>({...s,get:(e,n,r)=>T0(e,n)||s.get(e,n,r),has:(e,n)=>!!T0(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function RS(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tm="@firebase/app",b0="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new Qm("@firebase/app"),xS="@firebase/app-compat",IS="@firebase/analytics-compat",CS="@firebase/analytics",NS="@firebase/app-check-compat",DS="@firebase/app-check",OS="@firebase/auth",MS="@firebase/auth-compat",VS="@firebase/database",kS="@firebase/data-connect",LS="@firebase/database-compat",US="@firebase/functions",PS="@firebase/functions-compat",jS="@firebase/installations",zS="@firebase/installations-compat",BS="@firebase/messaging",qS="@firebase/messaging-compat",HS="@firebase/performance",FS="@firebase/performance-compat",GS="@firebase/remote-config",KS="@firebase/remote-config-compat",QS="@firebase/storage",YS="@firebase/storage-compat",XS="@firebase/firestore",$S="@firebase/ai",JS="@firebase/firestore-compat",ZS="firebase",WS="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="[DEFAULT]",ew={[Tm]:"fire-core",[xS]:"fire-core-compat",[CS]:"fire-analytics",[IS]:"fire-analytics-compat",[DS]:"fire-app-check",[NS]:"fire-app-check-compat",[OS]:"fire-auth",[MS]:"fire-auth-compat",[VS]:"fire-rtdb",[kS]:"fire-data-connect",[LS]:"fire-rtdb-compat",[US]:"fire-fn",[PS]:"fire-fn-compat",[jS]:"fire-iid",[zS]:"fire-iid-compat",[BS]:"fire-fcm",[qS]:"fire-fcm-compat",[HS]:"fire-perf",[FS]:"fire-perf-compat",[GS]:"fire-rc",[KS]:"fire-rc-compat",[QS]:"fire-gcs",[YS]:"fire-gcs-compat",[XS]:"fire-fst",[JS]:"fire-fst-compat",[$S]:"fire-vertex","fire-js":"fire-js",[ZS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Map,tw=new Map,Am=new Map;function A0(s,e){try{s.container.addComponent(e)}catch(n){is.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function ro(s){const e=s.name;if(Am.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;Am.set(e,s);for(const n of uh.values())A0(n,s);for(const n of tw.values())A0(n,s);return!0}function Xm(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Un(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tr=new Zl("app","Firebase",nw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=WS;function uE(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:bm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw tr.create("bad-app-name",{appName:String(l)});if(n||(n=iE()),!n)throw tr.create("no-options");const u=uh.get(l);if(u){if(Xr(n,u.options)&&Xr(r,u.config))return u;throw tr.create("duplicate-app",{appName:l})}const f=new uS(l);for(const g of Am.values())f.addComponent(g);const p=new iw(n,r,f);return uh.set(l,p),p}function cE(s=bm){const e=uh.get(s);if(!e&&s===bm&&iE())return uE();if(!e)throw tr.create("no-app",{appName:s});return e}function nr(s,e,n){let r=ew[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${r}" with version "${e}":`];l&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(f.join(" "));return}ro(new $r(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="firebase-heartbeat-database",rw=1,ql="firebase-heartbeat-store";let om=null;function hE(){return om||(om=bS(sw,rw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(s=>{throw tr.create("idb-open",{originalErrorMessage:s.message})})),om}async function aw(s){try{const n=(await hE()).transaction(ql),r=await n.objectStore(ql).get(fE(s));return await n.done,r}catch(e){if(e instanceof us)is.warn(e.message);else{const n=tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});is.warn(n.message)}}}async function S0(s,e){try{const r=(await hE()).transaction(ql,"readwrite");await r.objectStore(ql).put(e,fE(s)),await r.done}catch(n){if(n instanceof us)is.warn(n.message);else{const r=tr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});is.warn(r.message)}}}function fE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=1024,lw=30;class uw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=w0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>lw){const f=fw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){is.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=w0(),{heartbeatsToSend:r,unsentEntries:l}=cw(this._heartbeatsCache.heartbeats),u=lh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return is.warn(n),""}}}function w0(){return new Date().toISOString().substring(0,10)}function cw(s,e=ow){const n=[];let r=s.slice();for(const l of s){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),R0(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),R0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JA()?ZA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function R0(s){return lh(JSON.stringify({version:2,heartbeats:s})).length}function fw(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(s){ro(new $r("platform-logger",e=>new wS(e),"PRIVATE")),ro(new $r("heartbeat",e=>new uw(e),"PRIVATE")),nr(Tm,b0,s),nr(Tm,b0,"esm2020"),nr("fire-js","")}dw("");var mw="firebase",pw="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr(mw,pw,"app");function dE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gw=dE,mE=new Zl("auth","Firebase",dE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Qm("@firebase/auth");function yw(s,...e){ch.logLevel<=De.WARN&&ch.warn(`Auth (${mo}): ${s}`,...e)}function $c(s,...e){ch.logLevel<=De.ERROR&&ch.error(`Auth (${mo}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(s,...e){throw $m(s,...e)}function wi(s,...e){return $m(s,...e)}function pE(s,e,n){const r={...gw(),[e]:n};return new Zl("auth","Firebase",r).create(e,{appName:s.name})}function ts(s){return pE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $m(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return mE.create(s,...e)}function ge(s,e,...n){if(!s)throw $m(e,...n)}function Wi(s){const e="INTERNAL ASSERTION FAILED: "+s;throw $c(e),new Error(e)}function ss(s,e){s||Wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function _w(){return x0()==="http:"||x0()==="https:"}function x0(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_w()||QA()||"connection"in navigator)?navigator.onLine:!0}function Ew(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ss(n>e,"Short delay should be less than long delay!"),this.isMobile=FA()||YA()}get(){return vw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(s,e){ss(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Aw=new eu(3e4,6e4);function cs(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function hs(s,e,n,r,l={}){return yE(s,l,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const p=Wl({key:s.config.apiKey,...f}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...u};return KA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&fo(s.emulatorConfig.host)&&(y.credentials="include"),gE.fetch()(await _E(s,s.config.apiHost,n,p),y)})}async function yE(s,e,n){s._canInitEmulator=!1;const r={...Tw,...e};try{const l=new ww(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw qc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(s,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw qc(s,"email-already-in-use",f);if(g==="USER_DISABLED")throw qc(s,"user-disabled",f);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw pE(s,T,y);Wn(s,T)}}catch(l){if(l instanceof us)throw l;Wn(s,"network-request-failed",{message:String(l)})}}async function tu(s,e,n,r,l={}){const u=await hs(s,e,n,r,l);return"mfaPendingCredential"in u&&Wn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function _E(s,e,n,r){const l=`${e}${n}?${r}`,u=s,f=u.config.emulator?Jm(s.config,l):`${s.config.apiScheme}://${l}`;return bw.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Sw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ww{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wi(this.auth,"network-request-failed")),Aw.get())})}}function qc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=wi(s,e,r);return l.customData._tokenResponse=n,l}function I0(s){return s!==void 0&&s.enterprise!==void 0}class Rw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Sw(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xw(s,e){return hs(s,"GET","/v2/recaptchaConfig",cs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iw(s,e){return hs(s,"POST","/v1/accounts:delete",e)}async function hh(s,e){return hs(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Cw(s,e=!1){const n=zt(s),r=await n.getIdToken(e),l=Zm(r);ge(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:r,authTime:kl(lm(l.auth_time)),issuedAtTime:kl(lm(l.iat)),expirationTime:kl(lm(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function lm(s){return Number(s)*1e3}function Zm(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const l=tE(n);return l?JSON.parse(l):($c("Failed to decode base64 JWT payload"),null)}catch(l){return $c("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function C0(s){const e=Zm(s);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof us&&Nw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Nw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(s){var S;const e=s.auth,n=await s.getIdToken(),r=await Hl(s,hh(e,{idToken:n}));ge(r==null?void 0:r.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=(S=l.providerUserInfo)!=null&&S.length?vE(l.providerUserInfo):[],f=Mw(s.providerData,u),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!(f!=null&&f.length),y=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new wm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function Ow(s){const e=zt(s);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Mw(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function vE(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vw(s,e){const n=await yE(s,{},async()=>{const r=Wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,f=await _E(s,l,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&fo(s.emulatorConfig.host)&&(g.credentials="include"),gE.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kw(s,e){return hs(s,"POST","/v2/accounts:revokeToken",cs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=C0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await Vw(e,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,f=new Wa;return r&&(ge(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),l&&(ge(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(ge(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(s,e){ge(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Jn{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Dw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new wm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Hl(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Cw(this,e)}reload(){return Ow(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(ts(this.auth));const e=await this.getIdToken();return await Hl(this,Iw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:B,providerData:J,stsTokenManager:W}=n;ge(S&&W,e,"internal-error");const Z=Wa.fromJSON(this.name,W);ge(typeof S=="string",e,"internal-error"),Gs(r,e.name),Gs(l,e.name),ge(typeof x=="boolean",e,"internal-error"),ge(typeof B=="boolean",e,"internal-error"),Gs(u,e.name),Gs(f,e.name),Gs(p,e.name),Gs(g,e.name),Gs(y,e.name),Gs(T,e.name);const ce=new Jn({uid:S,auth:e,email:l,emailVerified:x,displayName:r,isAnonymous:B,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:Z,createdAt:y,lastLoginAt:T});return J&&Array.isArray(J)&&(ce.providerData=J.map(me=>({...me}))),g&&(ce._redirectEventId=g),ce}static async _fromIdTokenResponse(e,n,r=!1){const l=new Wa;l.updateFromServerResponse(n);const u=new Jn({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await fh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];ge(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?vE(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),p=new Wa;p.updateFromIdToken(r);const g=new Jn({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new wm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new Map;function es(s){ss(s instanceof Function,"Expected a class definition");let e=N0.get(s);return e?(ss(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,N0.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EE.type="NONE";const D0=EE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(s,e,n){return`firebase:${s}:${e}:${n}`}class eo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Jc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Jc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hh(this.auth,{idToken:e}).catch(()=>{});return n?Jn._fromGetAccountInfoResponse(this.auth,n,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new eo(es(D0),e,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||es(D0);const f=Jc(r,e.config.apiKey,e.name);let p=null;for(const y of n)try{const T=await y._get(f);if(T){let S;if(typeof T=="string"){const x=await hh(e,{idToken:T}).catch(()=>{});if(!x)break;S=await Jn._fromGetAccountInfoResponse(e,x,T)}else S=Jn._fromJSON(e,T);y!==u&&(p=S),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new eo(u,e,r):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new eo(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RE(e))return"Blackberry";if(xE(e))return"Webos";if(bE(e))return"Safari";if((e.includes("chrome/")||AE(e))&&!e.includes("edge/"))return"Chrome";if(wE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TE(s=en()){return/firefox\//i.test(s)}function bE(s=en()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AE(s=en()){return/crios\//i.test(s)}function SE(s=en()){return/iemobile/i.test(s)}function wE(s=en()){return/android/i.test(s)}function RE(s=en()){return/blackberry/i.test(s)}function xE(s=en()){return/webos/i.test(s)}function Wm(s=en()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Lw(s=en()){var e;return Wm(s)&&!!((e=window.navigator)!=null&&e.standalone)}function Uw(){return XA()&&document.documentMode===10}function IE(s=en()){return Wm(s)||wE(s)||xE(s)||RE(s)||/windows phone/i.test(s)||SE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(s,e=[]){let n;switch(s){case"Browser":n=O0(en());break;case"Worker":n=`${O0(en())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,p)=>{try{const g=e(u);f(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jw(s,e={}){return hs(s,"GET","/v2/passwordPolicy",cs(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=6;class Bw{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M0(this),this.idTokenSubscription=new M0(this),this.beforeStateQueue=new Pw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(async()=>{var r,l,u;if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hh(this,{idToken:e}),r=await Jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Un(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,p=r==null?void 0:r._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===p)&&(g!=null&&g.user)&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(f){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ew()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(ts(this));const n=e?zt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jw(this),n=new Bw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kw(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&es(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,l);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&yw(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function hr(s){return zt(s)}class M0{constructor(e){this.auth=e,this.observer=null,this.addObserver=iS(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hw(s){Oh=s}function NE(s){return Oh.loadJS(s)}function Fw(){return Oh.recaptchaEnterpriseScript}function Gw(){return Oh.gapiScript}function Kw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Qw{constructor(){this.enterprise=new Yw}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Yw{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Xw="recaptcha-enterprise",DE="NO_RECAPTCHA";class $w{constructor(e){this.type=Xw,this.auth=hr(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{xw(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new Rw(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{p(g)})})}function l(u,f,p){const g=window.grecaptcha;I0(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(DE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Qw().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(p=>{if(!n&&I0(window.grecaptcha))l(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=Fw();g.length!==0&&(g+=p),NE(g).then(()=>{l(p,u,f)}).catch(y=>{f(y)})}}).catch(p=>{f(p)})})}}async function V0(s,e,n,r=!1,l=!1){const u=new $w(s);let f;if(l)f=DE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function dh(s,e,n,r,l){var u;if((u=s._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await V0(s,e,n,n==="getOobCode");return r(s,f)}else return r(s,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await V0(s,e,n,n==="getOobCode");return r(s,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(s,e){const n=Xm(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Xr(u,e??{}))return l;Wn(l,"already-initialized")}return n.initialize({options:e})}function Zw(s,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(es);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Ww(s,e,n){const r=hr(s);ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=OE(e),{host:f,port:p}=e2(e),g=p===null?"":`:${p}`,y={url:`${u}//${f}${g}/`},T=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ge(Xr(y,r.config.emulator)&&Xr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,fo(f)?(rE(`${u}//${f}${g}`),aE("Auth",!0)):t2()}function OE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function e2(s){const e=OE(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:k0(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:k0(f)}}}function k0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function t2(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,n){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function n2(s,e){return hs(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(s,e){return tu(s,"POST","/v1/accounts:signInWithPassword",cs(s,e))}async function s2(s,e){return hs(s,"POST","/v1/accounts:sendOobCode",cs(s,e))}async function r2(s,e){return s2(s,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(s,e){return tu(s,"POST","/v1/accounts:signInWithEmailLink",cs(s,e))}async function o2(s,e){return tu(s,"POST","/v1/accounts:signInWithEmailLink",cs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends ep{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new Fl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,n,"signInWithPassword",i2);case"emailLink":return a2(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dh(e,r,"signUpPassword",n2);case"emailLink":return o2(e,{idToken:n,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(s,e){return tu(s,"POST","/v1/accounts:signInWithIdp",cs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="http://localhost";class Jr extends ep{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Jr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const f=new Jr(r,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return to(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,to(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,to(e,n)}buildRequest(){const e={requestUri:l2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function c2(s){const e=Il(Cl(s)).link,n=e?Il(Cl(e)).deep_link_id:null,r=Il(Cl(s)).deep_link_id;return(r?Il(Cl(r)).link:null)||r||n||e||s}class tp{constructor(e){const n=Il(Cl(e)),r=n.apiKey??null,l=n.oobCode??null,u=u2(n.mode??null);ge(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=c2(e);try{return new tp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.providerId=po.PROVIDER_ID}static credential(e,n){return Fl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=tp.parseLink(n);return ge(r,"argument-error"),Fl._fromEmailAndCode(e,r.code,r.tenantId)}}po.PROVIDER_ID="password";po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends ME{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends nu{constructor(){super("facebook.com")}static credential(e){return Jr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Jr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qs.credential(n,r)}catch{return null}}}Qs.GOOGLE_SIGN_IN_METHOD="google.com";Qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends nu{constructor(){super("github.com")}static credential(e){return Jr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends nu{constructor(){super("twitter.com")}static credential(e,n){return Jr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xs.credential(n,r)}catch{return null}}}Xs.TWITTER_SIGN_IN_METHOD="twitter.com";Xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(s,e){return tu(s,"POST","/v1/accounts:signUp",cs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const u=await Jn._fromIdTokenResponse(e,r,l),f=L0(r);return new Zr({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=L0(r);return new Zr({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function L0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends us{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new mh(e,n,r,l)}}function VE(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(s,u,e,r):u})}async function f2(s,e,n=!1){const r=await Hl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Zr._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(s,e,n=!1){const{auth:r}=s;if(Un(r.app))return Promise.reject(ts(r));const l="reauthenticate";try{const u=await Hl(s,VE(r,l,e,s),n);ge(u.idToken,r,"internal-error");const f=Zm(u.idToken);ge(f,r,"internal-error");const{sub:p}=f;return ge(s.uid===p,r,"user-mismatch"),Zr._forOperation(s,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Wn(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kE(s,e,n=!1){if(Un(s.app))return Promise.reject(ts(s));const r="signIn",l=await VE(s,r,e),u=await Zr._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(u.user),u}async function m2(s,e){return kE(hr(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LE(s){const e=hr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function p2(s,e,n){const r=hr(s);await dh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",r2)}async function g2(s,e,n){if(Un(s.app))return Promise.reject(ts(s));const r=hr(s),f=await dh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",h2).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&LE(s),g}),p=await Zr._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(p.user),p}function y2(s,e,n){return Un(s.app)?Promise.reject(ts(s)):m2(zt(s),po.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&LE(s),r})}function _2(s,e,n,r){return zt(s).onIdTokenChanged(e,n,r)}function v2(s,e,n){return zt(s).beforeAuthStateChanged(e,n)}function E2(s,e,n,r){return zt(s).onAuthStateChanged(e,n,r)}function T2(s){return zt(s).signOut()}const ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=1e3,A2=10;class PE extends UE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);Uw()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,A2):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},b2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PE.type="LOCAL";const S2=PE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends UE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jE.type="SESSION";const zE=jE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new Mh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(f).map(async y=>y(n.origin,u)),g=await w2(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const y=np("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:l,onMessage(S){const x=S;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(x.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function x2(s){Ri().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function I2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C2(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function N2(){return BE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="firebaseLocalStorageDb",D2=1,gh="firebaseLocalStorage",HE="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vh(s,e){return s.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function O2(){const s=indexedDB.deleteDatabase(qE);return new iu(s).toPromise()}function Rm(){const s=indexedDB.open(qE,D2);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(gh,{keyPath:HE})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(gh)?e(r):(r.close(),await O2(),e(await Rm()))})})}async function U0(s,e,n){const r=Vh(s,!0).put({[HE]:e,value:n});return new iu(r).toPromise()}async function M2(s,e){const n=Vh(s,!1).get(e),r=await new iu(n).toPromise();return r===void 0?null:r.value}function P0(s,e){const n=Vh(s,!0).delete(e);return new iu(n).toPromise()}const V2=800,k2=3;class FE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>k2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(N2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await I2(),!this.activeServiceWorker)return;this.sender=new R2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||C2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rm();return await U0(e,ph,"1"),await P0(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>U0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>M2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>P0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Vh(l,!1).getAll();return new iu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FE.type="LOCAL";const L2=FE;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(s,e){return e?es(e):(ge(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip extends ep{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,n){return to(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function P2(s){return kE(s.auth,new ip(s),s.bypassAuthState)}function j2(s){const{auth:e,user:n}=s;return ge(n,e,"internal-error"),d2(n,new ip(s),s.bypassAuthState)}async function z2(s){const{auth:e,user:n}=s;return ge(n,e,"internal-error"),f2(n,new ip(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return P2;case"linkViaPopup":case"linkViaRedirect":return z2;case"reauthViaPopup":case"reauthViaRedirect":return j2;default:Wn(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new eu(2e3,1e4);class Za extends GE{constructor(e,n,r,l,u){super(e,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,B2.get())};e()}}Za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="pendingRedirect",Zc=new Map;class H2 extends GE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const r=await F2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F2(s,e){const n=Q2(e),r=K2(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function G2(s,e){Zc.set(s._key(),e)}function K2(s){return es(s._redirectPersistence)}function Q2(s){return Jc(q2,s.config.apiKey,s.name)}async function Y2(s,e,n=!1){if(Un(s.app))return Promise.reject(ts(s));const r=hr(s),l=U2(r,e),f=await new H2(r,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=600*1e3;class $2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KE(e)){const l=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(wi(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=X2&&this.cachedEventUids.clear(),this.cachedEventUids.has(j0(e))}saveEventToCache(e){this.cachedEventUids.add(j0(e)),this.lastProcessedEventTime=Date.now()}}function j0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function KE({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function J2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2(s,e={}){return hs(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eR=/^https?/;async function tR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Z2(s);for(const n of e)try{if(nR(n))return}catch{}Wn(s,"unauthorized-domain")}function nR(s){const e=Sm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!eR.test(n))return!1;if(W2.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=new eu(3e4,6e4);function z0(){const s=Ri().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function sR(s){return new Promise((e,n)=>{var l,u,f;function r(){z0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z0(),n(wi(s,"network-request-failed"))},timeout:iR.get()})}if((u=(l=Ri().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=Ri().gapi)!=null&&f.load)r();else{const p=Kw("iframefcb");return Ri()[p]=()=>{gapi.load?r():n(wi(s,"network-request-failed"))},NE(`${Gw()}?onload=${p}`).catch(g=>n(g))}}).catch(e=>{throw Wc=null,e})}let Wc=null;function rR(s){return Wc=Wc||sR(s),Wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new eu(5e3,15e3),oR="__/auth/iframe",lR="emulator/auth/iframe",uR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hR(s){const e=s.config;ge(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Jm(e,lR):`https://${s.config.authDomain}/${oR}`,r={apiKey:e.apiKey,appName:s.name,v:mo},l=cR.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Wl(r).slice(1)}`}async function fR(s){const e=await rR(s),n=Ri().gapi;return ge(n,s,"internal-error"),e.open({where:document.body,url:hR(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uR,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const f=wi(s,"network-request-failed"),p=Ri().setTimeout(()=>{u(f)},aR.get());function g(){Ri().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mR=500,pR=600,gR="_blank",yR="http://localhost";class B0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _R(s,e,n,r=mR,l=pR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...dR,width:r.toString(),height:l.toString(),top:u,left:f},y=en().toLowerCase();n&&(p=AE(y)?gR:n),TE(y)&&(e=e||yR,g.scrollbars="yes");const T=Object.entries(g).reduce((x,[B,J])=>`${x}${B}=${J},`,"");if(Lw(y)&&p!=="_self")return vR(e||"",p),new B0(null);const S=window.open(e||"",p,T);ge(S,s,"popup-blocked");try{S.focus()}catch{}return new B0(S)}function vR(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="__/auth/handler",TR="emulator/auth/handler",bR=encodeURIComponent("fac");async function q0(s,e,n,r,l,u){ge(s.config.authDomain,s,"auth-domain-config-required"),ge(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:mo,eventId:l};if(e instanceof ME){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",nS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))f[T]=S}if(e instanceof nu){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(f.scopes=T.join(","))}s.tenantId&&(f.tid=s.tenantId);const p=f;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await s._getAppCheckToken(),y=g?`#${bR}=${encodeURIComponent(g)}`:"";return`${AR(s)}?${Wl(p).slice(1)}${y}`}function AR({config:s}){return s.emulator?Jm(s,TR):`https://${s.authDomain}/${ER}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="webStorageSupport";class SR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zE,this._completeRedirectFn=Y2,this._overrideRedirectResult=G2}async _openPopup(e,n,r,l){var f;ss((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await q0(e,n,r,Sm(),l);return _R(e,u,np())}async _openRedirect(e,n,r,l){await this._originValidation(e);const u=await q0(e,n,r,Sm(),l);return x2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(ss(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await fR(e),r=new $2(e);return n.register("authEvent",l=>(ge(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(um,{type:um},l=>{var f;const u=(f=l==null?void 0:l[0])==null?void 0:f[um];u!==void 0&&n(!!u),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IE()||bE()||Wm()}}const wR=SR;var H0="@firebase/auth",F0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IR(s){ro(new $r("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=r.options;ge(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CE(s)},y=new qw(r,l,u,g);return Zw(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ro(new $r("auth-internal",e=>{const n=hr(e.getProvider("auth").getImmediate());return(r=>new RR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(H0,F0,xR(s)),nr(H0,F0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=300,NR=sE("authIdTokenMaxAge")||CR;let G0=null;const DR=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>NR)return;const l=n==null?void 0:n.token;G0!==l&&(G0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function OR(s=cE()){const e=Xm(s,"auth");if(e.isInitialized())return e.getImmediate();const n=Jw(s,{popupRedirectResolver:wR,persistence:[L2,S2,zE]}),r=sE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=DR(u.toString());v2(n,f,()=>f(n.currentUser)),_2(n,p=>f(p))}}const l=nE("auth");return l&&Ww(n,`http://${l}`),n}function MR(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}Hw({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=wi("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",MR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IR("Browser");var K0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ir,QE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,w){function N(){}N.prototype=w.prototype,D.F=w.prototype,D.prototype=new N,D.prototype.constructor=D,D.D=function(V,O,L){for(var I=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)I[nt-2]=arguments[nt];return w.prototype[O].apply(V,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,w,N){N||(N=0);const V=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)V[O]=w.charCodeAt(N++)|w.charCodeAt(N++)<<8|w.charCodeAt(N++)<<16|w.charCodeAt(N++)<<24;else for(O=0;O<16;++O)V[O]=w[N++]|w[N++]<<8|w[N++]<<16|w[N++]<<24;w=D.g[0],N=D.g[1],O=D.g[2];let L=D.g[3],I;I=w+(L^N&(O^L))+V[0]+3614090360&4294967295,w=N+(I<<7&4294967295|I>>>25),I=L+(O^w&(N^O))+V[1]+3905402710&4294967295,L=w+(I<<12&4294967295|I>>>20),I=O+(N^L&(w^N))+V[2]+606105819&4294967295,O=L+(I<<17&4294967295|I>>>15),I=N+(w^O&(L^w))+V[3]+3250441966&4294967295,N=O+(I<<22&4294967295|I>>>10),I=w+(L^N&(O^L))+V[4]+4118548399&4294967295,w=N+(I<<7&4294967295|I>>>25),I=L+(O^w&(N^O))+V[5]+1200080426&4294967295,L=w+(I<<12&4294967295|I>>>20),I=O+(N^L&(w^N))+V[6]+2821735955&4294967295,O=L+(I<<17&4294967295|I>>>15),I=N+(w^O&(L^w))+V[7]+4249261313&4294967295,N=O+(I<<22&4294967295|I>>>10),I=w+(L^N&(O^L))+V[8]+1770035416&4294967295,w=N+(I<<7&4294967295|I>>>25),I=L+(O^w&(N^O))+V[9]+2336552879&4294967295,L=w+(I<<12&4294967295|I>>>20),I=O+(N^L&(w^N))+V[10]+4294925233&4294967295,O=L+(I<<17&4294967295|I>>>15),I=N+(w^O&(L^w))+V[11]+2304563134&4294967295,N=O+(I<<22&4294967295|I>>>10),I=w+(L^N&(O^L))+V[12]+1804603682&4294967295,w=N+(I<<7&4294967295|I>>>25),I=L+(O^w&(N^O))+V[13]+4254626195&4294967295,L=w+(I<<12&4294967295|I>>>20),I=O+(N^L&(w^N))+V[14]+2792965006&4294967295,O=L+(I<<17&4294967295|I>>>15),I=N+(w^O&(L^w))+V[15]+1236535329&4294967295,N=O+(I<<22&4294967295|I>>>10),I=w+(O^L&(N^O))+V[1]+4129170786&4294967295,w=N+(I<<5&4294967295|I>>>27),I=L+(N^O&(w^N))+V[6]+3225465664&4294967295,L=w+(I<<9&4294967295|I>>>23),I=O+(w^N&(L^w))+V[11]+643717713&4294967295,O=L+(I<<14&4294967295|I>>>18),I=N+(L^w&(O^L))+V[0]+3921069994&4294967295,N=O+(I<<20&4294967295|I>>>12),I=w+(O^L&(N^O))+V[5]+3593408605&4294967295,w=N+(I<<5&4294967295|I>>>27),I=L+(N^O&(w^N))+V[10]+38016083&4294967295,L=w+(I<<9&4294967295|I>>>23),I=O+(w^N&(L^w))+V[15]+3634488961&4294967295,O=L+(I<<14&4294967295|I>>>18),I=N+(L^w&(O^L))+V[4]+3889429448&4294967295,N=O+(I<<20&4294967295|I>>>12),I=w+(O^L&(N^O))+V[9]+568446438&4294967295,w=N+(I<<5&4294967295|I>>>27),I=L+(N^O&(w^N))+V[14]+3275163606&4294967295,L=w+(I<<9&4294967295|I>>>23),I=O+(w^N&(L^w))+V[3]+4107603335&4294967295,O=L+(I<<14&4294967295|I>>>18),I=N+(L^w&(O^L))+V[8]+1163531501&4294967295,N=O+(I<<20&4294967295|I>>>12),I=w+(O^L&(N^O))+V[13]+2850285829&4294967295,w=N+(I<<5&4294967295|I>>>27),I=L+(N^O&(w^N))+V[2]+4243563512&4294967295,L=w+(I<<9&4294967295|I>>>23),I=O+(w^N&(L^w))+V[7]+1735328473&4294967295,O=L+(I<<14&4294967295|I>>>18),I=N+(L^w&(O^L))+V[12]+2368359562&4294967295,N=O+(I<<20&4294967295|I>>>12),I=w+(N^O^L)+V[5]+4294588738&4294967295,w=N+(I<<4&4294967295|I>>>28),I=L+(w^N^O)+V[8]+2272392833&4294967295,L=w+(I<<11&4294967295|I>>>21),I=O+(L^w^N)+V[11]+1839030562&4294967295,O=L+(I<<16&4294967295|I>>>16),I=N+(O^L^w)+V[14]+4259657740&4294967295,N=O+(I<<23&4294967295|I>>>9),I=w+(N^O^L)+V[1]+2763975236&4294967295,w=N+(I<<4&4294967295|I>>>28),I=L+(w^N^O)+V[4]+1272893353&4294967295,L=w+(I<<11&4294967295|I>>>21),I=O+(L^w^N)+V[7]+4139469664&4294967295,O=L+(I<<16&4294967295|I>>>16),I=N+(O^L^w)+V[10]+3200236656&4294967295,N=O+(I<<23&4294967295|I>>>9),I=w+(N^O^L)+V[13]+681279174&4294967295,w=N+(I<<4&4294967295|I>>>28),I=L+(w^N^O)+V[0]+3936430074&4294967295,L=w+(I<<11&4294967295|I>>>21),I=O+(L^w^N)+V[3]+3572445317&4294967295,O=L+(I<<16&4294967295|I>>>16),I=N+(O^L^w)+V[6]+76029189&4294967295,N=O+(I<<23&4294967295|I>>>9),I=w+(N^O^L)+V[9]+3654602809&4294967295,w=N+(I<<4&4294967295|I>>>28),I=L+(w^N^O)+V[12]+3873151461&4294967295,L=w+(I<<11&4294967295|I>>>21),I=O+(L^w^N)+V[15]+530742520&4294967295,O=L+(I<<16&4294967295|I>>>16),I=N+(O^L^w)+V[2]+3299628645&4294967295,N=O+(I<<23&4294967295|I>>>9),I=w+(O^(N|~L))+V[0]+4096336452&4294967295,w=N+(I<<6&4294967295|I>>>26),I=L+(N^(w|~O))+V[7]+1126891415&4294967295,L=w+(I<<10&4294967295|I>>>22),I=O+(w^(L|~N))+V[14]+2878612391&4294967295,O=L+(I<<15&4294967295|I>>>17),I=N+(L^(O|~w))+V[5]+4237533241&4294967295,N=O+(I<<21&4294967295|I>>>11),I=w+(O^(N|~L))+V[12]+1700485571&4294967295,w=N+(I<<6&4294967295|I>>>26),I=L+(N^(w|~O))+V[3]+2399980690&4294967295,L=w+(I<<10&4294967295|I>>>22),I=O+(w^(L|~N))+V[10]+4293915773&4294967295,O=L+(I<<15&4294967295|I>>>17),I=N+(L^(O|~w))+V[1]+2240044497&4294967295,N=O+(I<<21&4294967295|I>>>11),I=w+(O^(N|~L))+V[8]+1873313359&4294967295,w=N+(I<<6&4294967295|I>>>26),I=L+(N^(w|~O))+V[15]+4264355552&4294967295,L=w+(I<<10&4294967295|I>>>22),I=O+(w^(L|~N))+V[6]+2734768916&4294967295,O=L+(I<<15&4294967295|I>>>17),I=N+(L^(O|~w))+V[13]+1309151649&4294967295,N=O+(I<<21&4294967295|I>>>11),I=w+(O^(N|~L))+V[4]+4149444226&4294967295,w=N+(I<<6&4294967295|I>>>26),I=L+(N^(w|~O))+V[11]+3174756917&4294967295,L=w+(I<<10&4294967295|I>>>22),I=O+(w^(L|~N))+V[2]+718787259&4294967295,O=L+(I<<15&4294967295|I>>>17),I=N+(L^(O|~w))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+L&4294967295}r.prototype.v=function(D,w){w===void 0&&(w=D.length);const N=w-this.blockSize,V=this.C;let O=this.h,L=0;for(;L<w;){if(O==0)for(;L<=N;)l(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<w;)if(V[O++]=D.charCodeAt(L++),O==this.blockSize){l(this,V),O=0;break}}else for(;L<w;)if(V[O++]=D[L++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var N=D.length-8;N<D.length;++N)D[N]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)D[w++]=this.g[N]>>>V&255;return D};function u(D,w){var N=p;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=w(D)}function f(D,w){this.h=w;const N=[];let V=!0;for(let O=D.length-1;O>=0;O--){const L=D[O]|0;V&&L==w||(N[O]=L,V=!1)}this.g=N}var p={};function g(D){return-128<=D&&D<128?u(D,function(w){return new f([w|0],w<0?-1:0)}):new f([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return Z(y(-D));const w=[];let N=1;for(let V=0;D>=N;V++)w[V]=D/N|0,N*=4294967296;return new f(w,0)}function T(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return Z(T(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(w,8));let V=S;for(let L=0;L<D.length;L+=8){var O=Math.min(8,D.length-L);const I=parseInt(D.substring(L,L+O),w);O<8?(O=y(Math.pow(w,O)),V=V.j(O).add(y(I))):(V=V.j(N),V=V.add(y(I)))}return V}var S=g(0),x=g(1),B=g(16777216);s=f.prototype,s.m=function(){if(W(this))return-Z(this).m();let D=0,w=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);D+=(V>=0?V:4294967296+V)*w,w*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(J(this))return"0";if(W(this))return"-"+Z(this).toString(D);const w=y(Math.pow(D,6));var N=this;let V="";for(;;){const O=Ve(N,w).g;N=ce(N,O.j(w));let L=((N.g.length>0?N.g[0]:N.h)>>>0).toString(D);if(N=O,J(N))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function J(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function W(D){return D.h==-1}s.l=function(D){return D=ce(this,D),W(D)?-1:J(D)?0:1};function Z(D){const w=D.g.length,N=[];for(let V=0;V<w;V++)N[V]=~D.g[V];return new f(N,~D.h).add(x)}s.abs=function(){return W(this)?Z(this):this},s.add=function(D){const w=Math.max(this.g.length,D.g.length),N=[];let V=0;for(let O=0;O<=w;O++){let L=V+(this.i(O)&65535)+(D.i(O)&65535),I=(L>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);V=I>>>16,L&=65535,I&=65535,N[O]=I<<16|L}return new f(N,N[N.length-1]&-2147483648?-1:0)};function ce(D,w){return D.add(Z(w))}s.j=function(D){if(J(this)||J(D))return S;if(W(this))return W(D)?Z(this).j(Z(D)):Z(Z(this).j(D));if(W(D))return Z(this.j(Z(D)));if(this.l(B)<0&&D.l(B)<0)return y(this.m()*D.m());const w=this.g.length+D.g.length,N=[];for(var V=0;V<2*w;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<D.g.length;O++){const L=this.i(V)>>>16,I=this.i(V)&65535,nt=D.i(O)>>>16,ct=D.i(O)&65535;N[2*V+2*O]+=I*ct,me(N,2*V+2*O),N[2*V+2*O+1]+=L*ct,me(N,2*V+2*O+1),N[2*V+2*O+1]+=I*nt,me(N,2*V+2*O+1),N[2*V+2*O+2]+=L*nt,me(N,2*V+2*O+2)}for(D=0;D<w;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=w;D<2*w;D++)N[D]=0;return new f(N,0)};function me(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function ue(D,w){this.g=D,this.h=w}function Ve(D,w){if(J(w))throw Error("division by zero");if(J(D))return new ue(S,S);if(W(D))return w=Ve(Z(D),w),new ue(Z(w.g),Z(w.h));if(W(w))return w=Ve(D,Z(w)),new ue(Z(w.g),w.h);if(D.g.length>30){if(W(D)||W(w))throw Error("slowDivide_ only works with positive integers.");for(var N=x,V=w;V.l(D)<=0;)N=Ge(N),V=Ge(V);var O=Le(N,1),L=Le(V,1);for(V=Le(V,2),N=Le(N,2);!J(V);){var I=L.add(V);I.l(D)<=0&&(O=O.add(N),L=I),V=Le(V,1),N=Le(N,1)}return w=ce(D,O.j(w)),new ue(O,w)}for(O=S;D.l(w)>=0;){for(N=Math.max(1,Math.floor(D.m()/w.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(N),I=L.j(w);W(I)||I.l(D)>0;)N-=V,L=y(N),I=L.j(w);J(L)&&(L=x),O=O.add(L),D=ce(D,I)}return new ue(O,D)}s.B=function(D){return Ve(this,D).h},s.and=function(D){const w=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<w;V++)N[V]=this.i(V)&D.i(V);return new f(N,this.h&D.h)},s.or=function(D){const w=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<w;V++)N[V]=this.i(V)|D.i(V);return new f(N,this.h|D.h)},s.xor=function(D){const w=Math.max(this.g.length,D.g.length),N=[];for(let V=0;V<w;V++)N[V]=this.i(V)^D.i(V);return new f(N,this.h^D.h)};function Ge(D){const w=D.g.length+1,N=[];for(let V=0;V<w;V++)N[V]=D.i(V)<<1|D.i(V-1)>>>31;return new f(N,D.h)}function Le(D,w){const N=w>>5;w%=32;const V=D.g.length-N,O=[];for(let L=0;L<V;L++)O[L]=w>0?D.i(L+N)>>>w|D.i(L+N+1)<<32-w:D.i(L+N);return new f(O,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,QE=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,ir=f}).apply(typeof K0<"u"?K0:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YE,Nl,XE,eh,xm,$E,JE,ZE;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(c,m){if(m)e:{var v=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var U=c[b];if(!(U in v))break e;v=v[U]}c=c[c.length-1],b=v[c],m=m(b),m!=b&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=g,y.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,U,q){for(var ee=Array(arguments.length-2),be=2;be<arguments.length;be++)ee[be-2]=arguments[be];return m.prototype[U].apply(b,ee)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function B(c){const m=c.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=c[b];return v}return[]}function J(c,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const q=U.length||0;c.length=v+q;for(let ee=0;ee<q;ee++)c[v+ee]=U[ee]}else c.push(U)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(c){f.setTimeout(()=>{throw c},0)}function ce(){var c=D;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class me{constructor(){this.h=this.g=null}add(m,v){const b=ue.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ue=new W(()=>new Ve,c=>c.reset());class Ve{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ge,Le=!1,D=new me,w=()=>{const c=Promise.resolve(void 0);Ge=()=>{c.then(N)}};function N(){for(var c;c=ce();){try{c.h.call(c.g)}catch(v){Z(v)}var m=ue;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Le=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function nt(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(nt,O),nt.prototype.init=function(c,m){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ct="closure_listenable_"+(Math.random()*1e6|0),G=0;function ne(c,m,v,b,U){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=U,this.key=++G,this.da=this.fa=!1}function he(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c,m,v){for(const b in c)m.call(v,c[b],b,c)}function ze(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function R(c){const m={};for(const v in c)m[v]=c[v];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(c,m){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)c[v]=b[v];for(let q=0;q<F.length;q++)v=F[q],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function ie(c){this.src=c,this.g={},this.h=0}ie.prototype.add=function(c,m,v,b,U){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const ee=Se(c,m,b,U);return ee>-1?(m=c[ee],v||(m.fa=!1)):(m=new ne(m,this.src,q,!!b,U),m.fa=v,c.push(m)),m};function _e(c,m){const v=m.type;if(v in c.g){var b=c.g[v],U=Array.prototype.indexOf.call(b,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(b,U,1),q&&(he(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Se(c,m,v,b){for(let U=0;U<c.length;++U){const q=c[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==b)return U}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Ot={};function ot(c,m,v,b,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ot(c,m[q],v,b,U);return null}return v=Ao(v),c&&c[ct]?c.J(m,v,p(b)?!!b.capture:!1,U):pr(c,m,v,!1,b,U)}function pr(c,m,v,b,U,q){if(!m)throw Error("Invalid event type");const ee=p(U)?!!U.capture:!!U;let be=gr(c);if(be||(c[Ue]=be=new ie(c)),v=be.add(m,v,b,ee,q),v.proxy)return v;if(b=sa(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)L||(U=ee),U===void 0&&(U=!1),c.addEventListener(m.toString(),b,U);else if(c.attachEvent)c.attachEvent(ti(m.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function sa(){function c(v){return m.call(c.src,c.listener,v)}const m=To;return c}function ra(c,m,v,b,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)ra(c,m[q],v,b,U);else b=p(b)?!!b.capture:!!b,v=Ao(v),c&&c[ct]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=Se(m,v,b,U),v>-1&&(he(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=gr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Se(m,v,b,U)),(v=c>-1?m[c]:null)&&aa(v))}function aa(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[ct])_e(m.i,c);else{var v=c.type,b=c.proxy;m.removeEventListener?m.removeEventListener(v,b,c.capture):m.detachEvent?m.detachEvent(ti(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=gr(m))?(_e(v,c),v.h==0&&(v.src=null,m[Ue]=null)):he(c)}}}function ti(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function To(c,m){if(c.da)c=!0;else{m=new nt(m,this);const v=c.listener,b=c.ha||c.src;c.fa&&aa(c),c=v.call(b,m)}return c}function gr(c){return c=c[Ue],c instanceof ie?c:null}var bo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ao(c){return typeof c=="function"?c:(c[bo]||(c[bo]=function(m){return c.handleEvent(m)}),c[bo])}function Et(){V.call(this),this.i=new ie(this),this.M=this,this.G=null}S(Et,V),Et.prototype[ct]=!0,Et.prototype.removeEventListener=function(c,m,v,b){ra(this,c,m,v,b)};function Mt(c,m){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var U=m;m=new O(b,c),te(m,U)}U=!0;let q,ee;if(v)for(ee=v.length-1;ee>=0;ee--)q=m.g=v[ee],U=fs(q,b,!0,m)&&U;if(q=m.g=c,U=fs(q,b,!0,m)&&U,U=fs(q,b,!1,m)&&U,v)for(ee=0;ee<v.length;ee++)q=m.g=v[ee],U=fs(q,b,!1,m)&&U}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let b=0;b<v.length;b++)he(v[b]);delete c.g[m],c.h--}}this.G=null},Et.prototype.J=function(c,m,v,b){return this.i.add(String(c),m,!1,v,b)},Et.prototype.K=function(c,m,v,b){return this.i.add(String(c),m,!0,v,b)};function fs(c,m,v,b){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const ee=m[q];if(ee&&!ee.da&&ee.capture==v){const be=ee.listener,pt=ee.ha||ee.src;ee.fa&&_e(c.i,ee),U=be.call(pt,b)!==!1&&U}}return U&&!b.defaultPrevented}function Zh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function du(c){c.g=Zh(()=>{c.g=null,c.i&&(c.i=!1,du(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class tn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:du(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yr(c){V.call(this),this.h=c,this.g={}}S(yr,V);var So=[];function wo(c){Ie(c.g,function(m,v){this.g.hasOwnProperty(v)&&aa(m)},c),c.g={}}yr.prototype.N=function(){yr.Z.N.call(this),wo(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ds=f.JSON.stringify,Wh=f.JSON.parse,mu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function pu(){}function gu(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){O.call(this,"d")}S(Bt,O);function Sn(){O.call(this,"c")}S(Sn,O);var mt={},yu=null;function oa(){return yu=yu||new Et}mt.Ia="serverreachability";function _u(c){O.call(this,mt.Ia,c)}S(_u,O);function ni(c){const m=oa();Mt(m,new _u(m))}mt.STAT_EVENT="statevent";function _r(c,m){O.call(this,mt.STAT_EVENT,c),this.stat=m}S(_r,O);function Tt(c){const m=oa();Mt(m,new _r(m,c))}mt.Ja="timingevent";function ii(c,m){O.call(this,mt.Ja,c),this.size=m}S(ii,O);function si(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function ef(c,m,v,b,U,q){c.info(function(){if(c.g)if(q){var ee="",be=q.split("&");for(let He=0;He<be.length;He++){var pt=be[He].split("=");if(pt.length>1){const lt=pt[0];pt=pt[1];const In=lt.split("_");ee=In.length>=2&&In[1]=="type"?ee+(lt+"="+pt+"&"):ee+(lt+"=redacted&")}}}else ee=null;else ee=q;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+v+`
`+ee})}function vu(c,m,v,b,U,q,ee){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+ee})}function ri(c,m,v,b){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+tf(c,v)+(b?" "+b:"")})}function vr(c,m){c.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function tf(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ee=1;ee<b.length;ee++)b[ee]=""}}}}return ds(q)}catch{return m}}var Er={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ro={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xo;function Tr(){}S(Tr,pu),Tr.prototype.g=function(){return new XMLHttpRequest},xo=new Tr;function Oi(c){return encodeURIComponent(String(c))}function Eu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Bn(c,m,v,b){this.j=c,this.i=m,this.l=v,this.S=b||1,this.V=new yr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var bt={},Lt={};function ai(c,m,v){c.M=1,c.A=br(St(m)),c.u=v,c.R=!0,la(c,null)}function la(c,m){c.F=Date.now(),oi(c),c.B=St(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),fa(v.i,"t",b),c.C=0,v=c.j.L,c.h=new qn,c.g=ku(c.j,v?m:null,!c.u),c.P>0&&(c.O=new tn(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,b=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(So[0]=U.toString()),U=So);for(let q=0;q<U.length;q++){const ee=ot(v,U[q],b||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=c.J?R(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ni(),ef(c.i,c.v,c.B,c.l,c.S,c.u)}Bn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Gn(c)==3?m.j():this.Y(c)},Bn.prototype.Y=function(c){try{if(c==this.g)e:{const be=Gn(this.g),pt=this.g.ya(),He=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||be!=4||pt==7||(pt==8||He<=0?ni(3):ni(2)),li(this);var m=this.g.ca();this.X=m;var v=nf(this);if(this.o=m==200,vu(this.i,this.v,this.B,this.l,this.S,be,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var q=b;break t}}q=null}if(c=q)ri(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ui(this,c);else{this.o=!1,this.m=3,Tt(12),mn(this),wn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=bu(this,v),lt==Lt){be==4&&(this.m=4,Tt(14),c=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==bt){this.m=4,Tt(15),ri(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ri(this.i,this.l,lt,null),ui(this,lt);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)ri(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),qo(ee),ee.P=!0,Tt(11))}}else ri(this.i,this.l,v,null),ui(this,v);be==4&&mn(this),this.o&&!this.K&&(be==4?Du(this.j,this):(this.o=!1,oi(this)))}else Vi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),mn(this),wn(this)}}}catch{}finally{}};function nf(c){if(!Tu(c))return c.g.la();const m=qt(c.g);if(m==="")return"";let v="";const b=m.length,U=Gn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),wn(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<b;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(U&&q==b-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function Tu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function bu(c,m){var v=c.C,b=m.indexOf(`
`,v);return b==-1?Lt:(v=Number(m.substring(v,b)),isNaN(v)?bt:(b+=1,b+v>m.length?Lt:(m=m.slice(b,b+v),c.C=b+v,m)))}Bn.prototype.cancel=function(){this.K=!0,mn(this)};function oi(c){c.T=Date.now()+c.H,ua(c,c.H)}function ua(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=si(y(c.aa,c),m)}function li(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Bn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(vr(this.i,this.B),this.M!=2&&(ni(),Tt(17)),mn(this),this.m=2,wn(this)):ua(this,this.T-c)};function wn(c){c.j.I==0||c.K||Du(c.j,c)}function mn(c){li(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,wo(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function ui(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||hi(v.h,c))){if(!c.L&&hi(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ya(v),Ts(v);else break e;Cr(v),Tt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=si(y(v.Va,v),6e3));ci(v.h)<=1&&v.ta&&(v.ta=void 0)}else yi(v,11)}else if((c.L||v.g==c)&&ya(v),!I(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let He=U[m];const lt=He[0];if(!(lt<=v.K))if(v.K=lt,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const In=He[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const _i=He[4];_i!=null&&(v.za=_i,v.j.info("SVER="+v.za));const Kn=He[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(b=1.5*Kn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Qn=c.g;if(Qn){const Nr=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var q=b.h;q.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(No(q,q.h),q.h=null))}if(b.G){const _a=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(b.wa=_a,Ye(b.J,b.G,_a))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ee=c;if(b.na=Vu(b,b.L?b.ba:null,b.W),ee.L){Do(b.h,ee);var be=ee,pt=b.O;pt&&(be.H=pt),be.D&&(li(be),oi(be)),b.g=ee}else Cu(b);v.i.length>0&&gi(v)}else He[0]!="stop"&&He[0]!="close"||yi(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?yi(v,7):zo(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}ni(4)}catch{}}var At=class{constructor(c,m){this.g=c,this.map=m}};function Io(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ci(c){return c.h?1:c.g?c.g.size:0}function hi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function No(c,m){c.g?c.g.add(m):c.h=m}function Do(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Io.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return B(c.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let U,q=null;b>=0?(U=c[v].substring(0,b),q=c[v].substring(b+1)):U=c[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof pn?(this.l=c.l,Ut(this,c.j),this.o=c.o,this.g=c.g,ms(this,c.u),this.h=c.h,Mo(this,xu(c.i)),this.m=c.m):c&&(m=String(c).match(Au))?(this.l=!1,Ut(this,m[1]||"",!0),this.o=fi(m[2]||""),this.g=fi(m[3]||"",!0),ms(this,m[4]),this.h=fi(m[5]||"",!0),Mo(this,m[6]||"",!0),this.m=fi(m[7]||"")):(this.l=!1,this.i=new gs(null,this.l))}pn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Ar(m,ha,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ar(m,ha,!0),"@"),c.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ar(v,v.charAt(0)=="/"?Vo:Su,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ar(v,wu)),c.join("")},pn.prototype.resolve=function(c){const m=St(this);let v=!!c.j;v?Ut(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var b=c.h;if(v)ms(m,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let ee=0;ee<U.length;){const be=U[ee++];be=="."?b&&ee==U.length&&q.push(""):be==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&ee==U.length&&q.push("")):(q.push(be),b=!0)}b=q.join("/")}else b=U}return v?m.h=b:v=c.i.toString()!=="",v?Mo(m,xu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function St(c){return new pn(c)}function Ut(c,m,v){c.j=v?fi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ms(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Mo(c,m,v){m instanceof gs?(c.i=m,da(c.i,c.l)):(v||(m=Ar(m,ps)),c.i=new gs(m,c.l))}function Ye(c,m,v){c.i.set(m,v)}function br(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function fi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ar(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ha=/[#\/\?@]/g,Su=/[#\?:]/g,Vo=/[#\?]/g,ps=/[#\?@]/g,wu=/#/g;function gs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&ca(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=gs.prototype,s.add=function(c,m){an(this),this.i=null,c=ys(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Ru(c,m){an(c),m=ys(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function ko(c,m){return an(c),m=ys(c,m),c.g.has(m)}s.forEach=function(c,m){an(this),this.g.forEach(function(v,b){v.forEach(function(U){c.call(m,U,b,this)},this)},this)};function Lo(c,m){an(c);let v=[];if(typeof m=="string")ko(c,m)&&(v=v.concat(c.g.get(ys(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return an(this),this.i=null,c=ys(this,c),ko(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Lo(this,c),c.length>0?String(c[0]):m):m};function fa(c,m,v){Ru(c,m),v.length>0&&(c.i=null,c.g.set(ys(c,m),B(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const U=Oi(v);v=Lo(this,v);for(let q=0;q<v.length;q++){let ee=U;v[q]!==""&&(ee+="="+Oi(v[q])),c.push(ee)}}return this.i=c.join("&")};function xu(c){const m=new gs;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function ys(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function da(c,m){m&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(Ru(this,b),fa(this,U,v))},c)),c.j=m}function Hn(c,m){const v=new zn;if(f.Image){const b=new Image;b.onload=T(Rn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(Rn,v,"TestLoadImage: error",!1,m,b),b.onabort=T(Rn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(Rn,v,"TestLoadImage: timeout",!1,m,b),f.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else m(!1)}function Uo(c,m){const v=new zn,b=new AbortController,U=setTimeout(()=>{b.abort(),Rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:b.signal}).then(q=>{clearTimeout(U),q.ok?Rn(v,"TestPingServer: ok",!0,m):Rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Rn(v,"TestPingServer: error",!1,m)})}function Rn(c,m,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function _s(){this.g=new mu}function di(c){this.i=c.Sb||null,this.h=c.ab||!1}S(di,pu),di.prototype.g=function(){return new Sr(this.i,this.h)};function Sr(c,m){Et.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Sr,Et),s=Sr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Fn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ma(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ma(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?vs(this):Fn(this),this.readyState==3&&ma(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,vs(this))},s.Na=function(c){this.g&&(this.response=c,vs(this))},s.ga=function(){this.g&&vs(this)};function vs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xn(c){let m="";return Ie(c,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function wr(c,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=xn(v),typeof c=="string"?v!=null&&Oi(v):Ye(c,m,v))}function Je(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Je,Et);var mi=/^https?$/i,Po=["POST","PUT"];s=Je.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xo.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){Rr(this,q);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())v.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Po,m,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ee]of v)this.g.setRequestHeader(q,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Rr(this,q)}};function Rr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,jo(c),Mi(c)}function jo(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Mi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Je.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?xr(this):this.Xa())},s.Xa=function(){xr(this)};function xr(c){if(c.h&&typeof u<"u"){if(c.v&&Gn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Gn(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=q===0){let ee=String(c.D).match(Au)[1]||null;!ee&&f.self&&f.self.location&&(ee=f.self.location.protocol.slice(0,-1)),b=!mi.test(ee?ee.toLowerCase():"")}v=b}if(v)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var U=Gn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",jo(c)}}finally{Mi(c)}}}}function Mi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Mt(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Wh(m)}};function qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(c){const m={};c=(c.g&&Gn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(I(c[b]))continue;var v=Eu(c[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}ze(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Es(c){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,c),this.Za=pi("retryDelaySeedMs",1e4,c),this.Ta=pi("forwardChannelMaxRetries",2,c),this.va=pi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(c&&c.concurrentRequestLimit),this.Ba=new _s,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Es.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,b){Tt(0),this.W=c,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Vu(this,null,this.W),gi(this)};function zo(c){if(pa(c),c.I==3){var m=c.V++,v=St(c.J);if(Ye(v,"SID",c.M),Ye(v,"RID",m),Ye(v,"TYPE","terminate"),Ir(c,v),m=new Bn(c,c.j,m),m.M=2,m.A=br(St(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=ku(m.j,null),m.g.ea(m.A)),m.F=Date.now(),oi(m)}Mu(c)}function Ts(c){c.g&&(qo(c),c.g.cancel(),c.g=null)}function pa(c){Ts(c),c.v&&(f.clearTimeout(c.v),c.v=null),ya(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function gi(c){if(!Co(c.h)&&!c.m){c.m=!0;var m=c.Ea;Ge||w(),Le||(Ge(),Le=!0),D.add(m,c),c.D=0}}function ga(c,m){return ci(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=si(y(c.Ea,c,m),Ou(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Bn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=R(q),te(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Iu(this,U,m),v=St(this.J),Ye(v,"RID",c),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),Ir(this,v),q&&(this.R?m="headers="+Oi(xn(q))+"&"+m:this.u&&wr(v,this.u,q)),No(this.h,U),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",m),Ye(v,"SID","null"),U.U=!0,ai(U,v,null)):ai(U,v,m),this.I=2}}else this.I==3&&(c?Bo(this,c):this.i.length==0||Co(this.h)||Bo(this))};function Bo(c,m){var v;m?v=m.l:v=c.V++;const b=St(c.J);Ye(b,"SID",c.M),Ye(b,"RID",v),Ye(b,"AID",c.K),Ir(c,b),c.u&&c.o&&wr(b,c.u,c.o),v=new Bn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Iu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),No(c.h,v),ai(v,b,m)}function Ir(c,m){c.H&&Ie(c.H,function(v,b){Ye(m,b,v)}),c.l&&Ie({},function(v,b){Ye(m,b,v)})}function Iu(c,m,v){v=Math.min(c.i.length,v);const b=c.l?y(c.l.Ka,c.l,c):null;e:{var U=c.i;let be=-1;for(;;){const pt=["count="+v];be==-1?v>0?(be=U[0].g,pt.push("ofs="+be)):be=0:pt.push("ofs="+be);let He=!0;for(let lt=0;lt<v;lt++){var q=U[lt].g;const In=U[lt].map;if(q-=be,q<0)be=Math.max(0,U[lt].g-100),He=!1;else try{q="req"+q+"_"||"";try{var ee=In instanceof Map?In:Object.entries(In);for(const[_i,Kn]of ee){let Qn=Kn;p(Kn)&&(Qn=ds(Kn)),pt.push(q+_i+"="+encodeURIComponent(Qn))}}catch(_i){throw pt.push(q+"type="+encodeURIComponent("_badmap")),_i}}catch{b&&b(In)}}if(He){ee=pt.join("&");break e}}ee=void 0}return c=c.i.splice(0,v),m.G=c,ee}function Cu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Ge||w(),Le||(Ge(),Le=!0),D.add(m,c),c.A=0}}function Cr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=si(y(c.Da,c),Ou(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=si(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Ts(this),Nu(this))};function qo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Nu(c){c.g=new Bn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=St(c.na);Ye(m,"RID","rpc"),Ye(m,"SID",c.M),Ye(m,"AID",c.K),Ye(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(m,"TO",c.ia),Ye(m,"TYPE","xmlhttp"),Ir(c,m),c.u&&c.o&&wr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=br(St(m)),v.u=null,v.R=!0,la(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Ts(this),Cr(this),Tt(19))};function ya(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Du(c,m){var v=null;if(c.g==m){ya(c),qo(c),c.g=null;var b=2}else if(hi(c.h,m))v=m.G,Do(c.h,m),b=1;else return;if(c.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=c.D;b=oa(),Mt(b,new ii(b,v)),gi(c)}else Cu(c);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&ga(c,m)||b==2&&Cr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),U){case 1:yi(c,5);break;case 4:yi(c,10);break;case 3:yi(c,6);break;default:yi(c,2)}}}function Ou(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function yi(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),b=c.Ua;const U=!b;b=new pn(b||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ut(b,"https"),br(b),U?Hn(b.toString(),v):Uo(b.toString(),v)}else Tt(2);c.I=0,c.l&&c.l.pa(m),Mu(c),pa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Mu(c){if(c.I=0,c.ja=[],c.l){const m=Oo(c.h);(m.length!=0||c.i.length!=0)&&(J(c.ja,m),J(c.ja,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.oa()}}function Vu(c,m,v){var b=v instanceof pn?St(v):new pn(v);if(b.g!="")m&&(b.g=m+"."+b.g),ms(b,b.u);else{var U=f.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new pn(null);b&&Ut(q,b),m&&(q.g=m),U&&ms(q,U),v&&(q.h=v),b=q}return v=c.G,m=c.wa,v&&m&&Ye(b,v,m),Ye(b,"VER",c.ka),Ir(c,b),b}function ku(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Je(new di({ab:v})):new Je(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}s=Lu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function bs(){}bs.prototype.g=function(c,m){return new nn(c,m)};function nn(c,m){Et.call(this),this.g=new Es(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!I(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ki(this)}S(nn,Et),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){zo(this.g)},nn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ds(c),c=v);m.i.push(new At(m.Ya++,c)),m.I==3&&gi(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,nn.Z.N.call(this)};function Uu(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Uu,Bt);function Pu(){Sn.call(this),this.status=1}S(Pu,Sn);function ki(c){this.g=c}S(ki,Lu),ki.prototype.ra=function(){Mt(this.g,"a")},ki.prototype.qa=function(c){Mt(this.g,new Uu(c))},ki.prototype.pa=function(c){Mt(this.g,new Pu)},ki.prototype.oa=function(){Mt(this.g,"b")},bs.prototype.createWebChannel=bs.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,ZE=function(){return new bs},JE=function(){return oa()},$E=mt,xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,eh=Er,Ro.COMPLETE="complete",XE=Ro,gu.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Nl=gu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,YE=Je}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go="12.9.0";function VR(s){go=s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new Qm("@firebase/firestore");function Ya(){return Wr.logLevel}function re(s,...e){if(Wr.logLevel<=De.DEBUG){const n=e.map(sp);Wr.debug(`Firestore (${go}): ${s}`,...n)}}function rs(s,...e){if(Wr.logLevel<=De.ERROR){const n=e.map(sp);Wr.error(`Firestore (${go}): ${s}`,...n)}}function ea(s,...e){if(Wr.logLevel<=De.WARN){const n=e.map(sp);Wr.warn(`Firestore (${go}): ${s}`,...n)}}function sp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,WE(s,r,n)}function WE(s,e,n){let r=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw rs(r),new Error(r)}function Ke(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||WE(e,l,r)}function Te(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends us{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class LR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class UR{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ns,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ns)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new e1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class PR{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class jR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new PR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const r=u=>{u.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,re("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Q0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=BR(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=e.charAt(l[u]%62))}return r}}function Oe(s,e){return s<e?-1:s>e?1:0}function Im(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return cm(l)===cm(u)?Oe(l,u):cm(l)?1:-1}return Oe(s.length,e.length)}const qR=55296,HR=57343;function cm(s){const e=s.charCodeAt(0);return e>=qR&&e<=HR}function ao(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="__name__";class Ai{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ye(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ai.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ai?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const u=Ai.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Oe(e.length,n.length)}static compareSegments(e,n){const r=Ai.isNumericId(e),l=Ai.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Ai.extractNumericId(e).compare(Ai.extractNumericId(n)):Im(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ir.fromString(e.substring(4,e.length-2))}}class it extends Ai{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const FR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Ai{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return FR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y0}static keyField(){return new Yt([Y0])}static fromServerFormat(e){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new se(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new se(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new se(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(f=!f,l++):p!=="."||f?(r+=p,l++):(u(),l++)}if(u(),f)throw new se(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(it.fromString(e))}static fromName(e){return new de(it.fromString(e).popFirst(5))}static empty(){return new de(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(s,e,n){if(!n)throw new se(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function GR(s,e,n,r){if(e===!0&&r===!0)throw new se(X.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function X0(s){if(!de.isDocumentKey(s))throw new se(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function $0(s){if(de.isDocumentKey(s))throw new se(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function n1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function kh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ye(12329,{type:typeof s})}function as(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new se(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kh(s);throw new se(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(s,e){const n={typeString:s};return e&&(n.value=e),n}function su(s,e){if(!n1(s))throw new se(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(l&&typeof f!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new se(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=-62135596800,Z0=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Z0);return new st(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<J0)throw new se(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z0}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(su(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-J0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Dt("string",st._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new st(0,0))}static max(){return new ve(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=-1;function KR(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=ve.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new rr(l,de.empty(),e)}function QR(s){return new rr(s.readTime,s.key,Gl)}class rr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rr(ve.min(),de.empty(),Gl)}static max(){return new rr(ve.max(),de.empty(),Gl)}}function YR(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(s.documentKey,e.documentKey),n!==0?n:Oe(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $R{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==XR)throw s;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):$.reject(n)}static resolve(e){return new $(((n,r)=>{n(e)}))}static reject(e){return new $(((n,r)=>{r(e)}))}static waitFor(e){return new $(((n,r)=>{let l=0,u=0,f=!1;e.forEach((p=>{++l,p.next((()=>{++u,f&&u===l&&n()}),(g=>r(g)))})),f=!0,u===l&&n()}))}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next((l=>l?$.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(e,n){return new $(((r,l)=>{const u=e.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((T=>{f[y]=T,++p,p===u&&r(f)}),(T=>l(T)))}}))}static doWhile(e,n){return new $(((r,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):r()};u()}))}}function JR(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=-1;function Uh(s){return s==null}function yh(s){return s===0&&1/s==-1/0}function ZR(s){return typeof s=="number"&&Number.isInteger(s)&&!yh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="";function WR(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=W0(e)),e=ex(s.get(n),e);return W0(e)}function ex(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case i1:n+="";break;default:n+=u}}return n}function W0(s){return s+i1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function fr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function s1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,l,u){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=l??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,u){return new Qt(e??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Qt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,r,l,u){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tv(this.data.getIterator())}getIteratorFrom(e){return new tv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class tv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new An([])}unionWith(e){let n=new kt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ao(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new r1("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const tx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(s){if(Ke(!!s,39018),typeof s=="string"){let e=0;const n=tx.exec(s);if(Ke(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(s.seconds),nanos:_t(s.nanos)}}function _t(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function or(s){return typeof s=="string"?Xt.fromBase64String(s):Xt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="server_timestamp",o1="__type__",l1="__previous_value__",u1="__local_write_time__";function op(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[o1])==null?void 0:r.stringValue)===a1}function Ph(s){const e=s.mapValue.fields[l1];return op(e)?Ph(e):e}function Kl(s){const e=ar(s.mapValue.fields[u1].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n,r,l,u,f,p,g,y,T,S){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=S}}const _h="(default)";class Ql{constructor(e,n){this.projectId=e,this.database=n||_h}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}function ix(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new se(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(s.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="__type__",sx="__max__",Gc={mapValue:{}},h1="__vector__",vh="value";function lr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?op(s)?4:ax(s)?9007199254740991:rx(s)?10:11:ye(28295,{value:s})}function Di(s,e){if(s===e)return!0;const n=lr(s);if(n!==lr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Kl(s).isEqual(Kl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=ar(l.timestampValue),p=ar(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return or(l.bytesValue).isEqual(or(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return _t(l.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(l.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return _t(l.integerValue)===_t(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=_t(l.doubleValue),p=_t(u.doubleValue);return f===p?yh(f)===yh(p):isNaN(f)&&isNaN(p)}return!1})(s,e);case 9:return ao(s.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},p=u.mapValue.fields||{};if(ev(f)!==ev(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Di(f[g],p[g])))return!1;return!0})(s,e);default:return ye(52216,{left:s})}}function Yl(s,e){return(s.values||[]).find((n=>Di(n,e)))!==void 0}function oo(s,e){if(s===e)return 0;const n=lr(s),r=lr(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=_t(u.integerValue||u.doubleValue),g=_t(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return nv(s.timestampValue,e.timestampValue);case 4:return nv(Kl(s),Kl(e));case 5:return Im(s.stringValue,e.stringValue);case 6:return(function(u,f){const p=or(u),g=or(f);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=Oe(p[y],g[y]);if(T!==0)return T}return Oe(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=Oe(_t(u.latitude),_t(f.latitude));return p!==0?p:Oe(_t(u.longitude),_t(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return iv(s.arrayValue,e.arrayValue);case 10:return(function(u,f){var x,B,J,W;const p=u.fields||{},g=f.fields||{},y=(x=p[vh])==null?void 0:x.arrayValue,T=(B=g[vh])==null?void 0:B.arrayValue,S=Oe(((J=y==null?void 0:y.values)==null?void 0:J.length)||0,((W=T==null?void 0:T.values)==null?void 0:W.length)||0);return S!==0?S:iv(y,T)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Gc.mapValue&&f===Gc.mapValue)return 0;if(u===Gc.mapValue)return 1;if(f===Gc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=f.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const x=Im(g[S],T[S]);if(x!==0)return x;const B=oo(p[g[S]],y[T[S]]);if(B!==0)return B}return Oe(g.length,T.length)})(s.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function nv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Oe(s,e);const n=ar(s),r=ar(e),l=Oe(n.seconds,r.seconds);return l!==0?l:Oe(n.nanos,r.nanos)}function iv(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=oo(n[l],r[l]);if(u)return u}return Oe(n.length,r.length)}function lo(s){return Cm(s)}function Cm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=ar(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return or(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return de.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=Cm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of r)u?u=!1:l+=",",l+=`${f}:${Cm(n.fields[f])}`;return l+"}"})(s.mapValue):ye(61005,{value:s})}function th(s){switch(lr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(s);return e?16+th(e):16;case 5:return 2*s.stringValue.length;case 6:return or(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+th(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return fr(r.fields,((u,f)=>{l+=u.length+th(f)})),l})(s.mapValue);default:throw ye(13486,{value:s})}}function sv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Nm(s){return!!s&&"integerValue"in s}function lp(s){return!!s&&"arrayValue"in s}function rv(s){return!!s&&"nullValue"in s}function av(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function nh(s){return!!s&&"mapValue"in s}function rx(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[c1])==null?void 0:r.stringValue)===h1}function Ll(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return fr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ll(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ll(s.arrayValue.values[n]);return e}return{...s}}function ax(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===sx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(n)}setAll(e){let n=Yt.emptyPath(),r={},l=[];e.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,l),r={},l=[],n=p.popLast()}f?r[p.lastSegment()]=Ll(f):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(e){const n=this.field(e.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];nh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){fr(n,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new dn(Ll(this.value))}}function f1(s){const e=[];return fr(s.fields,((n,r)=>{const l=new Yt([n]);if(nh(r)){const u=f1(r.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,l,u,f,p){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new Wt(e,0,ve.min(),ve.min(),ve.min(),dn.empty(),0)}static newFoundDocument(e,n,r,l){return new Wt(e,1,n,ve.min(),r,l,0)}static newNoDocument(e,n){return new Wt(e,2,n,ve.min(),ve.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,ve.min(),ve.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function ov(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],f=s.position[l];if(u.field.isKeyField()?r=de.comparator(de.fromName(f.referenceValue),n.key):r=oo(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function lv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Di(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n="asc"){this.field=e,this.dir=n}}function ox(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{}class Nt extends d1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ux(e,n,r):n==="array-contains"?new fx(e,r):n==="in"?new dx(e,r):n==="not-in"?new mx(e,r):n==="array-contains-any"?new px(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cx(e,r):new hx(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oo(n,this.value)):n!==null&&lr(this.value)===lr(n)&&this.matchesComparison(oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends d1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ei(e,n)}matches(e){return m1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function m1(s){return s.op==="and"}function p1(s){return lx(s)&&m1(s)}function lx(s){for(const e of s.filters)if(e instanceof ei)return!1;return!0}function Dm(s){if(s instanceof Nt)return s.field.canonicalString()+s.op.toString()+lo(s.value);if(p1(s))return s.filters.map((e=>Dm(e))).join(",");{const e=s.filters.map((n=>Dm(n))).join(",");return`${s.op}(${e})`}}function g1(s,e){return s instanceof Nt?(function(r,l){return l instanceof Nt&&r.op===l.op&&r.field.isEqual(l.field)&&Di(r.value,l.value)})(s,e):s instanceof ei?(function(r,l){return l instanceof ei&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,f,p)=>u&&g1(f,l.filters[p])),!0):!1})(s,e):void ye(19439)}function y1(s){return s instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`})(s):s instanceof ei?(function(n){return n.op.toString()+" {"+n.getFilters().map(y1).join(" ,")+"}"})(s):"Filter"}class ux extends Nt{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class cx extends Nt{constructor(e,n){super(e,"in",n),this.keys=_1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class hx extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=_1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function _1(s,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>de.fromName(r.referenceValue)))}class fx extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lp(n)&&Yl(n.arrayValue,this.value)}}class dx extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yl(this.value.arrayValue,n)}}class mx extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yl(this.value.arrayValue,n)}}class px extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Yl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n=null,r=[],l=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function uv(s,e=null,n=[],r=[],l=null,u=null,f=null){return new gx(s,e,n,r,l,u,f)}function up(s){const e=Te(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Dm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>lo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>lo(r))).join(",")),e.Te=n}return e.Te}function cp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!ox(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!g1(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!lv(s.startAt,e.startAt)&&lv(s.endAt,e.endAt)}function Om(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n=null,r=[],l=[],u=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function yx(s,e,n,r,l,u,f,p){return new ru(s,e,n,r,l,u,f,p)}function hp(s){return new ru(s)}function cv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function _x(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function v1(s){return s.collectionGroup!==null}function Ul(s){const e=Te(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new kt(Yt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Th(u,r))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new Th(Yt.keyField(),r))}return e.Ie}function xi(s){const e=Te(s);return e.Ee||(e.Ee=vx(e,Ul(s))),e.Ee}function vx(s,e){if(s.limitType==="F")return uv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Th(l.field,u)}));const n=s.endAt?new Eh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Eh(s.startAt.position,s.startAt.inclusive):null;return uv(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Mm(s,e){const n=s.filters.concat([e]);return new ru(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Vm(s,e,n){return new ru(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function jh(s,e){return cp(xi(s),xi(e))&&s.limitType===e.limitType}function E1(s){return`${up(xi(s))}|lt:${s.limitType}`}function Xa(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>y1(l))).join(", ")}]`),Uh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>lo(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>lo(l))).join(",")),`Target(${r})`})(xi(s))}; limitType=${s.limitType})`}function zh(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):de.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of Ul(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(f,p,g){const y=ov(f,p,g);return f.inclusive?y<=0:y<0})(r.startAt,Ul(r),l)||r.endAt&&!(function(f,p,g){const y=ov(f,p,g);return f.inclusive?y>=0:y>0})(r.endAt,Ul(r),l))})(s,e)}function Ex(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function T1(s){return(e,n)=>{let r=!1;for(const l of Ul(s)){const u=Tx(l,e,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function Tx(s,e,n){const r=s.field.isKeyField()?de.comparator(e.key,n.key):(function(u,f,p){const g=f.data.field(u),y=p.data.field(u);return g!==null&&y!==null?oo(g,y):ye(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ye(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){fr(this.inner,((n,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return s1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=new ht(de.comparator);function os(){return bx}const b1=new ht(de.comparator);function Dl(...s){let e=b1;for(const n of s)e=e.insert(n.key,n);return e}function A1(s){let e=b1;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Qr(){return Pl()}function S1(){return Pl()}function Pl(){return new na((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Ax=new ht(de.comparator),Sx=new kt(de.comparator);function Me(...s){let e=Sx;for(const n of s)e=e.add(n);return e}const wx=new kt(Oe);function Rx(){return wx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function w1(s){return{integerValue:""+s}}function xx(s,e){return ZR(e)?w1(e):fp(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function Ix(s,e,n){return s instanceof bh?(function(l,u){const f={fields:{[o1]:{stringValue:a1},[u1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&op(u)&&(u=Ph(u)),u&&(f.fields[l1]=u),{mapValue:f}})(n,e):s instanceof Xl?x1(s,e):s instanceof $l?I1(s,e):(function(l,u){const f=R1(l,u),p=hv(f)+hv(l.Ae);return Nm(f)&&Nm(l.Ae)?w1(p):fp(l.serializer,p)})(s,e)}function Cx(s,e,n){return s instanceof Xl?x1(s,e):s instanceof $l?I1(s,e):n}function R1(s,e){return s instanceof Ah?(function(r){return Nm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class bh extends Bh{}class Xl extends Bh{constructor(e){super(),this.elements=e}}function x1(s,e){const n=C1(e);for(const r of s.elements)n.some((l=>Di(l,r)))||n.push(r);return{arrayValue:{values:n}}}class $l extends Bh{constructor(e){super(),this.elements=e}}function I1(s,e){let n=C1(e);for(const r of s.elements)n=n.filter((l=>!Di(l,r)));return{arrayValue:{values:n}}}class Ah extends Bh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function hv(s){return _t(s.integerValue||s.doubleValue)}function C1(s){return lp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Nx(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof Xl&&l instanceof Xl||r instanceof $l&&l instanceof $l?ao(r.elements,l.elements,Di):r instanceof Ah&&l instanceof Ah?Di(r.Ae,l.Ae):r instanceof bh&&l instanceof bh})(s.transform,e.transform)}class Dx{constructor(e,n){this.version=e,this.transformResults=n}}class Ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class qh{}function N1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new O1(s.key,Ii.none()):new au(s.key,s.data,Ii.none());{const n=s.data,r=dn.empty();let l=new kt(Yt.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),l=l.add(u)}return new dr(s.key,r,new An(l.toArray()),Ii.none())}}function Ox(s,e,n){s instanceof au?(function(l,u,f){const p=l.value.clone(),g=dv(l.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,e,n):s instanceof dr?(function(l,u,f){if(!ih(l.precondition,u))return void u.convertToUnknownDocument(f.version);const p=dv(l.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(D1(l)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function jl(s,e,n,r){return s instanceof au?(function(u,f,p,g){if(!ih(u.precondition,f))return p;const y=u.value.clone(),T=mv(u.fieldTransforms,g,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof dr?(function(u,f,p,g){if(!ih(u.precondition,f))return p;const y=mv(u.fieldTransforms,g,f),T=f.data;return T.setAll(D1(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(u,f,p){return ih(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(s,e,n)}function Mx(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=R1(r.transform,l||null);u!=null&&(n===null&&(n=dn.empty()),n.set(r.field,u))}return n||null}function fv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&ao(r,l,((u,f)=>Nx(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class au extends qh{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class dr extends qh{constructor(e,n,r,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function D1(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function dv(s,e,n){const r=new Map;Ke(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let l=0;l<n.length;l++){const u=s[l],f=u.transform,p=e.data.field(u.field);r.set(u.field,Cx(f,p,n[l]))}return r}function mv(s,e,n){const r=new Map;for(const l of s){const u=l.transform,f=n.data.field(l.field);r.set(l.field,Ix(u,f,e))}return r}class O1 extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vx extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&Ox(u,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=jl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=jl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=S1();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(l.key)?null:p;const g=N1(f,p);g!==null&&r.set(l.key,g),f.isValidDocument()||f.convertToNoDocument(ve.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Me())}isEqual(e){return this.batchId===e.batchId&&ao(this.mutations,e.mutations,((n,r)=>fv(n,r)))&&ao(this.baseMutations,e.baseMutations,((n,r)=>fv(n,r)))}}class dp{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return Ax})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,r[f].version);return new dp(e,n,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Pe;function Px(s){switch(s){case X.OK:return ye(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ye(15467,{code:s})}}function M1(s){if(s===void 0)return rs("GRPC error has no .code"),X.UNKNOWN;switch(s){case Ct.OK:return X.OK;case Ct.CANCELLED:return X.CANCELLED;case Ct.UNKNOWN:return X.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return X.INTERNAL;case Ct.UNAVAILABLE:return X.UNAVAILABLE;case Ct.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ct.NOT_FOUND:return X.NOT_FOUND;case Ct.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ct.ABORTED:return X.ABORTED;case Ct.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ct.DATA_LOSS:return X.DATA_LOSS;default:return ye(39323,{code:s})}}(Pe=Ct||(Ct={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=new ir([4294967295,4294967295],0);function pv(s){const e=jx().encode(s),n=new QE;return n.update(e),new Uint8Array(n.digest())}function gv(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ir([n,r],0),new ir([l,u],0)]}class mp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(r<0)throw new Ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ir.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(ir.fromNumber(r)));return l.compare(zx)===1&&(l=new ir([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=pv(e),[r,l]=gv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new mp(u,l,n);return r.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const n=pv(e),[r,l]=gv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);this.be(f)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hh(ve.min(),l,new ht(Oe),os(),Me())}}class ou{constructor(e,n,r,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ou(r,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n,r,l){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=l}}class V1{constructor(e,n){this.targetId=e,this.Ce=n}}class k1{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class yv{constructor(){this.ve=0,this.Fe=_v(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),n=Me(),r=Me();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:ye(38017,{changeType:u})}})),new ou(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=_v()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Bx{constructor(e){this.Ge=e,this.ze=new Map,this.je=os(),this.He=Kc(),this.Je=Kc(),this.Ze=new ht(Oe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Om(u))if(r===0){const f=new de(u.path);this.et(n,f,Wt.newNoDocument(f,ve.min()))}else Ke(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let f,p;try{f=or(r).toUint8Array()}catch(g){if(g instanceof r1)return ea("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new mp(f,l,u)}catch(g){return ea(g instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Om(p.target)){const g=new de(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Wt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let r=Me();this.Je.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new Hh(e,n,this.Ze,this.je,r);return this.je=os(),this.He=Kc(),this.Je=Kc(),this.Ze=new ht(Oe),l}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new yv,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new kt(Oe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new kt(Oe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Kc(){return new ht(de.comparator)}function _v(){return new ht(de.comparator)}const qx={asc:"ASCENDING",desc:"DESCENDING"},Hx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fx={and:"AND",or:"OR"};class Gx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function km(s,e){return s.useProto3Json||Uh(e)?e:{value:e}}function Sh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Kx(s,e){return Sh(s,e.toTimestamp())}function Ci(s){return Ke(!!s,49232),ve.fromTimestamp((function(n){const r=ar(n);return new st(r.seconds,r.nanos)})(s))}function pp(s,e){return Lm(s,e).canonicalString()}function Lm(s,e){const n=(function(l){return new it(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function U1(s){const e=it.fromString(s);return Ke(q1(e),10190,{key:e.toString()}),e}function Um(s,e){return pp(s.databaseId,e.path)}function hm(s,e){const n=U1(e);if(n.get(1)!==s.databaseId.projectId)throw new se(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new se(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new de(j1(n))}function P1(s,e){return pp(s.databaseId,e)}function Qx(s){const e=U1(s);return e.length===4?it.emptyPath():j1(e)}function Pm(s){return new it(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function j1(s){return Ke(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function vv(s,e,n){return{name:Um(s,e),fields:n.value.mapValue.fields}}function Yx(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ye(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(Ke(T===void 0||typeof T=="string",58123),Xt.fromBase64String(T||"")):(Ke(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Xt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const T=y.code===void 0?X.UNKNOWN:M1(y.code);return new se(T,y.message||"")})(f);n=new k1(r,l,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=hm(s,r.document.name),u=Ci(r.document.updateTime),f=r.document.createTime?Ci(r.document.createTime):ve.min(),p=new dn({mapValue:{fields:r.document.fields}}),g=Wt.newFoundDocument(l,u,f,p),y=r.targetIds||[],T=r.removedTargetIds||[];n=new sh(y,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=hm(s,r.document),u=r.readTime?Ci(r.readTime):ve.min(),f=Wt.newNoDocument(l,u),p=r.removedTargetIds||[];n=new sh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=hm(s,r.document),u=r.removedTargetIds||[];n=new sh([],u,l,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,f=new Ux(l,u),p=r.targetId;n=new V1(p,f)}}return n}function Xx(s,e){let n;if(e instanceof au)n={update:vv(s,e.key,e.value)};else if(e instanceof O1)n={delete:Um(s,e.key)};else if(e instanceof dr)n={update:vv(s,e.key,e.data),updateMask:sI(e.fieldMask)};else{if(!(e instanceof Vx))return ye(16599,{dt:e.type});n={verify:Um(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const p=f.transform;if(p instanceof bh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Xl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof $l)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ah)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw ye(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:Kx(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(s,e.precondition)),n}function $x(s,e){return s&&s.length>0?(Ke(e!==void 0,14353),s.map((n=>(function(l,u){let f=l.updateTime?Ci(l.updateTime):Ci(u);return f.isEqual(ve.min())&&(f=Ci(u)),new Dx(f,l.transformResults||[])})(n,e)))):[]}function Jx(s,e){return{documents:[P1(s,e.path)]}}function Zx(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=P1(s,l);const u=(function(y){if(y.length!==0)return B1(ei.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((T=>(function(x){return{field:$a(x.field),direction:tI(x.dir)}})(T)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=km(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function Wx(s){let e=Qx(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Ke(r===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const x=z1(S);return x instanceof ei&&p1(x)?x.getFilters():[x]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((x=>(function(J){return new Th(Ja(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(x)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let x;return x=typeof S=="object"?S.value:S,Uh(x)?null:x})(n.limit));let g=null;n.startAt&&(g=(function(S){const x=!!S.before,B=S.values||[];return new Eh(B,x)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const x=!S.before,B=S.values||[];return new Eh(B,x)})(n.endAt)),yx(e,l,f,u,p,"F",g,y)}function eI(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function z1(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ja(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ja(n.unaryFilter.field);return Nt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ja(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Nt.create(Ja(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ei.create(n.compositeFilter.filters.map((r=>z1(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(s):ye(30097,{filter:s})}function tI(s){return qx[s]}function nI(s){return Hx[s]}function iI(s){return Fx[s]}function $a(s){return{fieldPath:s.canonicalString()}}function Ja(s){return Yt.fromServerFormat(s.fieldPath)}function B1(s){return s instanceof Nt?(function(n){if(n.op==="=="){if(av(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NAN"}};if(rv(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(av(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NAN"}};if(rv(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(n.field),op:nI(n.op),value:n.value}}})(s):s instanceof ei?(function(n){const r=n.getFilters().map((l=>B1(l)));return r.length===1?r[0]:{compositeFilter:{op:iI(n.op),filters:r}}})(s):ye(54877,{filter:s})}function sI(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function q1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function H1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n,r,l,u=ve.min(),f=ve.min(),p=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.yt=e}}function aI(s){const e=Wx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Vm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.Sn=new lI}addToCollectionParentIndex(e,n){return this.Sn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(rr.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(rr.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class lI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new kt(it.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new kt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},F1=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(F1,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new uo(0)}static ar(){return new uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="LruGarbageCollector",uI=1048576;function bv([s,e],[n,r]){const l=Oe(s,n);return l===0?Oe(e,r):l}class cI{constructor(e){this.Pr=e,this.buffer=new kt(bv),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){re(Tv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?re(Tv,"Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.Ar(3e5)}))}}class fI{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Lh.ce);const r=new cI(n);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Ev)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ev):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,l,u,f,p,g,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,f=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(y=Date.now(),Ya()<=De.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${l} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function dI(s,e){return new fI(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.changes=new na((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&jl(r.mutation,l,An.empty(),st.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Me()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Me()){const l=Qr();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((u=>{let f=Dl();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=Qr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Me())))}populateOverlays(e,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(e,n,r,l){let u=os();const f=Pl(),p=(function(){return Pl()})();return n.forEach(((g,y)=>{const T=r.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof dr)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),jl(T.mutation,y,T.mutation.getFieldMask(),st.now())):f.set(y.key,An.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,T)=>f.set(y,T))),n.forEach(((y,T)=>p.set(y,new pI(T,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=Pl();let l=new ht(((f,p)=>f-p)),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let T=r.get(g)||An.empty();T=p.applyToLocalView(y,T),r.set(g,T);const S=(l.get(p.batchId)||Me()).add(g);l=l.insert(p.batchId,S)}))})).next((()=>{const f=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,S=S1();T.forEach((x=>{if(!u.has(x)){const B=N1(n.get(x),r.get(x));B!==null&&S.set(x,B),u=u.add(x)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return $.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return _x(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):v1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-u.size):$.resolve(Qr());let p=Gl,g=u;return f.next((y=>$.forEach(y,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next((x=>{g=g.insert(T,x)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Me()))).next((T=>({batchId:p,changes:A1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((r=>{let l=Dl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const u=n.collectionGroup;let f=Dl();return this.indexManager.getCollectionParents(e,u).next((p=>$.forEach(p,(g=>{const y=(function(S,x){return new ru(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((T=>{T.forEach(((S,x)=>{f=f.insert(S,x)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,l)))).next((f=>{u.forEach(((g,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,Wt.newInvalidDocument(T)))}));let p=Dl();return f.forEach(((g,y)=>{const T=u.get(g);T!==void 0&&jl(T.mutation,y,An.empty(),st.now()),zh(n,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return $.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Ci(l.createTime)}})(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:aI(l.bundledQuery),readTime:Ci(l.readTime)}})(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.overlays=new ht(de.comparator),this.Lr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qr();return $.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,u)=>{this.bt(e,n,u)})),$.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const l=Qr(),u=n.length+1,f=new de(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&l.set(g.getKey(),g)}return $.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let u=new ht(((y,T)=>y-T));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let T=u.get(y.largestBatchId);T===null&&(T=Qr(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Qr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return $.resolve(p)}bt(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const f=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new Lx(n,r));let u=this.Lr.get(n);u===void 0&&(u=Me(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(){this.kr=new kt(jt.Kr),this.qr=new kt(jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new jt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new de(new it([])),r=new jt(n,e),l=new jt(n,e+1),u=[];return this.qr.forEachInRange([r,l],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new de(new it([])),r=new jt(n,e),l=new jt(n,e+1);let u=Me();return this.qr.forEachInRange([r,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new jt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return de.comparator(e.key,n.key)||Oe(e.Hr,n.Hr)}static Ur(e,n){return Oe(e.Hr,n.Hr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new kt(jt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new kx(u,n,r,l);this.mutationQueue.push(f);for(const p of l)this.Jr=this.Jr.add(new jt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(f)}lookupMutationBatch(e,n){return $.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.Xr(r),u=l<0?0:l;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?ap:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),l=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,l],(f=>{const p=this.Zr(f.Hr);u.push(p)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Oe);return n.forEach((l=>{const u=new jt(l,0),f=new jt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(p=>{r=r.add(p.Hr)}))})),$.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let u=r;de.isDocumentKey(u)||(u=u.child(""));const f=new jt(new de(u),0);let p=new kt(Oe);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Hr)),!0)}),f),$.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Ke(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return $.forEach(n.mutations,(l=>{const u=new jt(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new jt(n,0),l=this.Jr.firstAfterOrEqual(r);return $.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.ti=e,this.docs=(function(){return new ht(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=os();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():Wt.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let u=os();const f=n.path,p=new de(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||YR(QR(T),r)<=0||(l.has(T.key)||zh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(e,n,r,l){ye(9500)}ni(e,n){return $.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new bI(this)}getSize(e){return $.resolve(this.size)}}class bI extends mI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),$.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.persistence=e,this.ri=new na((n=>up(n)),cp),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.ii=0,this.si=new gp,this.targetCount=0,this.oi=uo._r()}forEachTarget(e,n){return this.ri.forEach(((r,l)=>n(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),$.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new uo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.lr(n),$.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let l=0;const u=[];return this.ri.forEach(((f,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),$.waitFor(u).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),$.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n){this._i={},this.overlays={},this.ai=new Lh(0),this.ui=!1,this.ui=!0,this.ci=new vI,this.referenceDelegate=e(this),this.li=new AI(this),this.indexManager=new oI,this.remoteDocumentCache=(function(l){return new TI(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new rI(n),this.Pi=new yI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _I,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new EI(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const l=new SI(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(e,n){return $.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class SI extends $R{constructor(e){super(),this.currentSequenceNumber=e}}class yp{constructor(e){this.persistence=e,this.Ri=new gp,this.Ai=null}static Vi(e){return new yp(e)}get di(){if(this.Ai)return this.Ai;throw ye(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(r=>{const l=de.fromPath(r);return this.mi(e,l).next((u=>{u||n.removeEntry(l,ve.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class wh{constructor(e,n){this.persistence=e,this.fi=new na((r=>WR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=dI(this,n)}static Vi(e,n){return new wh(e,n)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return $.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((u=>u?$.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(e,(f=>this.wr(e,f,n).next((p=>{p||(r++,u.removeEntry(f,ve.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),$.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=th(e.data.value)),n}wr(e,n,r){return $.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.fi.get(n);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=l}static Es(e,n){let r=Me(),l=Me();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new _p(e,n.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return $A()?8:JR(en())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,l,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new wI;return this.ys(e,n,f).next((p=>{if(u.result=p,this.As)return this.ws(e,n,f,p.size)}))})).next((()=>u.result))}ws(e,n,r,l){return r.documentReadCount<this.Vs?(Ya()<=De.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Ya()<=De.DEBUG&&re("QueryEngine","Query:",Xa(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(Ya()<=De.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(n))):$.resolve())}gs(e,n){if(cv(n))return $.resolve(null);let r=xi(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Vm(n,null,"F"),r=xi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=Me(...u);return this.fs.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,f,g.readTime)?this.gs(e,Vm(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,r,l){return cv(n)||l.isEqual(ve.min())?$.resolve(null):this.fs.getDocuments(e,r).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,r,l)?$.resolve(null):(Ya()<=De.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Xa(n)),this.Ds(e,f,n,KR(l,Gl)).next((p=>p)))}))}bs(e,n){let r=new kt(T1(e));return n.forEach(((l,u)=>{zh(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(e,n,r){return Ya()<=De.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.fs.getDocumentsMatchingQuery(e,n,rr.min(),r)}Ds(e,n,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="LocalStore",xI=3e8;class II{constructor(e,n,r,l){this.persistence=e,this.Cs=n,this.serializer=l,this.vs=new ht(Oe),this.Fs=new na((u=>up(u)),cp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function CI(s,e,n,r){return new II(s,e,n,r)}async function K1(s,e){const n=Te(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],p=[];let g=Me();for(const y of l){f.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of u){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function NI(s,e){const n=Te(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,T){const S=y.batch,x=S.keys();let B=$.resolve();return x.forEach((J=>{B=B.next((()=>T.getEntry(g,J))).next((W=>{const Z=y.docVersions.get(J);Ke(Z!==null,48541),W.version.compareTo(Z)<0&&(S.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),T.addEntry(W)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Me();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function Q1(s){const e=Te(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function DI(s,e){const n=Te(s),r=e.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const p=[];e.targetChanges.forEach(((T,S)=>{const x=l.get(S);if(!x)return;p.push(n.li.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,T.addedDocuments,S))));let B=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?B=B.withResumeToken(Xt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,r)),l=l.insert(S,B),(function(W,Z,ce){return W.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=xI?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(x,B,T)&&p.push(n.li.updateTargetData(u,B))}));let g=os(),y=Me();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(OI(u,f,e.documentUpdates).next((T=>{g=T.Bs,y=T.Ls}))),!r.isEqual(ve.min())){const T=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(T)}return $.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=l,u)))}function OI(s,e,n){let r=Me(),l=Me();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=os();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(ve.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):re(vp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:l}}))}function MI(s,e){const n=Te(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ap),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function VI(s,e){const n=Te(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.li.getTargetData(r,e).next((u=>u?(l=u,$.resolve(l)):n.li.allocateTargetId(r).next((f=>(l=new Zs(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function jm(s,e,n){const r=Te(s),l=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!_o(f))throw f;re(vp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function Av(s,e,n){const r=Te(s);let l=ve.min(),u=Me();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,T){const S=Te(g),x=S.Fs.get(T);return x!==void 0?$.resolve(S.vs.get(x)):S.li.getTargetData(y,T)})(r,f,xi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,n?l:ve.min(),n?u:Me()))).next((p=>(kI(r,Ex(e),p),{documents:p,ks:u})))))}function kI(s,e,n){let r=s.Ms.get(e)||ve.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(e,r)}class Sv{constructor(){this.activeTargetIds=Rx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LI{constructor(){this.vo=new Sv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Sv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="ConnectivityMonitor";class Rv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){re(wv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){re(wv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function zm(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="RestConnection",PI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class jI{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===_h?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,n,r,l,u){const f=zm(),p=this.Qo(e,n.toUriEncodedString());re(fm,`Sending RPC '${e}' ${f}:`,p,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,l,u);const{host:y}=new URL(p),T=fo(y);return this.zo(e,p,g,r,T).then((S=>(re(fm,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw ea(fm,`RPC '${e}' ${f} failed with error: `,S,"url: ",p,"request:",r),S}))}jo(e,n,r,l,u,f){return this.Wo(e,n,r,l,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+go})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}Qo(e,n){const r=PI[e];let l=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection",xl=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class no extends jI{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!no.c_){const e=JE();xl(e,$E.STAT_EVENT,(n=>{n.stat===xm.PROXY?re(Jt,"STAT_EVENT: detected buffering proxy"):n.stat===xm.NOPROXY&&re(Jt,"STAT_EVENT: detected no buffering proxy")})),no.c_=!0}}zo(e,n,r,l,u){const f=zm();return new Promise(((p,g)=>{const y=new YE;y.setWithCredentials(!0),y.listenOnce(XE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case eh.NO_ERROR:const S=y.getResponseJson();re(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),p(S);break;case eh.TIMEOUT:re(Jt,`RPC '${e}' ${f} timed out`),g(new se(X.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const x=y.getStatus();if(re(Jt,`RPC '${e}' ${f} failed with status:`,x,"response text:",y.getResponseText()),x>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const J=B==null?void 0:B.error;if(J&&J.status&&J.message){const W=(function(ce){const me=ce.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(me)>=0?me:X.UNKNOWN})(J.status);g(new se(W,J.message))}else g(new se(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new se(X.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{re(Jt,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(l);re(Jt,`RPC '${e}' ${f} sending request:`,l),y.send(n,"POST",T,r,15)}))}T_(e,n,r){const l=zm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const y=u.join("");re(Jt,`Creating RPC '${e}' stream ${l}: ${y}`,p);const T=f.createWebChannel(y,p);this.I_(T);let S=!1,x=!1;const B=new zI({Ho:J=>{x?re(Jt,`Not sending because RPC '${e}' stream ${l} is closed:`,J):(S||(re(Jt,`Opening RPC '${e}' stream ${l} transport.`),T.open(),S=!0),re(Jt,`RPC '${e}' stream ${l} sending:`,J),T.send(J))},Jo:()=>T.close()});return xl(T,Nl.EventType.OPEN,(()=>{x||(re(Jt,`RPC '${e}' stream ${l} transport opened.`),B.i_())})),xl(T,Nl.EventType.CLOSE,(()=>{x||(x=!0,re(Jt,`RPC '${e}' stream ${l} transport closed`),B.o_(),this.E_(T))})),xl(T,Nl.EventType.ERROR,(J=>{x||(x=!0,ea(Jt,`RPC '${e}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),B.o_(new se(X.UNAVAILABLE,"The operation could not be completed")))})),xl(T,Nl.EventType.MESSAGE,(J=>{var W;if(!x){const Z=J.data[0];Ke(!!Z,16349);const ce=Z,me=(ce==null?void 0:ce.error)||((W=ce[0])==null?void 0:W.error);if(me){re(Jt,`RPC '${e}' stream ${l} received error:`,me);const ue=me.status;let Ve=(function(D){const w=Ct[D];if(w!==void 0)return M1(w)})(ue),Ge=me.message;ue==="NOT_FOUND"&&Ge.includes("database")&&Ge.includes("does not exist")&&Ge.includes(this.databaseId.database)&&ea(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Ve===void 0&&(Ve=X.INTERNAL,Ge="Unknown error status: "+ue+" with message "+me.message),x=!0,B.o_(new se(Ve,Ge)),T.close()}else re(Jt,`RPC '${e}' stream ${l} received:`,Z),B.__(Z)}})),no.u_(),setTimeout((()=>{B.s_()}),0),B}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ZE()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(s){return new no(s)}function dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(s){return new Gx(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */no.c_=!1;class Y1{constructor(e,n,r=1e3,l=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&re("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="PersistentStream";class X1{constructor(e,n,r,l,u,f,p,g){this.Ci=e,this.b_=r,this.S_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Y1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(rs(n.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new se(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return re(xv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(re(xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qI extends X1{constructor(e,n,r,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Yx(this.serializer,e),r=(function(u){if(!("targetChange"in u))return ve.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?ve.min():f.readTime?Ci(f.readTime):ve.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Pm(this.serializer),n.addTarget=(function(u,f){let p;const g=f.target;if(p=Om(g)?{documents:Jx(u,g)}:{query:Zx(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=L1(u,f.resumeToken);const y=km(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(ve.min())>0){p.readTime=Sh(u,f.snapshotVersion.toTimestamp());const y=km(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=eI(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Pm(this.serializer),n.removeTarget=e,this.K_(n)}}class HI extends X1{constructor(e,n,r,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$x(e.writeResults,e.commitTime),r=Ci(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Pm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Xx(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{}class GI extends FI{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new se(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Lm(n,r),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new se(X.UNKNOWN,u.toString())}))}jo(e,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.jo(e,Lm(n,r),l,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new se(X.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function KI(s,e,n,r){return new GI(s,e,n,r)}class QI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rs(n),this.aa=!1):re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="RemoteStore";class YI{constructor(e,n,r,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{ia(this)&&(re(ta,"Restarting streams for network reachability change."),await(async function(g){const y=Te(g);y.Ea.add(4),await lu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Gh(y)})(this))}))})),this.Va=new QI(r,l)}}async function Gh(s){if(ia(s))for(const e of s.Ra)await e(!0)}async function lu(s){for(const e of s.Ra)await e(!1)}function $1(s,e){const n=Te(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ap(n)?bp(n):vo(n).O_()&&Tp(n,e))}function Ep(s,e){const n=Te(s),r=vo(n);n.Ia.delete(e),r.O_()&&J1(n,e),n.Ia.size===0&&(r.O_()?r.L_():ia(n)&&n.Va.set("Unknown"))}function Tp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vo(s).Z_(e)}function J1(s,e){s.da.$e(e),vo(s).X_(e)}function bp(s){s.da=new Bx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),vo(s).start(),s.Va.ua()}function Ap(s){return ia(s)&&!vo(s).x_()&&s.Ia.size>0}function ia(s){return Te(s).Ea.size===0}function Z1(s){s.da=void 0}async function XI(s){s.Va.set("Online")}async function $I(s){s.Ia.forEach(((e,n)=>{Tp(s,e)}))}async function JI(s,e){Z1(s),Ap(s)?(s.Va.ha(e),bp(s)):s.Va.set("Unknown")}async function ZI(s,e,n){if(s.Va.set("Online"),e instanceof k1&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,f),l.Ia.delete(p),l.da.removeTarget(p))})(s,e)}catch(r){re(ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rh(s,r)}else if(e instanceof sh?s.da.Xe(e):e instanceof V1?s.da.st(e):s.da.tt(e),!n.isEqual(ve.min()))try{const r=await Q1(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const p=u.da.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(Xt.EMPTY_BYTE_STRING,T.snapshotVersion)),J1(u,g);const S=new Zs(T.target,g,y,T.sequenceNumber);Tp(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){re(ta,"Failed to raise snapshot:",r),await Rh(s,r)}}async function Rh(s,e,n){if(!_o(e))throw e;s.Ea.add(1),await lu(s),s.Va.set("Offline"),n||(n=()=>Q1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{re(ta,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Gh(s)}))}function W1(s,e){return e().catch((n=>Rh(s,n,e)))}async function Kh(s){const e=Te(s),n=ur(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ap;for(;WI(e);)try{const l=await MI(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,eC(e,l)}catch(l){await Rh(e,l)}eT(e)&&tT(e)}function WI(s){return ia(s)&&s.Ta.length<10}function eC(s,e){s.Ta.push(e);const n=ur(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function eT(s){return ia(s)&&!ur(s).x_()&&s.Ta.length>0}function tT(s){ur(s).start()}async function tC(s){ur(s).ra()}async function nC(s){const e=ur(s);for(const n of s.Ta)e.ea(n.mutations)}async function iC(s,e,n){const r=s.Ta.shift(),l=dp.from(r,e,n);await W1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Kh(s)}async function sC(s,e){e&&ur(s).Y_&&await(async function(r,l){if((function(f){return Px(f)&&f!==X.ABORTED})(l.code)){const u=r.Ta.shift();ur(r).B_(),await W1(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Kh(r)}})(s,e),eT(s)&&tT(s)}async function Iv(s,e){const n=Te(s);n.asyncQueue.verifyOperationInProgress(),re(ta,"RemoteStore received new credentials");const r=ia(n);n.Ea.add(3),await lu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gh(n)}async function rC(s,e){const n=Te(s);e?(n.Ea.delete(2),await Gh(n)):e||(n.Ea.add(2),await lu(n),n.Va.set("Unknown"))}function vo(s){return s.ma||(s.ma=(function(n,r,l){const u=Te(n);return u.sa(),new qI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:XI.bind(null,s),Yo:$I.bind(null,s),t_:JI.bind(null,s),J_:ZI.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Ap(s)?bp(s):s.Va.set("Unknown")):(await s.ma.stop(),Z1(s))}))),s.ma}function ur(s){return s.fa||(s.fa=(function(n,r,l){const u=Te(n);return u.sa(),new HI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:tC.bind(null,s),t_:sC.bind(null,s),ta:nC.bind(null,s),na:iC.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Kh(s)):(await s.fa.stop(),s.Ta.length>0&&(re(ta,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n,r,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,u){const f=Date.now()+r,p=new Sp(e,n,f,l,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wp(s,e){if(rs("AsyncQueue",`${e}: ${s}`),_o(s))return new se(X.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=Dl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new io;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this.ga=new ht(de.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class co{constructor(e,n,r,l,u,f,p,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,l,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new co(e,n,io.emptySet(n),f,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class oC{constructor(){this.queries=Nv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Te(n),u=l.queries;l.queries=Nv(),u.forEach(((f,p)=>{for(const g of p.ba)g.onError(r)}))})(this,new se(X.ABORTED,"Firestore shutting down"))}}function Nv(){return new na((s=>E1(s)),jh)}async function nT(s,e){const n=Te(s);let r=3;const l=e.query;let u=n.queries.get(l);u?!u.Sa()&&e.Da()&&(r=2):(u=new aC,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const p=wp(f,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Rp(n)}async function iT(s,e){const n=Te(s),r=e.query;let l=3;const u=n.queries.get(r);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?l=e.Da()?0:1:!u.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lC(s,e){const n=Te(s);let r=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const p of f.ba)p.Fa(l)&&(r=!0);f.wa=l}}r&&Rp(n)}function uC(s,e,n){const r=Te(s),l=r.queries.get(e);if(l)for(const u of l.ba)u.onError(n);r.queries.delete(e)}function Rp(s){s.Ca.forEach((e=>{e.next()}))}var Bm,Dv;(Dv=Bm||(Bm={})).Ma="default",Dv.Cache="cache";class sT{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new co(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.key=e}}class aT{constructor(e){this.key=e}}class cC{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Me(),this.mutatedKeys=Me(),this.eu=T1(e),this.tu=new io(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new Cv,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,S)=>{const x=l.get(T),B=zh(this.query,S)?S:null,J=!!x&&this.mutatedKeys.has(x.key),W=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Z=!1;x&&B?x.data.isEqual(B.data)?J!==W&&(r.track({type:3,doc:B}),Z=!0):this.su(x,B)||(r.track({type:2,doc:B}),Z=!0,(g&&this.eu(B,g)>0||y&&this.eu(B,y)<0)&&(p=!0)):!x&&B?(r.track({type:0,doc:B}),Z=!0):x&&!B&&(r.track({type:1,doc:x}),Z=!0,(g||y)&&(p=!0)),Z&&(B?(f=f.add(B),u=W?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:f,iu:r,Ss:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,S)=>(function(B,J){const W=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:Z})}};return W(B)-W(J)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],g=this.Ya.size===0&&this.current&&!l?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new co(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Cv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Me(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new aT(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new rT(r))})),n}cu(e){this.Za=e.ks,this.Ya=Me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const xp="SyncEngine";class hC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fC{constructor(e){this.key=e,this.hu=!1}}class dC{constructor(e,n,r,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new na((p=>E1(p)),jh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(de.comparator),this.Au=new Map,this.Vu=new gp,this.du={},this.mu=new Map,this.fu=uo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mC(s,e,n=!0){const r=fT(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await oT(r,e,n,!0),l}async function pC(s,e){const n=fT(s);await oT(n,e,!0,!1)}async function oT(s,e,n,r){const l=await VI(s.localStore,xi(e)),u=l.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let p;return r&&(p=await gC(s,e,u,f==="current",l.resumeToken)),s.isPrimaryClient&&n&&$1(s.remoteStore,l),p}async function gC(s,e,n,r,l){s.pu=(S,x,B)=>(async function(W,Z,ce,me){let ue=Z.view.ru(ce);ue.Ss&&(ue=await Av(W.localStore,Z.query,!1).then((({documents:D})=>Z.view.ru(D,ue))));const Ve=me&&me.targetChanges.get(Z.targetId),Ge=me&&me.targetMismatches.get(Z.targetId)!=null,Le=Z.view.applyChanges(ue,W.isPrimaryClient,Ve,Ge);return Mv(W,Z.targetId,Le.au),Le.snapshot})(s,S,x,B);const u=await Av(s.localStore,e,!0),f=new cC(e,u.ks),p=f.ru(u.documents),g=ou.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),y=f.applyChanges(p,s.isPrimaryClient,g);Mv(s,n,y.au);const T=new hC(e,n,f);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function yC(s,e,n){const r=Te(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((f=>!jh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await jm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&Ep(r.remoteStore,l.targetId),qm(r,l.targetId)})).catch(yo)):(qm(r,l.targetId),await jm(r.localStore,l.targetId,!0))}async function _C(s,e){const n=Te(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ep(n.remoteStore,r.targetId))}async function vC(s,e,n){const r=RC(s);try{const l=await(function(f,p){const g=Te(f),y=st.now(),T=p.reduce(((B,J)=>B.add(J.key)),Me());let S,x;return g.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let J=os(),W=Me();return g.xs.getEntries(B,T).next((Z=>{J=Z,J.forEach(((ce,me)=>{me.isValidDocument()||(W=W.add(ce))}))})).next((()=>g.localDocuments.getOverlayedDocuments(B,J))).next((Z=>{S=Z;const ce=[];for(const me of p){const ue=Mx(me,S.get(me.key).overlayedDocument);ue!=null&&ce.push(new dr(me.key,ue,f1(ue.value.mapValue),Ii.exists(!0)))}return g.mutationQueue.addMutationBatch(B,y,ce,p)})).next((Z=>{x=Z;const ce=Z.applyToLocalDocumentSet(S,W);return g.documentOverlayCache.saveOverlays(B,Z.batchId,ce)}))})).then((()=>({batchId:x.batchId,changes:A1(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(f,p,g){let y=f.du[f.currentUser.toKey()];y||(y=new ht(Oe)),y=y.insert(p,g),f.du[f.currentUser.toKey()]=y})(r,l.batchId,n),await uu(r,l.changes),await Kh(r.remoteStore)}catch(l){const u=wp(l,"Failed to persist write");n.reject(u)}}async function lT(s,e){const n=Te(s);try{const r=await DI(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(Ke(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Ke(f.hu,14607):l.removedDocuments.size>0&&(Ke(f.hu,42227),f.hu=!1))})),await uu(n,r,e)}catch(r){await yo(r)}}function Ov(s,e,n){const r=Te(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(f,p){const g=Te(f);g.onlineState=p;let y=!1;g.queries.forEach(((T,S)=>{for(const x of S.ba)x.va(p)&&(y=!0)})),y&&Rp(g)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function EC(s,e,n){const r=Te(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),u=l&&l.key;if(u){let f=new ht(de.comparator);f=f.insert(u,Wt.newNoDocument(u,ve.min()));const p=Me().add(u),g=new Hh(ve.min(),new Map,new ht(Oe),f,p);await lT(r,g),r.Ru=r.Ru.remove(u),r.Au.delete(e),Ip(r)}else await jm(r.localStore,e,!1).then((()=>qm(r,e,n))).catch(yo)}async function TC(s,e){const n=Te(s),r=e.batch.batchId;try{const l=await NI(n.localStore,e);cT(n,r,null),uT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await uu(n,l)}catch(l){await yo(l)}}async function bC(s,e,n){const r=Te(s);try{const l=await(function(f,p){const g=Te(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next((S=>(Ke(S!==null,37113),T=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(r.localStore,e);cT(r,e,n),uT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await uu(r,l)}catch(l){await yo(l)}}function uT(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function cT(s,e,n){const r=Te(s);let l=r.du[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function qm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||hT(s,r)}))}function hT(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(Ep(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),Ip(s))}function Mv(s,e,n){for(const r of n)r instanceof rT?(s.Vu.addReference(r.key,e),AC(s,r)):r instanceof aT?(re(xp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||hT(s,r.key)):ye(19791,{wu:r})}function AC(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(re(xp,"New document in limbo: "+n),s.Eu.add(r),Ip(s))}function Ip(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new de(it.fromString(e)),r=s.fu.next();s.Au.set(r,new fC(n)),s.Ru=s.Ru.insert(n,r),$1(s.remoteStore,new Zs(xi(hp(n.path)),r,"TargetPurposeLimboResolution",Lh.ce))}}async function uu(s,e,n){const r=Te(s),l=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{f.push(r.pu(g,e,n).then((y=>{var T;if((y||n)&&r.isPrimaryClient){const S=y?!y.fromCache:(T=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:T.current;r.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(y){l.push(y);const S=_p.Es(g.targetId,y);u.push(S)}})))})),await Promise.all(f),r.Pu.J_(l),await(async function(g,y){const T=Te(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(y,(x=>$.forEach(x.Ts,(B=>T.persistence.referenceDelegate.addReference(S,x.targetId,B))).next((()=>$.forEach(x.Is,(B=>T.persistence.referenceDelegate.removeReference(S,x.targetId,B)))))))))}catch(S){if(!_o(S))throw S;re(vp,"Failed to update sequence numbers: "+S)}for(const S of y){const x=S.targetId;if(!S.fromCache){const B=T.vs.get(x),J=B.snapshotVersion,W=B.withLastLimboFreeSnapshotVersion(J);T.vs=T.vs.insert(x,W)}}})(r.localStore,u))}async function SC(s,e){const n=Te(s);if(!n.currentUser.isEqual(e)){re(xp,"User change. New user:",e.toKey());const r=await K1(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new se(X.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uu(n,r.Ns)}}function wC(s,e){const n=Te(s),r=n.Au.get(e);if(r&&r.hu)return Me().add(r.key);{let l=Me();const u=n.Iu.get(e);if(!u)return l;for(const f of u){const p=n.Tu.get(f);l=l.unionWith(p.view.nu)}return l}}function fT(s){const e=Te(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=lT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EC.bind(null,e),e.Pu.J_=lC.bind(null,e.eventManager),e.Pu.yu=uC.bind(null,e.eventManager),e}function RC(s){const e=Te(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bC.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return CI(this.persistence,new RI,e.initialUser,this.serializer)}Cu(e){return new G1(yp.Vi,this.serializer)}Du(e){return new LI}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class xC extends xh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof wh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new G1((r=>wh.Vi(r,n)),this.serializer)}}class Hm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ov(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SC.bind(null,this.syncEngine),await rC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oC})()}createDatastore(e){const n=Fh(e.databaseInfo.databaseId),r=BI(e.databaseInfo);return KI(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,u,f,p){return new YI(r,l,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Ov(this.syncEngine,n,0)),(function(){return Rv.v()?new Rv:new UI})())}createSyncEngine(e,n){return(function(l,u,f,p,g,y,T){const S=new dC(l,u,f,p,g,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const u=Te(l);re(ta,"RemoteStore shutting down."),u.Ea.add(5),await lu(u),u.Aa.shutdown(),u.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Hm.provider={build:()=>new Hm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="FirestoreClient";class IC{constructor(e,n,r,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=l,this.user=Zt.UNAUTHENTICATED,this.clientId=rp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{re(cr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(re(cr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function mm(s,e){s.asyncQueue.verifyOperationInProgress(),re(cr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await K1(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Vv(s,e){s.asyncQueue.verifyOperationInProgress();const n=await CC(s);re(cr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>Iv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Iv(e.remoteStore,l))),s._onlineComponents=e}async function CC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){re(cr,"Using user provided OfflineComponentProvider");try{await mm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;ea("Error using user provided cache. Falling back to memory cache: "+n),await mm(s,new xh)}}else re(cr,"Using default OfflineComponentProvider"),await mm(s,new xC(void 0));return s._offlineComponents}async function mT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(re(cr,"Using user provided OnlineComponentProvider"),await Vv(s,s._uninitializedComponentsProvider._online)):(re(cr,"Using default OnlineComponentProvider"),await Vv(s,new Hm))),s._onlineComponents}function NC(s){return mT(s).then((e=>e.syncEngine))}async function pT(s){const e=await mT(s),n=e.eventManager;return n.onListen=mC.bind(null,e.syncEngine),n.onUnlisten=yC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_C.bind(null,e.syncEngine),n}function DC(s,e,n={}){const r=new ns;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const T=new dT({next:x=>{T.Nu(),f.enqueueAndForget((()=>iT(u,S)));const B=x.docs.has(p);!B&&x.fromCache?y.reject(new se(X.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&x.fromCache&&g&&g.source==="server"?y.reject(new se(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),S=new sT(hp(p.path),T,{includeMetadataChanges:!0,Ka:!0});return nT(u,S)})(await pT(s),s.asyncQueue,e,n,r))),r.promise}function OC(s,e,n={}){const r=new ns;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const T=new dT({next:x=>{T.Nu(),f.enqueueAndForget((()=>iT(u,S))),x.fromCache&&g.source==="server"?y.reject(new se(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),S=new sT(p,T,{includeMetadataChanges:!0,Ka:!0});return nT(u,S)})(await pT(s),s.asyncQueue,e,n,r))),r.promise}function MC(s,e){const n=new ns;return s.asyncQueue.enqueueAndForget((async()=>vC(await NC(s),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="ComponentProvider",kv=new Map;function kC(s,e,n,r,l){return new nx(s,e,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,gT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="firestore.googleapis.com",Lv=!0;class Uv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yT,this.ssl=Lv}else this.host=e.host,this.ssl=e.ssl??Lv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=F1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uI)throw new se(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new kR;switch(r.type){case"firstParty":return new jR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=kv.get(n);r&&(re(VC,"Removing Datastore"),kv.delete(n),r.terminate())})(this),Promise.resolve()}}function LC(s,e,n,r={}){var y;s=as(s,Qh);const l=fo(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;l&&(rE(`https://${p}`),aE("Firestore",!0)),u.host!==yT&&u.host!==p&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:r};if(!Xr(g,f)&&(s._setSettings(g),r.mockUserToken)){let T,S;if(typeof r.mockUserToken=="string")T=r.mockUserToken,S=Zt.MOCK_USER;else{T=BA(r.mockUserToken,(y=s._app)==null?void 0:y.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new se(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Zt(x)}s._authCredentials=new LR(new e1(T,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Eo(this.firestore,e,this._query)}}class vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(su(n,vt._jsonSchema))return new vt(e,r||null,new de(it.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:Dt("string",vt._jsonSchemaVersion),referencePath:Dt("string")};class sr extends Eo{constructor(e,n,r){super(e,n,hp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new de(e))}withConverter(e){return new sr(this.firestore,e,this._path)}}function UC(s,e,...n){if(s=zt(s),t1("collection","path",e),s instanceof Qh){const r=it.fromString(e,...n);return $0(r),new sr(s,null,r)}{if(!(s instanceof vt||s instanceof sr))throw new se(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return $0(r),new sr(s.firestore,null,r)}}function Ws(s,e,...n){if(s=zt(s),arguments.length===1&&(e=rp.newId()),t1("doc","path",e),s instanceof Qh){const r=it.fromString(e,...n);return X0(r),new vt(s,null,new de(r))}{if(!(s instanceof vt||s instanceof sr))throw new se(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(it.fromString(e,...n));return X0(r),new vt(s.firestore,s instanceof sr?s.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="AsyncQueue";class jv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Y1(this,"async_queue_retry"),this._c=()=>{const r=dm();r&&re(Pv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!_o(e))throw e;re(Pv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,rs("INTERNAL UNHANDLED ERROR: ",zv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Sp.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&ye(47125,{Pc:zv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function zv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class cu extends Qh{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new jv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jv(e),this._firestoreClient=void 0,await e}}}function PC(s,e){const n=typeof s=="object"?s:cE(),r=typeof s=="string"?s:_h,l=Xm(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=jA("firestore");u&&LC(l,...u)}return l}function Cp(s){if(s._terminated)throw new se(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||jC(s),s._firestoreClient}function jC(s){var r,l,u,f;const e=s._freezeSettings(),n=kC(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,(l=s._app)==null?void 0:l.options.apiKey,e);s._componentsProvider||(u=e.localCache)!=null&&u._offlineComponentProvider&&((f=e.localCache)!=null&&f._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new IC(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Xt.fromBase64String(e))}catch(n){throw new se(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(su(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Dt("string",Pn._jsonSchemaVersion),bytes:Dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(su(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Dt("string",Ni._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(su(e,Zn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Zn(e.vectorValues);throw new se(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zn._jsonSchemaVersion="firestore/vectorValue/1.0",Zn._jsonSchema={type:Dt("string",Zn._jsonSchemaVersion),vectorValues:Dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=/^__.*__$/;class BC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new dr(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}class _T{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new dr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{dataSource:s})}}class Op{constructor(e,n,r,l,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Op({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var l;const n=(l=this.path)==null?void 0:l.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var l;const n=(l=this.path)==null?void 0:l.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ih(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(vT(this.dataSource)&&zC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class qC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fh(e)}createContext(e,n,r,l=!1){return new Op({dataSource:e,methodName:n,targetDoc:r,path:Yt.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mp(s){const e=s._freezeSettings(),n=Fh(s._databaseId);return new qC(s._databaseId,!!e.ignoreUndefinedProperties,n)}function HC(s,e,n,r,l,u={}){const f=s.createContext(u.merge||u.mergeFields?2:0,e,n,l);Vp("Data must be an object, but it was:",f,r);const p=ET(r,f);let g,y;if(u.merge)g=new An(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const x=ho(e,S,n);if(!f.contains(x))throw new se(X.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);AT(T,x)||T.push(x)}g=new An(T),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new BC(new dn(p),g,y)}class Yh extends Dp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}function FC(s,e,n,r){const l=s.createContext(1,e,n);Vp("Data must be an object, but it was:",l,r);const u=[],f=dn.empty();fr(r,((g,y)=>{const T=bT(e,g,n);y=zt(y);const S=l.childContextForFieldPath(T);if(y instanceof Yh)u.push(T);else{const x=hu(y,S);x!=null&&(u.push(T),f.set(T,x))}}));const p=new An(u);return new _T(f,p,l.fieldTransforms)}function GC(s,e,n,r,l,u){const f=s.createContext(1,e,n),p=[ho(e,r,n)],g=[l];if(u.length%2!=0)throw new se(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)p.push(ho(e,u[x])),g.push(u[x+1]);const y=[],T=dn.empty();for(let x=p.length-1;x>=0;--x)if(!AT(y,p[x])){const B=p[x];let J=g[x];J=zt(J);const W=f.childContextForFieldPath(B);if(J instanceof Yh)y.push(B);else{const Z=hu(J,W);Z!=null&&(y.push(B),T.set(B,Z))}}const S=new An(y);return new _T(T,S,f.fieldTransforms)}function KC(s,e,n,r=!1){return hu(n,s.createContext(r?4:3,e))}function hu(s,e){if(TT(s=zt(s)))return Vp("Unsupported field value:",e,s),ET(s,e);if(s instanceof Dp)return(function(r,l){if(!vT(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const u=[];let f=0;for(const p of r){let g=hu(p,l.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xx(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=st.fromDate(r);return{timestampValue:Sh(l.serializer,u)}}if(r instanceof st){const u=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sh(l.serializer,u)}}if(r instanceof Ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pn)return{bytesValue:L1(l.serializer,r._byteString)};if(r instanceof vt){const u=l.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw l.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Zn)return(function(f,p){const g=f instanceof Zn?f.toArray():f;return{mapValue:{fields:{[c1]:{stringValue:h1},[vh]:{arrayValue:{values:g.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return fp(p.serializer,T)}))}}}}}})(r,l);if(H1(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${kh(r)}`)})(s,e)}function ET(s,e){const n={};return s1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fr(s,((r,l)=>{const u=hu(l,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function TT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof st||s instanceof Ni||s instanceof Pn||s instanceof vt||s instanceof Dp||s instanceof Zn||H1(s))}function Vp(s,e,n){if(!TT(n)||!n1(n)){const r=kh(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function ho(s,e,n){if((e=zt(e))instanceof Np)return e._internalPath;if(typeof e=="string")return bT(s,e);throw Ih("Field path arguments must be of type string or ",s,!1,void 0,n)}const QC=new RegExp("[~\\*/\\[\\]]");function bT(s,e,n){if(e.search(QC)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Np(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Ih(s,e,n,r,l){const u=r&&!r.isEmpty(),f=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${r}`),f&&(g+=` in document ${l}`),g+=")"),new se(X.INVALID_ARGUMENT,p+s+g)}function AT(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{convertValue(e,n="none"){switch(lr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fr(e,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(e){var r,l,u;const n=(u=(l=(r=e.fields)==null?void 0:r[vh].arrayValue)==null?void 0:l.values)==null?void 0:u.map((f=>_t(f.doubleValue)));return new Zn(n)}convertGeoPoint(e){return new Ni(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ph(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const n=ar(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Ke(q1(r),9688,{name:e});const l=new Ql(r.get(1),r.get(3)),u=new de(r.popFirst(5));return l.isEqual(n)||rs(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST extends YC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}const Bv="@firebase/firestore",qv="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n,r,l,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(ho("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XC extends wT{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new se(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kp{}class JC extends kp{}function ZC(s,e,...n){let r=[];e instanceof kp&&r.push(e),r=r.concat(n),(function(u){const f=u.filter((g=>g instanceof Lp)).length,p=u.filter((g=>g instanceof Xh)).length;if(f>1||f>0&&p>0)throw new se(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Xh extends JC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Xh(e,n,r)}_apply(e){const n=this._parse(e);return RT(e._query,n),new Eo(e.firestore,e.converter,Mm(e._query,n))}_parse(e){const n=Mp(e.firestore);return(function(u,f,p,g,y,T,S){let x;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new se(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Fv(S,T);const J=[];for(const W of S)J.push(Hv(g,u,W));x={arrayValue:{values:J}}}else x=Hv(g,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Fv(S,T),x=KC(p,f,S,T==="in"||T==="not-in");return Nt.create(y,T,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function WC(s,e,n){const r=e,l=ho("where",s);return Xh._create(l,r,n)}class Lp extends kp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ei.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let f=l;const p=u.getFlattenedFilters();for(const g of p)RT(f,g),f=Mm(f,g)})(e._query,n),new Eo(e.firestore,e.converter,Mm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Hv(s,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new se(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!v1(e)&&n.indexOf("/")!==-1)throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!de.isDocumentKey(r))throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sv(s,new de(r))}if(n instanceof vt)return sv(s,n._key);throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(n)}.`)}function Fv(s,e){if(!Array.isArray(s)||s.length===0)throw new se(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RT(s,e){const n=(function(l,u){for(const f of l)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new se(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function eN(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class Ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yr extends wT{constructor(e,n,r,l,u,f){super(e,n,r,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ho("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Yr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yr._jsonSchema={type:Dt("string",Yr._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class rh extends Yr{data(e={}){return super.data(e)}}class so{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Ml(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new rh(this._firestore,this._userDataWriter,r.key,r,new Ml(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((p=>{const g=new rh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ml(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new rh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Ml(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),T=f.indexOf(p.doc.key)),{type:tN(p.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=so._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:s})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:Dt("string",so._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(s){s=as(s,vt);const e=as(s.firestore,cu),n=Cp(e);return DC(n,s._key).then((r=>iN(e,s,r)))}function nN(s){s=as(s,Eo);const e=as(s.firestore,cu),n=Cp(e),r=new ST(e);return $C(s._query),OC(n,s._query).then((l=>new so(e,r,s,l)))}function xT(s,e,n){s=as(s,vt);const r=as(s.firestore,cu),l=eN(s.converter,e),u=Mp(r);return IT(r,[HC(u,"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Ii.none())])}function Gv(s,e,n,...r){s=as(s,vt);const l=as(s.firestore,cu),u=Mp(l);let f;return f=typeof(e=zt(e))=="string"||e instanceof Np?GC(u,"updateDoc",s._key,e,n,r):FC(u,"updateDoc",s._key,e),IT(l,[f.toMutation(s._key,Ii.exists(!0))])}function IT(s,e){const n=Cp(s);return MC(n,e)}function iN(s,e,n){const r=n.docs.get(e._key),l=new ST(s);return new Yr(s,l,e._key,r,new Ml(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){VR(mo),ro(new $r("firestore",((r,{instanceIdentifier:l,options:u})=>{const f=r.getProvider("app").getImmediate(),p=new cu(new UR(r.getProvider("auth-internal")),new zR(f,r.getProvider("app-check-internal")),ix(f,l),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),nr(Bv,qv,e),nr(Bv,qv,"esm2020")})();const sN={apiKey:"AIzaSyCQq1cCKVZ21v-JytpksNL_EKIWWMTkNkI",authDomain:"subdomxtop.firebaseapp.com",projectId:"subdomxtop",storageBucket:"subdomxtop.firebasestorage.app",messagingSenderId:"1062123174096",appId:"1:1062123174096:web:25d12c8e0279881102c6d5"},CT=uE(sN),zl=OR(CT),Zi=PC(CT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=s=>{const e=aN(s);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=ae.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:f,...p},g)=>ae.createElement("svg",{ref:g,...oN,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:NT("lucide",l),...!u&&!lN(p)&&{"aria-hidden":"true"},...p},[...f.map(([y,T])=>ae.createElement(y,T)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(s,e)=>{const n=ae.forwardRef(({className:r,...l},u)=>ae.createElement(uN,{ref:u,iconNode:e,className:NT(`lucide-${rN(Kv(s))}`,`lucide-${s}`,r),...l}));return n.displayName=Kv(s),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],DT=Qe("activity",cN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ch=Qe("arrow-left",hN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],dN=Qe("arrow-right",fN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],pN=Qe("circle-alert",mN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ah=Qe("circle-check-big",gN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_N=Qe("circle-check",yN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],EN=Qe("circle-x",vN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],bN=Qe("cpu",TN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],SN=Qe("database",AN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],RN=Qe("external-link",wN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],$s=Qe("globe",xN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],CN=Qe("info",IN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],pm=Qe("link",NN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bl=Qe("loader-circle",DN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],MN=Qe("lock",ON);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kN=Qe("log-out",VN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],UN=Qe("mail",LN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],jN=Qe("menu",PN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gm=Qe("plus",zN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Qv=Qe("save",BN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],HN=Qe("search",qN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],OT=Qe("server",FN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],KN=Qe("shield-check",GN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],YN=Qe("shield",QN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],MT=Qe("sparkles",XN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],JN=Qe("terminal",$N);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],WN=Qe("trash-2",ZN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tD=Qe("user",eD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iD=Qe("x",nD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],VT=Qe("zap",sD);let rD={data:""},aD=s=>{if(typeof window=="object"){let e=(s?s.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(s||document.head).appendChild(e),e.firstChild}return s||rD},oD=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,lD=/\/\*[^]*?\*\/|  +/g,Yv=/\n+/g,Js=(s,e)=>{let n="",r="",l="";for(let u in s){let f=s[u];u[0]=="@"?u[1]=="i"?n=u+" "+f+";":r+=u[1]=="f"?Js(f,u):u+"{"+Js(f,u[1]=="k"?"":e)+"}":typeof f=="object"?r+=Js(f,e?e.replace(/([^,])+/g,p=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,p):p?p+" "+g:g)):u):f!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),l+=Js.p?Js.p(u,f):u+":"+f+";")}return n+(e&&l?e+"{"+l+"}":l)+r},Ji={},kT=s=>{if(typeof s=="object"){let e="";for(let n in s)e+=n+kT(s[n]);return e}return s},uD=(s,e,n,r,l)=>{let u=kT(s),f=Ji[u]||(Ji[u]=(g=>{let y=0,T=11;for(;y<g.length;)T=101*T+g.charCodeAt(y++)>>>0;return"go"+T})(u));if(!Ji[f]){let g=u!==s?s:(y=>{let T,S,x=[{}];for(;T=oD.exec(y.replace(lD,""));)T[4]?x.shift():T[3]?(S=T[3].replace(Yv," ").trim(),x.unshift(x[0][S]=x[0][S]||{})):x[0][T[1]]=T[2].replace(Yv," ").trim();return x[0]})(s);Ji[f]=Js(l?{["@keyframes "+f]:g}:g,n?"":"."+f)}let p=n&&Ji.g?Ji.g:null;return n&&(Ji.g=Ji[f]),((g,y,T,S)=>{S?y.data=y.data.replace(S,g):y.data.indexOf(g)===-1&&(y.data=T?g+y.data:y.data+g)})(Ji[f],e,r,p),f},cD=(s,e,n)=>s.reduce((r,l,u)=>{let f=e[u];if(f&&f.call){let p=f(n),g=p&&p.props&&p.props.className||/^go/.test(p)&&p;f=g?"."+g:p&&typeof p=="object"?p.props?"":Js(p,""):p===!1?"":p}return r+l+(f??"")},"");function $h(s){let e=this||{},n=s.call?s(e.p):s;return uD(n.unshift?n.raw?cD(n,[].slice.call(arguments,1),e.p):n.reduce((r,l)=>Object.assign(r,l&&l.call?l(e.p):l),{}):n,aD(e.target),e.g,e.o,e.k)}let LT,Fm,Gm;$h.bind({g:1});let ls=$h.bind({k:1});function hD(s,e,n,r){Js.p=e,LT=s,Fm=n,Gm=r}function mr(s,e){let n=this||{};return function(){let r=arguments;function l(u,f){let p=Object.assign({},u),g=p.className||l.className;n.p=Object.assign({theme:Fm&&Fm()},p),n.o=/ *go\d+/.test(g),p.className=$h.apply(n,r)+(g?" "+g:"");let y=s;return s[0]&&(y=p.as||s,delete p.as),Gm&&y[0]&&Gm(p),LT(y,p)}return l}}var fD=s=>typeof s=="function",Nh=(s,e)=>fD(s)?s(e):s,dD=(()=>{let s=0;return()=>(++s).toString()})(),UT=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");s=!e||e.matches}return s}})(),mD=20,Up="default",PT=(s,e)=>{let{toastLimit:n}=s.settings;switch(e.type){case 0:return{...s,toasts:[e.toast,...s.toasts].slice(0,n)};case 1:return{...s,toasts:s.toasts.map(f=>f.id===e.toast.id?{...f,...e.toast}:f)};case 2:let{toast:r}=e;return PT(s,{type:s.toasts.find(f=>f.id===r.id)?1:0,toast:r});case 3:let{toastId:l}=e;return{...s,toasts:s.toasts.map(f=>f.id===l||l===void 0?{...f,dismissed:!0,visible:!1}:f)};case 4:return e.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(f=>f.id!==e.toastId)};case 5:return{...s,pausedAt:e.time};case 6:let u=e.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(f=>({...f,pauseDuration:f.pauseDuration+u}))}}},oh=[],jT={toasts:[],pausedAt:void 0,settings:{toastLimit:mD}},Si={},zT=(s,e=Up)=>{Si[e]=PT(Si[e]||jT,s),oh.forEach(([n,r])=>{n===e&&r(Si[e])})},BT=s=>Object.keys(Si).forEach(e=>zT(s,e)),pD=s=>Object.keys(Si).find(e=>Si[e].toasts.some(n=>n.id===s)),Jh=(s=Up)=>e=>{zT(e,s)},gD={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},yD=(s={},e=Up)=>{let[n,r]=ae.useState(Si[e]||jT),l=ae.useRef(Si[e]);ae.useEffect(()=>(l.current!==Si[e]&&r(Si[e]),oh.push([e,r]),()=>{let f=oh.findIndex(([p])=>p===e);f>-1&&oh.splice(f,1)}),[e]);let u=n.toasts.map(f=>{var p,g,y;return{...s,...s[f.type],...f,removeDelay:f.removeDelay||((p=s[f.type])==null?void 0:p.removeDelay)||(s==null?void 0:s.removeDelay),duration:f.duration||((g=s[f.type])==null?void 0:g.duration)||(s==null?void 0:s.duration)||gD[f.type],style:{...s.style,...(y=s[f.type])==null?void 0:y.style,...f.style}}});return{...n,toasts:u}},_D=(s,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...n,id:(n==null?void 0:n.id)||dD()}),fu=s=>(e,n)=>{let r=_D(e,s,n);return Jh(r.toasterId||pD(r.id))({type:2,toast:r}),r.id},je=(s,e)=>fu("blank")(s,e);je.error=fu("error");je.success=fu("success");je.loading=fu("loading");je.custom=fu("custom");je.dismiss=(s,e)=>{let n={type:3,toastId:s};e?Jh(e)(n):BT(n)};je.dismissAll=s=>je.dismiss(void 0,s);je.remove=(s,e)=>{let n={type:4,toastId:s};e?Jh(e)(n):BT(n)};je.removeAll=s=>je.remove(void 0,s);je.promise=(s,e,n)=>{let r=je.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof s=="function"&&(s=s()),s.then(l=>{let u=e.success?Nh(e.success,l):void 0;return u?je.success(u,{id:r,...n,...n==null?void 0:n.success}):je.dismiss(r),l}).catch(l=>{let u=e.error?Nh(e.error,l):void 0;u?je.error(u,{id:r,...n,...n==null?void 0:n.error}):je.dismiss(r)}),s};var vD=1e3,ED=(s,e="default")=>{let{toasts:n,pausedAt:r}=yD(s,e),l=ae.useRef(new Map).current,u=ae.useCallback((S,x=vD)=>{if(l.has(S))return;let B=setTimeout(()=>{l.delete(S),f({type:4,toastId:S})},x);l.set(S,B)},[]);ae.useEffect(()=>{if(r)return;let S=Date.now(),x=n.map(B=>{if(B.duration===1/0)return;let J=(B.duration||0)+B.pauseDuration-(S-B.createdAt);if(J<0){B.visible&&je.dismiss(B.id);return}return setTimeout(()=>je.dismiss(B.id,e),J)});return()=>{x.forEach(B=>B&&clearTimeout(B))}},[n,r,e]);let f=ae.useCallback(Jh(e),[e]),p=ae.useCallback(()=>{f({type:5,time:Date.now()})},[f]),g=ae.useCallback((S,x)=>{f({type:1,toast:{id:S,height:x}})},[f]),y=ae.useCallback(()=>{r&&f({type:6,time:Date.now()})},[r,f]),T=ae.useCallback((S,x)=>{let{reverseOrder:B=!1,gutter:J=8,defaultPosition:W}=x||{},Z=n.filter(ue=>(ue.position||W)===(S.position||W)&&ue.height),ce=Z.findIndex(ue=>ue.id===S.id),me=Z.filter((ue,Ve)=>Ve<ce&&ue.visible).length;return Z.filter(ue=>ue.visible).slice(...B?[me+1]:[0,me]).reduce((ue,Ve)=>ue+(Ve.height||0)+J,0)},[n]);return ae.useEffect(()=>{n.forEach(S=>{if(S.dismissed)u(S.id,S.removeDelay);else{let x=l.get(S.id);x&&(clearTimeout(x),l.delete(S.id))}})},[n,u]),{toasts:n,handlers:{updateHeight:g,startPause:p,endPause:y,calculateOffset:T}}},TD=ls`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,bD=ls`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,AD=ls`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,SD=mr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${TD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${bD} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${AD} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,wD=ls`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,RD=mr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${wD} 1s linear infinite;
`,xD=ls`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ID=ls`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,CD=mr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ID} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ND=mr("div")`
  position: absolute;
`,DD=mr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,OD=ls`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,MD=mr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${OD} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,VD=({toast:s})=>{let{icon:e,type:n,iconTheme:r}=s;return e!==void 0?typeof e=="string"?ae.createElement(MD,null,e):e:n==="blank"?null:ae.createElement(DD,null,ae.createElement(RD,{...r}),n!=="loading"&&ae.createElement(ND,null,n==="error"?ae.createElement(SD,{...r}):ae.createElement(CD,{...r})))},kD=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,LD=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,UD="0%{opacity:0;} 100%{opacity:1;}",PD="0%{opacity:1;} 100%{opacity:0;}",jD=mr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,zD=mr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,BD=(s,e)=>{let n=s.includes("top")?1:-1,[r,l]=UT()?[UD,PD]:[kD(n),LD(n)];return{animation:e?`${ls(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ls(l)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},qD=ae.memo(({toast:s,position:e,style:n,children:r})=>{let l=s.height?BD(s.position||e||"top-center",s.visible):{opacity:0},u=ae.createElement(VD,{toast:s}),f=ae.createElement(zD,{...s.ariaProps},Nh(s.message,s));return ae.createElement(jD,{className:s.className,style:{...l,...n,...s.style}},typeof r=="function"?r({icon:u,message:f}):ae.createElement(ae.Fragment,null,u,f))});hD(ae.createElement);var HD=({id:s,className:e,style:n,onHeightUpdate:r,children:l})=>{let u=ae.useCallback(f=>{if(f){let p=()=>{let g=f.getBoundingClientRect().height;r(s,g)};p(),new MutationObserver(p).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[s,r]);return ae.createElement("div",{ref:u,className:e,style:n},l)},FD=(s,e)=>{let n=s.includes("top"),r=n?{top:0}:{bottom:0},l=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:UT()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...l}},GD=$h`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Yc=16,KD=({reverseOrder:s,position:e="top-center",toastOptions:n,gutter:r,children:l,toasterId:u,containerStyle:f,containerClassName:p})=>{let{toasts:g,handlers:y}=ED(n,u);return ae.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:Yc,left:Yc,right:Yc,bottom:Yc,pointerEvents:"none",...f},className:p,onMouseEnter:y.startPause,onMouseLeave:y.endPause},g.map(T=>{let S=T.position||e,x=y.calculateOffset(T,{reverseOrder:s,gutter:r,defaultPosition:e}),B=FD(S,x);return ae.createElement(HD,{id:T.id,key:T.id,onHeightUpdate:y.updateHeight,className:T.visible?GD:"",style:B},T.type==="custom"?Nh(T.message,T):l?l(T):ae.createElement(qD,{toast:T,position:S}))}))};const QD=({onStart:s})=>{const[e,n]=ae.useState(""),[r,l]=ae.useState(!1),[u,f]=ae.useState(null),p=async g=>{g.preventDefault();const y=e.toLowerCase().trim().replace(/[^a-z0-9-]/g,"");if(y){l(!0),f(null);try{const T=Ws(Zi,"subdomains",y),S=await Jl(T);f(S.exists()?"taken":"available")}catch{je.error("Network error. Try again.")}finally{l(!1)}}};return A.jsxs("div",{className:"min-h-screen bg-[#FDFDFD] text-slate-900 font-sans selection:bg-emerald-500 selection:text-white",children:[A.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/70 backdrop-blur-xl border-b border-slate-100 h-20",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-full flex justify-between items-center",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-10 h-10 bg-emerald-500 rounded-2xl flex items-center justify-center shadow-lg shadow-emerald-500/20",children:A.jsx($s,{className:"text-white w-5 h-5",strokeWidth:3})}),A.jsx("span",{className:"text-2xl font-black tracking-tighter",children:"TnxBD"})]}),A.jsx("div",{className:"flex items-center gap-4",children:A.jsx("button",{onClick:s,className:"px-6 py-2.5 bg-slate-900 text-white rounded-full text-sm font-bold hover:bg-emerald-600 transition-all shadow-xl shadow-slate-100",children:"Launch Console"})})]})}),A.jsx("section",{className:"pt-44 pb-32 text-center px-6",children:A.jsxs("div",{className:"max-w-4xl mx-auto",children:[A.jsxs("div",{className:"inline-flex items-center gap-2 bg-emerald-50 text-emerald-600 px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest mb-10 border border-emerald-100 animate-fade",children:[A.jsx(VT,{size:14,className:"fill-emerald-500"}),A.jsx("span",{children:"Wildcard DNS & Edge Routing Platform"})]}),A.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tight leading-[0.9] mb-8 text-slate-900",children:["Build your brand ",A.jsx("br",{}),A.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-emerald-400",children:"on the Edge."})]}),A.jsxs("p",{className:"text-xl text-slate-500 font-medium leading-relaxed mb-16 max-w-2xl mx-auto",children:["Professional subdomains on ",A.jsx("span",{className:"text-slate-900 font-bold underline decoration-emerald-500/30",children:"tnxbd.top"}),". Instant deployment, global CDN, and automatic SSL."]}),A.jsxs("div",{className:"max-w-xl mx-auto mb-20 relative",children:[A.jsx("form",{onSubmit:p,className:"relative group",children:A.jsxs("div",{className:"flex items-center bg-white border border-slate-200 rounded-[2rem] p-2 shadow-2xl shadow-slate-200 focus-within:border-emerald-500 transition-all",children:[A.jsx("div",{className:"pl-6 text-slate-400 font-bold",children:A.jsx(HN,{size:20})}),A.jsx("input",{type:"text",placeholder:"search-your-domain",value:e,onChange:g=>n(g.target.value),className:"flex-1 px-4 py-4 bg-transparent outline-none font-bold text-lg text-slate-900"}),A.jsx("div",{className:"pr-4 text-slate-400 font-black text-sm",children:".tnxbd.top"}),A.jsx("button",{type:"submit",disabled:r,className:"bg-slate-900 text-white px-8 py-4 rounded-[1.5rem] font-black hover:bg-emerald-600 transition-all flex items-center gap-2",children:r?A.jsx(Bl,{className:"animate-spin",size:20}):"Search"})]})}),u&&A.jsxs("div",{className:`mt-6 p-4 rounded-2xl border flex items-center justify-between animate-fade ${u==="available"?"bg-emerald-50 border-emerald-100 text-emerald-800":"bg-red-50 border-red-100 text-red-800"}`,children:[A.jsxs("div",{className:"flex items-center gap-3",children:[u==="available"?A.jsx(_N,{className:"text-emerald-500"}):A.jsx(EN,{className:"text-red-500"}),A.jsxs("span",{className:"font-bold text-sm",children:[e,".tnxbd.top is ",u==="available"?"Available!":"Already taken."]})]}),u==="available"&&A.jsx("button",{onClick:s,className:"text-[10px] font-black uppercase tracking-widest bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-slate-900 transition-all",children:"Claim Now"})]})]})]})}),A.jsx("section",{className:"py-24 border-t border-slate-100 bg-white",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid md:grid-cols-3 gap-8",children:[A.jsx(ym,{icon:A.jsx(OT,{className:"text-emerald-500"}),title:"Professional DNS",desc:"Manage A, CNAME, MX, and TXT records with a clean, intuitive control panel."}),A.jsx(ym,{icon:A.jsx(YN,{className:"text-blue-500"}),title:"Auto SSL & Security",desc:"Every subdomain gets an enterprise-grade SSL certificate and DDoS protection."}),A.jsx(ym,{icon:A.jsx(dN,{className:"text-orange-500"}),title:"URL Forwarding",desc:"Redirect your subdomain to any external URL with a single click."})]})}),A.jsxs("footer",{className:"py-16 border-t border-slate-100 text-center",children:[A.jsxs("div",{className:"flex items-center justify-center gap-2.5 opacity-30 mb-6 grayscale",children:[A.jsx($s,{size:20}),A.jsx("span",{className:"font-black tracking-tighter text-xl",children:"TnxBD INFRA"})]}),A.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest",children:" 2024 Global Edge Network"})]})]})},ym=({icon:s,title:e,desc:n})=>A.jsxs("div",{className:"p-10 rounded-[3rem] bg-[#FDFDFD] border border-slate-100 hover:shadow-2xl hover:shadow-slate-100 transition-all hover:-translate-y-2 group",children:[A.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-2xl flex items-center justify-center mb-8 group-hover:scale-110 transition-transform",children:s}),A.jsx("h3",{className:"text-2xl font-black mb-4 tracking-tight",children:e}),A.jsx("p",{className:"text-slate-500 font-medium leading-relaxed",children:n})]}),YD="3jfK5akYvmRVMgyTr_oxTwp8lfRAO4p2wsf36m_T",Pp="8fb7f78309acd34a1548ee13637c0165",jp={Authorization:`Bearer ${YD}`,"Content-Type":"application/json"},XD=async s=>{var e;try{const n=`${s}.tnxbd.top`,l=await(await fetch(`https://api.cloudflare.com/client/v4/zones/${Pp}/dns_records?name=${n}`,{method:"GET",headers:jp})).json();if(!l.success)throw new Error(((e=l.errors[0])==null?void 0:e.message)||"Failed to fetch DNS records");return l.result}catch(n){throw console.error("Cloudflare Fetch Error:",n),n}},Xv=async s=>{var e;try{const r=await(await fetch(`https://api.cloudflare.com/client/v4/zones/${Pp}/dns_records`,{method:"POST",headers:jp,body:JSON.stringify({...s,ttl:s.ttl||1})})).json();if(!r.success)throw new Error(((e=r.errors[0])==null?void 0:e.message)||"Cloudflare API error while creating record");return r.result}catch(n){throw n}},$D=async s=>{var e;try{const r=await(await fetch(`https://api.cloudflare.com/client/v4/zones/${Pp}/dns_records/${s}`,{method:"DELETE",headers:jp})).json();if(!r.success)throw new Error(((e=r.errors[0])==null?void 0:e.message)||"Failed to delete record");return r.result}catch(n){throw n}},JD=({user:s,onLogout:e})=>{var Ie,ze;const[n,r]=ae.useState(!0),[l,u]=ae.useState("domains"),[f,p]=ae.useState([]),[g,y]=ae.useState(null),[T,S]=ae.useState([]),[x,B]=ae.useState(!1),[J,W]=ae.useState(!1),[Z,ce]=ae.useState(!1),[me,ue]=ae.useState({displayName:"",bio:""}),[Ve,Ge]=ae.useState(""),[Le,D]=ae.useState(""),[w,N]=ae.useState({type:"A",content:"",proxied:!0});ae.useEffect(()=>{V(),O()},[s]);const V=async()=>{const R=await Jl(Ws(Zi,"users",s.uid));R.exists()&&ue({displayName:R.data().displayName||"",bio:R.data().bio||""})},O=async()=>{try{const R=ZC(UC(Zi,"subdomains"),WC("userId","==",s.uid)),F=await nN(R),te=[];F.forEach(ie=>te.push({id:ie.id,...ie.data()})),p(te)}catch{je.error("Failed to sync domains")}finally{r(!1)}},L=async R=>{if(R.preventDefault(),!(!Ve||J)){W(!0);try{const F=Ve.toLowerCase().trim().replace(/[^a-z0-9-]/g,""),te=Ws(Zi,"subdomains",F);if((await Jl(te)).exists())throw new Error("This name is already claimed.");await Xv({type:"CNAME",name:`${F}.tnxbd.top`,content:"cname.vercel-dns.com",ttl:1,proxied:!0}),await xT(te,{name:F,userId:s.uid,status:"active",createdAt:st.now()}),je.success("Domain successfully claimed!"),Ge(""),B(!1),O()}catch(F){je.error(F.message)}finally{W(!1)}}},I=async R=>{if(R.preventDefault(),!!g){W(!0);try{await Gv(Ws(Zi,"subdomains",g.id),{forwardingUrl:Le.trim()}),je.success("Redirect rule updated"),O()}catch{je.error("Failed to update redirect")}finally{W(!1)}}},nt=async R=>{y(R),D(R.forwardingUrl||""),u("dns"),ce(!1),ct(R.name)},ct=async R=>{try{const F=await XD(R);S(F)}catch{je.error("Cloudflare sync failed")}},G=async R=>{if(R.preventDefault(),!(!g||!w.content)){W(!0);try{await Xv({type:w.type,name:`${g.name}.tnxbd.top`,content:w.content,ttl:1,proxied:w.proxied??!0}),je.success("DNS record published"),N({type:"A",content:"",proxied:!0}),ct(g.name)}catch(F){je.error(F.message)}finally{W(!1)}}},ne=async R=>{if(confirm("Permanently delete this record?"))try{await $D(R),je.success("Record purged"),g&&ct(g.name)}catch{je.error("Purge failed")}},he=async R=>{R.preventDefault(),W(!0);try{await Gv(Ws(Zi,"users",s.uid),me),je.success("Profile saved")}catch{je.error("Save failed")}finally{W(!1)}};return n?A.jsx("div",{className:"min-h-screen bg-[#F8FAFC] flex flex-col items-center justify-center",children:A.jsx("div",{className:"w-10 h-10 border-4 border-slate-200 border-t-emerald-500 rounded-full animate-spin"})}):A.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] flex flex-col md:flex-row text-slate-800 font-sans",children:[A.jsx(KD,{position:"top-right"}),A.jsxs("div",{className:"md:hidden flex items-center justify-between p-5 bg-white border-b border-slate-100 sticky top-0 z-40",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center shadow-lg shadow-emerald-500/20",children:A.jsx($s,{className:"text-white w-4 h-4",strokeWidth:3})}),A.jsx("span",{className:"font-extrabold tracking-tight",children:"TnxBD"})]}),A.jsx("button",{onClick:()=>ce(!0),className:"p-2 text-slate-500 hover:bg-slate-50 rounded-lg",children:A.jsx(jN,{size:24})})]}),Z&&A.jsx("div",{className:"fixed inset-0 bg-slate-900/20 backdrop-blur-sm z-50 md:hidden",onClick:()=>ce(!1)}),A.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-72 bg-white border-r border-slate-200 flex flex-col transition-transform duration-300 md:relative md:translate-x-0
        ${Z?"translate-x-0":"-translate-x-full"}
      `,children:[A.jsx("div",{className:"p-8 hidden md:block",children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-10 h-10 bg-emerald-500 rounded-xl flex items-center justify-center shadow-lg shadow-emerald-500/20",children:A.jsx($s,{className:"text-white w-5 h-5",strokeWidth:3})}),A.jsx("span",{className:"text-xl font-black tracking-tighter",children:"TnxBD Cloud"})]})}),A.jsxs("nav",{className:"flex-1 px-4 space-y-1.5 pt-6 md:pt-0",children:[A.jsx(Xc,{active:l==="domains",onClick:()=>{u("domains"),ce(!1)},icon:A.jsx(OT,{size:18}),label:"My Nodes"}),A.jsx(Xc,{active:l==="dns",onClick:()=>g?(u("dns"),ce(!1)):je.error("Select a domain"),icon:A.jsx(SN,{size:18}),label:"DNS Records",disabled:!g}),A.jsx(Xc,{active:l==="forwarding",onClick:()=>g?(u("forwarding"),ce(!1)):je.error("Select a domain"),icon:A.jsx(pm,{size:18}),label:"URL Forward",disabled:!g}),A.jsx(Xc,{active:l==="profile",onClick:()=>{u("profile"),ce(!1)},icon:A.jsx(tD,{size:18}),label:"Identity Editor"})]}),A.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50",children:[A.jsxs("div",{className:"p-3 bg-white border border-slate-200 rounded-2xl flex items-center gap-3 mb-4 shadow-sm",children:[A.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500/10 flex items-center justify-center text-emerald-600 text-xs font-black",children:(Ie=s.email)==null?void 0:Ie[0].toUpperCase()}),A.jsxs("div",{className:"min-w-0",children:[A.jsx("p",{className:"text-xs font-bold text-slate-900 truncate",children:(ze=s.email)==null?void 0:ze.split("@")[0]}),A.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:"Premium Plan"})]})]}),A.jsxs("button",{onClick:()=>T2(zl).then(e),className:"flex items-center gap-3 w-full px-4 py-2 text-slate-400 hover:text-red-500 transition-all text-xs font-bold group",children:[A.jsx(kN,{size:16,className:"group-hover:-translate-x-1 transition-transform"})," Sign Out"]})]})]}),A.jsx("main",{className:"flex-1 p-6 lg:p-12 overflow-y-auto",children:A.jsxs("div",{className:"max-w-5xl mx-auto",children:[l==="domains"&&A.jsxs("div",{className:"animate-fade",children:[A.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6 mb-12",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight mb-2",children:"My Infrastructure"}),A.jsx("p",{className:"text-slate-500 font-medium",children:"Claim and manage professional namespaces on tnxbd.top."})]}),A.jsxs("button",{onClick:()=>B(!0),className:"w-full md:w-auto flex items-center justify-center gap-2 px-8 py-4 bg-slate-900 text-white font-bold rounded-2xl hover:bg-emerald-600 transition-all shadow-xl shadow-slate-200 active:scale-95",children:[A.jsx(gm,{size:20,strokeWidth:3})," Claim Handle"]})]}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-12",children:[A.jsx(_m,{icon:A.jsx($s,{className:"text-emerald-500"}),label:"Active Nodes",val:f.length}),A.jsx(_m,{icon:A.jsx(DT,{className:"text-blue-500"}),label:"Avg Latency",val:"14ms"}),A.jsx(_m,{icon:A.jsx(ah,{className:"text-orange-500"}),label:"SSL Ready",val:"100%"})]}),A.jsxs("div",{className:"grid gap-4",children:[f.map(R=>A.jsxs("div",{className:"p-6 bg-white border border-slate-100 rounded-3xl flex flex-col sm:flex-row sm:items-center justify-between group hover:border-emerald-200 hover:shadow-2xl hover:shadow-slate-100 transition-all",children:[A.jsxs("div",{className:"flex items-center gap-5 mb-4 sm:mb-0",children:[A.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-50 flex items-center justify-center text-slate-400 group-hover:bg-emerald-50 group-hover:text-emerald-500 transition-all",children:A.jsx($s,{size:28})}),A.jsxs("div",{children:[A.jsxs("h3",{className:"text-lg font-bold text-slate-900",children:[R.name,".tnxbd.top"]}),A.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[A.jsxs("span",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest flex items-center gap-1.5",children:[A.jsx(ah,{size:10,className:"text-emerald-500"})," Edge Active"]}),R.forwardingUrl&&A.jsxs("span",{className:"text-[10px] text-blue-500 font-black uppercase tracking-widest flex items-center gap-1.5",children:[A.jsx(pm,{size:10})," Redirecting"]})]})]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:()=>nt(R),className:"flex-1 sm:flex-none px-6 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-bold hover:bg-emerald-600 transition-all",children:"Manage Node"}),A.jsx("a",{href:`?site=${R.name}`,target:"_blank",className:"p-2.5 bg-slate-50 border border-slate-100 rounded-xl text-slate-400 hover:text-slate-900 transition-all",children:A.jsx(RN,{size:18})})]})]},R.id)),f.length===0&&A.jsxs("div",{className:"py-24 text-center border-2 border-dashed border-slate-200 rounded-[3rem] bg-white",children:[A.jsx($s,{size:40,className:"mx-auto text-slate-200 mb-6"}),A.jsx("p",{className:"text-slate-400 font-bold mb-4",children:"You have not claimed any handles yet."}),A.jsx("button",{onClick:()=>B(!0),className:"text-emerald-500 font-black uppercase text-xs tracking-widest hover:underline",children:"Get Started "})]})]})]}),l==="dns"&&g&&A.jsxs("div",{className:"animate-fade",children:[A.jsxs("div",{className:"flex items-center gap-6 mb-10 pb-8 border-b border-slate-100",children:[A.jsx("button",{onClick:()=>u("domains"),className:"p-3 bg-white border border-slate-100 rounded-2xl text-slate-500 hover:bg-slate-50 transition-all",children:A.jsx(Ch,{size:20})}),A.jsxs("div",{children:[A.jsxs("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:[g.name,".tnxbd.top"]}),A.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Zone Control Panel  Cloudflare Edge"})]})]}),A.jsxs("form",{onSubmit:G,className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-8 bg-white rounded-[2.5rem] border border-slate-100 mb-8 shadow-xl shadow-slate-50",children:[A.jsxs("div",{className:"space-y-1.5",children:[A.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Record Type"}),A.jsxs("select",{value:w.type,onChange:R=>N({...w,type:R.target.value}),className:"w-full bg-slate-50 border border-slate-100 rounded-xl px-4 py-3.5 text-sm font-bold focus:ring-4 focus:ring-emerald-500/5 focus:border-emerald-500 outline-none transition-all appearance-none",children:[A.jsx("option",{value:"A",children:"A (Address)"}),A.jsx("option",{value:"CNAME",children:"CNAME (Alias)"}),A.jsx("option",{value:"MX",children:"MX (Mail Server)"}),A.jsx("option",{value:"TXT",children:"TXT (Verification)"})]})]}),A.jsxs("div",{className:"space-y-1.5 md:col-span-2",children:[A.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Value / Content"}),A.jsx("input",{placeholder:"IP Address or Destination Host",required:!0,value:w.content,onChange:R=>N({...w,content:R.target.value}),className:"w-full bg-slate-50 border border-slate-100 rounded-xl px-5 py-3.5 text-sm font-mono focus:ring-4 focus:ring-emerald-500/5 focus:border-emerald-500 outline-none transition-all placeholder:text-slate-300"})]}),A.jsx("div",{className:"flex items-end",children:A.jsxs("button",{type:"submit",disabled:J,className:"w-full h-[54px] bg-slate-900 text-white font-black rounded-xl text-xs hover:bg-emerald-600 transition-all flex items-center justify-center gap-2 active:scale-95 shadow-lg shadow-slate-100",children:[J?A.jsx(Bl,{size:18,className:"animate-spin"}):A.jsx(gm,{size:18,strokeWidth:3})," Add Record"]})})]}),A.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 overflow-hidden shadow-2xl shadow-slate-50",children:A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full text-left text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-slate-50/50 text-[10px] font-black uppercase tracking-widest text-slate-400 border-b border-slate-100",children:[A.jsx("th",{className:"px-8 py-5",children:"Type"}),A.jsx("th",{className:"px-8 py-5",children:"Hostname"}),A.jsx("th",{className:"px-8 py-5",children:"Content"}),A.jsx("th",{className:"px-8 py-5 text-right",children:"Actions"})]})}),A.jsxs("tbody",{className:"divide-y divide-slate-100",children:[T.map(R=>A.jsxs("tr",{className:"hover:bg-slate-50/30 transition-colors",children:[A.jsx("td",{className:"px-8 py-6",children:A.jsx("span",{className:"px-3 py-1 bg-emerald-50 text-[10px] font-black text-emerald-600 rounded-lg",children:R.type})}),A.jsx("td",{className:"px-8 py-6 font-bold text-slate-900",children:R.name}),A.jsx("td",{className:"px-8 py-6 font-mono text-slate-400 text-xs truncate max-w-[200px]",children:R.content}),A.jsx("td",{className:"px-8 py-6 text-right",children:A.jsx("button",{onClick:()=>ne(R.id),className:"p-3 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all",children:A.jsx(WN,{size:18})})})]},R.id)),T.length===0&&A.jsx("tr",{children:A.jsx("td",{colSpan:4,className:"py-24 text-center text-slate-300 font-bold",children:"No active records in this zone."})})]})]})})})]}),l==="forwarding"&&g&&A.jsxs("div",{className:"animate-fade",children:[A.jsxs("div",{className:"flex items-center gap-6 mb-12",children:[A.jsx("button",{onClick:()=>u("domains"),className:"p-3 bg-white border border-slate-100 rounded-2xl text-slate-500 hover:bg-slate-50 transition-all",children:A.jsx(Ch,{size:20})}),A.jsxs("div",{children:[A.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"URL Forwarding"}),A.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Global Redirect Engine"})]})]}),A.jsxs("div",{className:"max-w-2xl bg-white p-10 rounded-[3rem] border border-slate-100 shadow-2xl shadow-slate-50",children:[A.jsxs("div",{className:"mb-8 p-6 bg-blue-50 border border-blue-100 rounded-2xl flex items-start gap-4",children:[A.jsx(CN,{className:"text-blue-500 shrink-0 mt-0.5",size:20}),A.jsxs("p",{className:"text-blue-800 text-sm font-medium leading-relaxed",children:["Redirect all traffic from ",A.jsxs("span",{className:"font-bold underline",children:[g.name,".tnxbd.top"]})," to any external URL. Note: DNS A/CNAME records may take precedence depending on edge configuration."]})]}),A.jsxs("form",{onSubmit:I,className:"space-y-6",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Destination URL"}),A.jsxs("div",{className:"relative",children:[A.jsx(pm,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300",size:18}),A.jsx("input",{type:"url",placeholder:"https://example.com/profile",value:Le,onChange:R=>D(R.target.value),className:"w-full pl-14 pr-6 py-5 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-4 focus:ring-emerald-500/5 focus:border-emerald-500 outline-none transition-all font-bold text-slate-900"})]})]}),A.jsxs("button",{type:"submit",disabled:J,className:"w-full py-5 bg-slate-900 text-white font-black rounded-2xl hover:bg-emerald-600 transition-all shadow-xl shadow-slate-100 active:scale-95 flex items-center justify-center gap-3",children:[J?A.jsx(Bl,{className:"animate-spin",size:20}):A.jsx(Qv,{size:20})," Update Forwarding"]})]})]})]}),l==="profile"&&A.jsxs("div",{className:"animate-fade",children:[A.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tight mb-12",children:"Public Identity"}),A.jsx("form",{onSubmit:he,className:"max-w-2xl",children:A.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-2xl shadow-slate-50 space-y-8",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Display Identity"}),A.jsx("input",{value:me.displayName,onChange:R=>ue({...me,displayName:R.target.value}),className:"w-full bg-slate-50 border border-slate-100 rounded-2xl px-6 py-5 text-lg font-bold text-slate-900 focus:ring-4 focus:ring-emerald-500/5 focus:border-emerald-500 outline-none transition-all",placeholder:"e.g. Satoshi Nakamoto"})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Short Bio"}),A.jsx("textarea",{rows:4,value:me.bio,onChange:R=>ue({...me,bio:R.target.value}),className:"w-full bg-slate-50 border border-slate-100 rounded-2xl px-6 py-5 font-bold text-slate-600 focus:ring-4 focus:ring-emerald-500/5 focus:border-emerald-500 outline-none transition-all resize-none",placeholder:"Share your aesthetic mission..."})]}),A.jsxs("div",{className:"pt-6 border-t border-slate-50 flex flex-col sm:flex-row items-center justify-between gap-6",children:[A.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[A.jsx(ah,{size:14,className:"text-emerald-500"})," Identity Sync Active"]}),A.jsxs("button",{type:"submit",disabled:J,className:"w-full sm:w-auto px-12 py-5 bg-slate-900 text-white font-black rounded-2xl hover:bg-emerald-600 transition-all shadow-xl shadow-slate-100 active:scale-95 flex items-center justify-center gap-3",children:[J?A.jsx(Bl,{className:"animate-spin",size:20}):A.jsx(Qv,{size:20})," Save Identity"]})]})]})})]})]})}),x&&A.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-900/40 backdrop-blur-md animate-fade",children:A.jsxs("div",{className:"w-full max-w-lg bg-white rounded-[3rem] p-12 shadow-2xl relative overflow-hidden",children:[A.jsx("button",{onClick:()=>B(!1),className:"absolute top-10 right-10 p-2 text-slate-300 hover:text-slate-900 transition-colors",children:A.jsx(iD,{size:24})}),A.jsxs("div",{className:"text-center mb-10",children:[A.jsx("div",{className:"w-16 h-16 bg-emerald-50 text-emerald-500 rounded-3xl flex items-center justify-center mx-auto mb-6",children:A.jsx(gm,{size:32,strokeWidth:3})}),A.jsx("h3",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Claim Handle"}),A.jsx("p",{className:"text-slate-400 text-sm font-bold mt-2",children:"Choose your unique namespace on the cluster."})]}),A.jsxs("form",{onSubmit:L,className:"space-y-8",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Handle Name"}),A.jsxs("div",{className:"flex bg-slate-50 border border-slate-100 rounded-2xl overflow-hidden focus-within:ring-4 focus-within:ring-emerald-500/5 focus-within:border-emerald-500 transition-all",children:[A.jsx("input",{autoFocus:!0,required:!0,value:Ve,onChange:R=>Ge(R.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")),className:"flex-1 bg-transparent px-6 py-5 font-bold text-slate-900 outline-none",placeholder:"my-handle"}),A.jsx("div",{className:"bg-slate-100 px-6 flex items-center text-slate-500 font-black text-xs border-l border-slate-200",children:".tnxbd.top"})]})]}),A.jsx("button",{type:"submit",disabled:J,className:"w-full py-5 bg-slate-900 text-white font-black rounded-2xl hover:bg-emerald-600 transition-all shadow-xl shadow-slate-100 active:scale-95",children:J?"Provisioning Handle...":"Initialize Node"})]})]})})]})},Xc=({active:s,icon:e,label:n,onClick:r,disabled:l})=>A.jsxs("button",{onClick:r,disabled:l,className:`
      flex items-center gap-4 w-full px-5 py-4 rounded-2xl transition-all font-bold group relative
      ${s?"bg-emerald-50 text-emerald-600":"text-slate-500 hover:text-slate-900 hover:bg-slate-50"}
      ${l?"opacity-30 cursor-not-allowed grayscale":""}
    `,children:[A.jsx("span",{className:`${s?"text-emerald-500":"text-slate-400 group-hover:text-slate-600"}`,children:e}),A.jsx("span",{className:"text-sm tracking-tight",children:n}),s&&A.jsx("div",{className:"absolute right-4 w-1.5 h-1.5 bg-emerald-500 rounded-full"})]}),_m=({label:s,val:e,icon:n})=>A.jsxs("div",{className:"p-8 bg-white rounded-[2.5rem] border border-slate-100 shadow-xl shadow-slate-50 hover:translate-y-[-4px] transition-all",children:[A.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-2xl flex items-center justify-center mb-6",children:n}),A.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-1.5",children:s}),A.jsx("p",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:e})]}),$v=({onBack:s})=>{const[e,n]=ae.useState("login"),[r,l]=ae.useState(""),[u,f]=ae.useState(""),[p,g]=ae.useState(!1),[y,T]=ae.useState(null),[S,x]=ae.useState(""),B=async J=>{var W;J.preventDefault(),T(null),x(""),g(!0);try{if(e==="login")try{await y2(zl,r,u)}catch(Z){if(Z.code==="auth/invalid-credential"||Z.code==="auth/user-not-found")T({msg:"User not found. Join the network today.",code:"signup_hint"});else throw Z}else if(e==="signup"){const Z=await g2(zl,r,u);await xT(Ws(Zi,"users",Z.user.uid),{email:Z.user.email,displayName:(W=Z.user.email)==null?void 0:W.split("@")[0],createdAt:new Date().toISOString(),status:"active"})}else await p2(zl,r),x("Reset instructions sent to your email.")}catch(Z){T({msg:Z.message.replace("Firebase:","").trim()})}finally{g(!1)}};return A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#FDFDFD] px-4 py-12 font-sans selection:bg-emerald-500 selection:text-white",children:A.jsxs("div",{className:"max-w-md w-full animate-in fade-in zoom-in duration-500",children:[A.jsxs("div",{className:"text-center mb-12",children:[A.jsx("div",{className:"w-16 h-16 bg-emerald-500 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-2xl shadow-emerald-500/20",children:A.jsx($s,{className:"text-white w-8 h-8",strokeWidth:3})}),A.jsx("h2",{className:"text-4xl font-black text-slate-900 tracking-tight",children:e==="login"?"Console Login":e==="signup"?"Claim Identity":"Secure Reset"})]}),A.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-[0_50px_100px_-20px_rgba(0,0,0,0.05)] border border-slate-100 relative",children:[A.jsxs("button",{onClick:s,className:"group flex items-center gap-2 text-slate-400 hover:text-emerald-500 mb-10 transition-all font-bold text-xs uppercase tracking-widest",children:[A.jsx(Ch,{size:16,className:"group-hover:-translate-x-1 transition-transform"}),A.jsx("span",{children:"Home"})]}),A.jsxs("form",{onSubmit:B,className:"space-y-6",children:[y&&A.jsxs("div",{className:"p-5 bg-red-50 border border-red-100 rounded-[1.5rem] flex items-start gap-4",children:[A.jsx(pN,{className:"text-red-500 shrink-0 mt-0.5",size:20}),A.jsxs("div",{className:"flex-1",children:[A.jsx("p",{className:"text-red-700 text-sm font-bold leading-snug",children:y.msg}),y.code==="signup_hint"&&A.jsx("button",{type:"button",onClick:()=>{n("signup"),T(null)},className:"text-red-900 text-[10px] font-black underline mt-2 uppercase tracking-widest",children:"Create New Account"})]})]}),S&&A.jsxs("div",{className:"p-5 bg-emerald-50 border border-emerald-100 text-emerald-800 text-sm rounded-[1.5rem] font-bold flex items-center gap-4 animate-in zoom-in duration-300",children:[A.jsx(MT,{size:20,className:"text-emerald-500"}),S]}),A.jsxs("div",{className:"space-y-1.5",children:[A.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email Address"}),A.jsxs("div",{className:"relative",children:[A.jsx(UN,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300",size:18}),A.jsx("input",{type:"email",required:!0,value:r,onChange:J=>l(J.target.value),className:"w-full pl-14 pr-6 py-5 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-4 focus:ring-emerald-500/5 focus:border-emerald-500 outline-none transition-all font-bold text-slate-900 placeholder:text-slate-200",placeholder:"admin@tnxbd.top"})]})]}),e!=="reset"&&A.jsxs("div",{className:"space-y-1.5",children:[A.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Secure Password"}),A.jsxs("div",{className:"relative",children:[A.jsx(MN,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-300",size:18}),A.jsx("input",{type:"password",required:!0,value:u,onChange:J=>f(J.target.value),className:"w-full pl-14 pr-6 py-5 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-4 focus:ring-emerald-500/5 focus:border-emerald-500 outline-none transition-all font-bold text-slate-900 placeholder:text-slate-200",placeholder:""})]}),e==="login"&&A.jsx("button",{type:"button",onClick:()=>n("reset"),className:"text-[9px] font-black text-slate-400 hover:text-emerald-500 uppercase tracking-widest mt-2 ml-auto block",children:"Forgot Access Key?"})]}),A.jsx("button",{disabled:p,type:"submit",className:"w-full py-5 bg-slate-900 text-white rounded-[1.5rem] font-black hover:bg-emerald-600 transition-all shadow-2xl shadow-slate-100 hover:shadow-emerald-200 active:scale-[0.98] flex items-center justify-center gap-3 disabled:opacity-70",children:p?A.jsx(Bl,{className:"animate-spin",size:20}):e==="login"?"Enter Console":e==="signup"?"Initialize Network":"Request Access"})]}),A.jsx("div",{className:"mt-12 text-center",children:e==="login"?A.jsx("button",{onClick:()=>n("signup"),className:"text-xs font-black text-slate-400 hover:text-emerald-500 transition-colors uppercase tracking-widest",children:"Join the Edge Cluster "}):A.jsx("button",{onClick:()=>n("login"),className:"text-xs font-black text-slate-400 hover:text-emerald-500 transition-colors uppercase tracking-widest",children:"Return to Base Console "})})]})]})})},ZD=({onBack:s})=>{const[e,n]=ae.useState(null),[r,l]=ae.useState(null),[u,f]=ae.useState(!0);return ae.useEffect(()=>{(async()=>{const y=new URLSearchParams(window.location.search).get("site");if(y)try{const T=Ws(Zi,"subdomains",y),S=await Jl(T);if(S.exists()){const x=S.data();n(x);const B=Ws(Zi,"users",x.userId),J=await Jl(B);J.exists()&&l(J.data())}}catch(T){console.error("DNS Resolution Error:",T)}f(!1)})()},[]),u?A.jsx("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center",children:A.jsx("div",{className:"w-10 h-10 border-2 border-slate-100 border-t-emerald-500 rounded-full animate-spin"})}):e?A.jsxs("div",{className:"min-h-screen bg-[#FDFDFD] text-slate-900 flex flex-col items-center justify-center p-6 relative overflow-hidden font-sans selection:bg-emerald-500 selection:text-white",children:[A.jsx("div",{className:"absolute -top-24 -left-24 w-96 h-96 bg-emerald-400/10 blur-[120px] rounded-full opacity-60"}),A.jsx("div",{className:"absolute -bottom-24 -right-24 w-[500px] h-[500px] bg-blue-400/5 blur-[120px] rounded-full opacity-60"}),A.jsxs("div",{className:"max-w-2xl w-full relative z-10 animate-in fade-in slide-in-from-bottom-8 duration-1000",children:[A.jsx("div",{className:"bg-white/70 backdrop-blur-xl border border-slate-100 rounded-[4rem] p-12 lg:p-20 text-center shadow-[0_50px_100px_-20px_rgba(0,0,0,0.03)] relative",children:A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsxs("div",{className:"w-40 h-40 rounded-[3rem] bg-white border border-slate-100 flex items-center justify-center mb-10 shadow-2xl relative group overflow-hidden",children:[A.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),A.jsx(bN,{size:80,className:"text-slate-900 group-hover:scale-110 transition-transform duration-500",strokeWidth:1}),A.jsx("div",{className:"absolute bottom-4 right-4 bg-emerald-500 p-2.5 rounded-2xl shadow-xl",children:A.jsx(ah,{size:20,className:"text-white"})})]}),A.jsx("h1",{className:"text-5xl lg:text-7xl font-black tracking-tighter mb-4 text-slate-900",children:(r==null?void 0:r.displayName)||e.name}),A.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3 rounded-full bg-slate-900 text-white text-[10px] font-black tracking-[0.2em] uppercase mb-12 shadow-xl shadow-slate-200",children:[A.jsx(VT,{size:14,className:"fill-emerald-400 text-emerald-400"}),A.jsxs("span",{children:[e.name,".tnxbd.top"]})]}),A.jsxs("p",{className:"text-2xl text-slate-500 font-medium leading-relaxed max-w-md mx-auto mb-16 italic",children:['"',(r==null?void 0:r.bio)||"Initializing digital identity node...",'"']}),A.jsxs("div",{className:"w-full grid grid-cols-2 gap-6",children:[A.jsx(Jv,{icon:A.jsx(KN,{size:20}),label:"Security",val:"Edge SSL Active",color:"emerald"}),A.jsx(Jv,{icon:A.jsx(DT,{size:20}),label:"Connectivity",val:"Global Edge CDN",color:"blue"})]})]})}),A.jsxs("div",{className:"mt-16 flex flex-col items-center gap-12 opacity-30 hover:opacity-100 transition-opacity",children:[A.jsxs("button",{onClick:s,className:"flex items-center gap-4 text-[10px] font-black uppercase tracking-[0.4em] text-slate-500 hover:text-emerald-500 transition-all group",children:[A.jsx(Ch,{size:18,className:"group-hover:-translate-x-1 transition-transform"})," Portal Entry"]}),A.jsxs("div",{className:"flex items-center gap-3 font-black text-3xl tracking-tighter italic text-slate-900 grayscale hover:grayscale-0 transition-all",children:[A.jsx(MT,{className:"text-emerald-500"}),"TnxBD INFRA"]})]})]})]}):A.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] flex flex-col items-center justify-center p-6 text-center",children:[A.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center shadow-xl mb-10 text-red-500",children:A.jsx(JN,{size:40})}),A.jsx("h1",{className:"text-4xl font-black text-slate-900 mb-4 tracking-tighter italic",children:"UNRESOLVED NODE"}),A.jsx("p",{className:"text-slate-400 font-bold mb-10 max-w-sm",children:"This subdomain is not currently registered on the TnxBD edge network."}),A.jsx("button",{onClick:s,className:"px-10 py-5 bg-slate-900 text-white font-black rounded-3xl uppercase text-[10px] tracking-[0.3em] shadow-2xl shadow-slate-200",children:"Return to Portal"})]})},Jv=({icon:s,label:e,val:n,color:r})=>{const l={emerald:"text-emerald-500 bg-emerald-50",blue:"text-blue-500 bg-blue-50"};return A.jsxs("div",{className:"p-8 bg-slate-50 border border-slate-100 rounded-[2.5rem] text-left group hover:bg-white hover:border-slate-200 transition-all cursor-default",children:[A.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center mb-5 ${l[r]}`,children:s}),A.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:e}),A.jsx("p",{className:"text-xs font-bold text-slate-900",children:n})]})},WD=()=>{const[s,e]=ae.useState(null),[n,r]=ae.useState(!0),[l,u]=ae.useState("landing");if(ae.useEffect(()=>{if(new URLSearchParams(window.location.search).get("site"))u("profile"),r(!1);else{const y=E2(zl,T=>{e(T),r(!1),T&&(l==="auth"||l==="landing")&&u("dashboard")});return()=>y()}},[l]),n)return A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-[#050505]",children:[A.jsx("div",{className:"w-8 h-8 border-2 border-emerald-500/20 border-t-emerald-500 rounded-full animate-spin"}),A.jsx("p",{className:"mt-4 text-[9px] font-black text-slate-700 tracking-[0.4em] uppercase",children:"Initializing Edge"})]});const f=()=>{switch(l){case"profile":return A.jsx(ZD,{onBack:()=>{const p=new URL(window.location.href);p.searchParams.delete("site"),window.history.pushState({},"",p),u(s?"dashboard":"landing")}});case"auth":return A.jsx($v,{onBack:()=>u("landing")});case"dashboard":return s?A.jsx(JD,{user:s,onLogout:()=>u("landing")}):A.jsx($v,{onBack:()=>u("landing")});case"landing":default:return A.jsx(QD,{onStart:()=>u(s?"dashboard":"auth")})}};return A.jsx("div",{className:"min-h-screen bg-[#050505]",children:f()})},qT=document.getElementById("root");if(!qT)throw new Error("Could not find root element to mount to");const e4=NA.createRoot(qT);e4.render(A.jsx(bA.StrictMode,{children:A.jsx(WD,{})}));
